(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){e.exports=a.p+"static/media/image-preview.df803060.png"},135:function(e,t,a){e.exports=a(169)},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=a(17),s=a(42),i=a(14),u=a.n(i),d=a(101),m=a.n(d),p=a(2),E=function(e){var t=e.component,a=e.authenticated,n=e.path,c=Object(p.a)(e,["component","authenticated","path"]);return r.a.createElement(s.b,Object.assign({path:n},c,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/"})}}))},f=function(e){var t=e.component,a=e.authenticated,n=e.path,c=Object(p.a)(e,["component","authenticated","path"]);return r.a.createElement(s.b,Object.assign({path:n},c,{render:function(e){return a?r.a.createElement(s.a,{to:"/Home"}):r.a.createElement(t,e)}}))},b=a(8),g=a.n(b);u.a.defaults.baseURL="http://localhost:5000/api/";var O=function(e){localStorage.setItem("x-auth-token",e),u.a.defaults.headers.common.Authorization=localStorage.getItem("x-auth-token")};function v(){return function(e){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"LOADING"}),a.next=4,g.a.awrap(u.a.get("/users/me"));case 4:t=a.sent,e({type:"USER_LOGGED",payload:t.data}),e({type:"LOADED"}),e({type:"LOADED_SUB"}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,10]])}}function h(e){return function(t){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:localStorage.removeItem("x-auth-token"),delete u.a.defaults.headers.common.Authorization,t({type:"UNAUTHENTICATED"}),e.push("/");case 4:case"end":return a.stop()}}))}}var y=a(6),j=a(12),S=a(7),x=a(10),w=a(36),_=a(228),L=a(207),P=a(208);function T(e){var t=Object(y.b)(),a=Object(y.c)((function(e){return e.user.errors})),c=Object(y.c)((function(e){return e.user.loading})),o=Object(n.useState)({email:"",password:"",confirmPassword:"",username:""}),s=Object(x.a)(o,2),i=s[0],d=s[1],m=function(e){d(Object(S.a)({},i,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:function(a){i.password===i.confirmPassword?(a.preventDefault(),t(function(e,t){return function(a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"LOADING"}),r.prev=1,r.next=4,g.a.awrap(u.a.post("/user/register",e));case 4:n=r.sent,a({type:"LOADED"}),O(n.data.token),a({type:"AUTHENTICATED"}),a({type:"CLEAR_ERRORS"}),t.push("/Home"),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0.response.data.errors),a({type:"SET_ERRORS",payload:r.t0.response.data.errors}),a({type:"LOADED"});case 17:case"end":return r.stop()}}),null,null,[[1,12]])}}(i,e.history))):(a.preventDefault(),t({type:"SET_ERRORS",payload:{confirmPassword:"Las contrase\xf1as deben coincidir"}}))}},r.a.createElement(w.a,{variant:"h3"},"Reg\xedstrate!"),r.a.createElement(_.a,{error:!!a.email,required:!0,id:"email",name:"email",type:"email",label:a?a.email:"Email",value:i.email,onChange:m,fullWidth:!0}),r.a.createElement(_.a,{error:!!a.password,inputProps:{minLength:6,maxLength:20},id:"password",name:"password",type:"password",label:a.password?a.password:"Contrase\xf1a",value:i.password,onChange:m,fullWidth:!0,required:!0}),r.a.createElement(_.a,{required:!0,error:!!a.confirmPassword,inputProps:{minLength:6,maxLength:20},id:"confirmPassword",name:"confirmPassword",type:"password",label:a.confirmPassword?a.confirmPassword:"Confirmar contrase\xf1a",value:i.confirmPassword,onChange:m,fullWidth:!0}),r.a.createElement(_.a,{inputProps:{minLength:4,maxLength:20},error:!!a.username,id:"username",name:"username",type:"text",label:a?a.username:"Nombre completo",value:i.username,onChange:m,helperText:"Todos veran tu nombre",fullWidth:!0,required:!0}),r.a.createElement(L.a,{disabled:c,type:"submit",variant:"contained",color:"primary",style:{margin:"25px auto 25px auto"}},"Registrarse!",c&&r.a.createElement(P.a,{style:{marginLeft:15},size:30})),r.a.createElement("br",null),r.a.createElement("small",null,"Tienes una cuenta? ",r.a.createElement(l.b,{style:{textDecoration:"none",color:"#046B86"},to:"/"}," Inicia sesi\xf3n "))))}var D=a(71),k=a.n(D),C=a(209),I=a(106),N=a.n(I),R=a(231),A=a(210),U=a(211),G=a(170),F=a(105),W=a.n(F),B=a(212),H=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function z(e){var t=Object(y.c)((function(e){return e.user.loggedUser})),a=Object(y.c)((function(e){return e.user.loading})),c=Object(y.b)();Object(n.useEffect)((function(){c(v())}),[c]);var o=H();return r.a.createElement("nav",{className:o.root},r.a.createElement(A.a,{position:"fixed",style:{backgroundColor:"#121212"}},r.a.createElement(U.a,null,a?r.a.createElement("div",null,r.a.createElement("img",{alt:"no-profile",src:k.a,height:50,width:50,style:{borderRadius:"50%",margin:10}})):r.a.createElement("div",null,r.a.createElement("img",{alt:"profile",src:t.profileImg,height:50,width:50,style:{borderRadius:"50%",margin:10}})),r.a.createElement(w.a,{variant:"h6",className:o.title,style:{margin:15}},a?r.a.createElement(B.a,{width:150,animation:"wave"}):r.a.createElement("div",null," ",t.username," ")),r.a.createElement("div",null,r.a.createElement(R.a,{title:"Perfil"},r.a.createElement(l.b,{style:{textDecoration:"none",color:"white"},to:"/users/".concat(t._id)},r.a.createElement(G.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit"},r.a.createElement(W.a,null)))),r.a.createElement(R.a,{title:"Desconectarse"},r.a.createElement(G.a,{onClick:function(){c(h(e.history))},color:"inherit"},r.a.createElement(N.a,null)))))))}var q=a(214),M=a(206),K=a(215),V=a(217),X=a(213),Y=a(107),J=a.n(Y),$=a(108),Q=a.n($),Z=a(216),ee=a(232),te=a(120),ae=Object(C.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function ne(e){var t=Object(y.c)((function(e){return e.user.loggedUser})),a=e.open,c=ae();return r.a.createElement(n.Fragment,null,a?r.a.createElement(J.a,null):r.a.createElement(Q.a,null),r.a.createElement(X.a,{in:a,timeout:"auto",unmountOnExit:!0,style:{position:"absolute",transform:"translateY(20px)"}},r.a.createElement(te.a,null,r.a.createElement(M.a,{style:{maxHeight:500,width:210,overflowY:"auto"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(q.a,{component:"div",id:"nested-list-subheader"},"Usuarios..."),className:c.root},e.searchResults.filter((function(e){return e._id!==t._id})).map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(l.b,{style:{textDecoration:"none"},to:"/users/".concat(e._id)}," ",r.a.createElement(K.a,{button:!0,className:c.nested},r.a.createElement(Z.a,null,r.a.createElement(ee.a,{src:e.profileImg})),r.a.createElement(V.a,{secondary:e.username}))))}))))))}function re(e){return function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(u.a.get("/comments/".concat(e)));case 3:a=n.sent,t({type:"SET_POST_COMMENTS",payload:a.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.response);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}var ce=a(109),oe=a.n(ce),le=a(234),se=a(18),ie=a(110),ue=a.n(ie),de=a(72),me=a.n(de),pe=Object(C.a)((function(e){return{root:{flexGrow:1,marginTop:80},title:Object(j.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(j.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(se.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(se.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(j.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));function Ee(e){var t=Object(y.c)((function(e){return e.data.usersList})),a=Object(n.useState)(!1),c=Object(x.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),i=Object(x.a)(s,2),d=i[0],m=i[1],p=Object(n.useState)([]),E=Object(x.a)(p,2),f=E[0],b=E[1],O=Object(n.useState)(0),v=Object(x.a)(O,2),h=v[0],j=v[1],S=Object(y.b)(),w=pe(),_=e.handlePosts,P=e.setHandlePosts;Object(n.useEffect)((function(){var e=t.filter((function(e){return e.username.toLocaleLowerCase().includes(d.toLocaleLowerCase())}));b(e)}),[d,t]);var T=function(e){h&&clearTimeout(h),m(e.target.value),l(!0),j(setTimeout((function(){return S((e=d,function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(u.a.get("/users/?search=".concat(e)));case 3:a=n.sent,console.log(a.data),t({type:"SET_USERS",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}));var e}),1e3))};return r.a.createElement("div",{className:w.root},r.a.createElement(A.a,{position:"static",style:{backgroundColor:"#121212"}},r.a.createElement(U.a,null,r.a.createElement("div",{className:"posts-navbar-container"},r.a.createElement("div",null,r.a.createElement(L.a,{onClick:function(){return P(!0)},variant:"contained",style:{backgroundColor:_?"#e5e5e5":"#121212"}},r.a.createElement(me.a,{style:{color:"#888888"}})),r.a.createElement(L.a,{onClick:function(){return P(!1)},variant:"contained",style:{backgroundColor:_?"#121212":"#e5e5e5"}},r.a.createElement(oe.a,{style:{color:"#888888"}}))),r.a.createElement("div",{className:w.search},r.a.createElement("div",{className:w.searchIcon},r.a.createElement(ue.a,null)),r.a.createElement(le.a,{onChange:T,value:d,onFocus:T,onBlur:function(){return l(!1)},placeholder:"Buscar...",classes:{root:w.inputRoot,input:w.inputInput},inputProps:{"aria-label":"search"}}),r.a.createElement(ne,{open:o,setOpen:l,searchResults:f}))))))}var fe=a(111),be=a.n(fe),ge=a(230),Oe=a(219),ve=a(218);function he(e){var t=Object(n.useState)(!1),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(y.c)((function(e){return e.UI.deleting})),s=Object(y.b)();Object(n.useEffect)((function(){l||o(!1)}),[l]);return r.a.createElement("div",null,r.a.createElement(R.a,{title:"Borrar Post",placement:"bottom"},r.a.createElement(G.a,{onClick:function(){return o(!0)}},r.a.createElement(be.a,{color:"primary"}))),r.a.createElement(ge.a,{open:c,onClose:function(){return o(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(ve.a,null," Estas Seguro de que quieres borrar esta publicac\xedon ? "),r.a.createElement(Oe.a,null,r.a.createElement(L.a,{disabled:l,onClick:function(){var t;s((t=e.post_id,function(e){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"DELETING"}),a.next=4,g.a.awrap(u.a.delete("/posts/".concat(t,"/delete")));case 4:e({type:"DELETE_POST",payload:t}),e({type:"DELETED"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}))},variant:"contained",color:"primary"},"Si ",l&&r.a.createElement(P.a,{style:{marginLeft:15},size:30})),r.a.createElement(L.a,{onClick:function(){return o(!1)},variant:"contained",color:"secondary"},"Cancelar"))))}var ye=a(59),je=a.n(ye),Se=a(112),xe=a.n(Se),we=a(113),_e=a.n(we);function Le(e){var t=Object(y.b)(),a=Object(y.c)((function(e){return e.user.loggedUser})),n=e.post,c=n.likes,o=n._id,l=!!(a&&c&&c.filter((function(e){return e.user===a._id})).length>0);return r.a.createElement("div",null,l?r.a.createElement(G.a,{onClick:function(){var e;t((e=o,function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(u.a.delete("/posts/".concat(e,"/dislike")));case 3:a=n.sent,t({type:"SET_DISLIKE",payload:a.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}))},"aria-label":"add to favorites"},r.a.createElement(xe.a,null)," ",c&&c.length):r.a.createElement(G.a,{onClick:function(){var e;t((e=o,function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(u.a.post("/posts/".concat(e,"/like")));case 3:a=n.sent,console.log(a.data),t({type:"SET_LIKES",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),null,null,[[0,8]])}))},"aria-label":"add to favorites"},r.a.createElement(_e.a,null)," ",c&&c.length))}var Pe=a(220),Te=a(114),De=a.n(Te),ke=a(221),Ce=a(222),Ie=a(223),Ne=a(74),Re=Object(C.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ne.a[500]}}}));function Ae(e){var t=Object(y.c)((function(e){return e.UI.onSinglePost})),a=Object(y.c)((function(e){return e.user.loggedUser})),n=e.post,c=n.imageURL,o=n.description,s=n.date,i=n.userRef,u=n._id,d=n.commentCount,m=Re();return r.a.createElement(Pe.a,{elevation:8,style:{objectFit:"cover"}},r.a.createElement(ke.a,{avatar:r.a.createElement(ee.a,{"aria-label":"profile-pic",className:m.avatar},r.a.createElement(l.b,{to:"/users/".concat(i&&i._id)}," ",r.a.createElement("img",{height:50,width:50,src:i&&i.profileImg,alt:"profile-pic"})," ")),action:r.a.createElement("div",null,i&&i._id===a._id&&r.a.createElement(he,{post_id:u})),title:i&&i.username,subheader:je()(s).format("LLL")}),r.a.createElement("img",{src:c,height:350,width:"100%",alt:"Post"}),r.a.createElement(Ce.a,{style:{margin:"15px 0px 0px 15px",padding:0}},r.a.createElement(w.a,{color:"textSecondary",component:"p",style:{minHeight:20,maxHeight:20}},o),r.a.createElement(w.a,{style:{marginTop:20},variant:"body2",color:"textSecondary",component:"p"})),r.a.createElement(Ie.a,{disableSpacing:!0},r.a.createElement(Le,{post:e.post}),r.a.createElement(l.b,{style:{textDecoration:"none"},to:"/posts/".concat(u)},!t&&r.a.createElement(G.a,null,"  ",r.a.createElement(De.a,null),d,"  "))))}function Ue(){for(var e=Object(y.b)(),t=Object(y.c)((function(e){return e.data.numberOfPosts})),a=Object(n.useState)(1),c=Object(x.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)("page-1"),i=Object(x.a)(s,2),d=i[0],m=i[1],p=[],E=1;E<=o;E++)p.push(E);Object(n.useEffect)((function(){l(Math.ceil(t/8))}),[t,8]);var f=function(t){e(function(e){return function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"SET_LOADING"}),n.next=4,g.a.awrap(u.a.get("/posts/?page=".concat(e)));case 4:a=n.sent,t({type:"GET_ALL_POSTS",payload:a.data}),t({type:"SET_LOADED"}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]])}}(t)),m("page-".concat(t)),document.getElementById("page-".concat(t)).classList.add("selected-page")};return r.a.createElement("div",{className:"pagination-container"},p.map((function(e,t){return r.a.createElement("span",{className:d==="page-".concat(e)?"selected-page":null,id:"page-".concat(e),onClick:function(){return f(e)},key:t}," ",e," ")})))}function Ge(e){var t=e.allPosts,a=e.handlePosts,c=Object(y.b)(),o=Object(y.c)((function(e){return e.UI.loading}));return Object(n.useEffect)((function(){c(a?function(e){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"SET_LOADING"}),a.next=4,g.a.awrap(u.a.get("/posts/user/subscriptions"));case 4:t=a.sent,e({type:"SET_SUBSCRIPTIONS_POSTS",payload:t.data}),e({type:"SET_LOADED"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),null,null,[[0,9]])}:function(e){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"SET_LOADING"}),a.next=4,g.a.awrap(u.a.get("/posts"));case 4:t=a.sent,e({type:"GET_ALL_POSTS",payload:t.data}),e({type:"SET_LOADED"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),null,null,[[0,9]])})}),[c,a]),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("div",null,r.a.createElement("div",null," ",!a&&r.a.createElement(Ue,null)," ")),o?r.a.createElement("div",{style:{display:"flex",width:"100%",height:"100vh"}},r.a.createElement(P.a,{style:{margin:"auto"},size:60})):r.a.createElement("div",{className:a?"allPosts-container":"allPosts-container-dos"},t.map((function(e,t){return r.a.createElement(Ae,{key:t,post:e})}))))}function Fe(){var e=Object(y.c)((function(e){return e.data.allPosts})),t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"posts-container"},r.a.createElement(Ee,{setHandlePosts:o,handlePosts:c}),r.a.createElement(Ge,{allPosts:e,handlePosts:c}))}var We=a(116),Be=a.n(We),He=a(224),ze=a(115),qe=a.n(ze);function Me(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.UI.uploading})),a=Object(y.c)((function(e){return e.UI.errors})),c=Object(n.useState)(""),o=Object(x.a)(c,2),l=o[0],s=o[1],i=Object(n.useState)(""),d=Object(x.a)(i,2),m=d[0],p=d[1],E=Object(n.useState)(""),f=Object(x.a)(E,2),b=f[0],O=f[1],v=Object(n.useState)(!1),h=Object(x.a)(v,2),j=h[0],S=h[1],w=Object(n.useState)(""),T=Object(x.a)(w,2),D=T[0],k=T[1];Object(n.useEffect)((function(){k(a)}),[a]);var C=function(){S(!1),p(""),O(""),k(""),e({type:"CLEAR_ERROR"})};return Object(n.useEffect)((function(){t||D||S(!1)}),[t,D]),r.a.createElement("div",{className:"add-post-container",placement:"top"},r.a.createElement(R.a,{title:"Nuevo Post"},r.a.createElement(Be.a,{onClick:function(){S(!0),p(""),O(""),k(""),e({type:"CLEAR_ERROR"})}})),r.a.createElement(ge.a,{open:j,onClose:C,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ve.a,null," Nuevo Post "),r.a.createElement(He.a,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("input",{hidden:"hidden",id:"file-input",type:"file",placeholder:"select an image",onChange:function(e){e.preventDefault(),s(e.target.files[0]),e.target.files[0]?p(URL.createObjectURL(e.target.files[0])):p("")}}),m?r.a.createElement("img",{src:m,width:400,style:{margin:"auto"},height:400,alt:"new post"}):r.a.createElement("img",{src:qe.a,width:250,style:{margin:"auto"},height:250,alt:"preview"}),r.a.createElement(L.a,{onClick:function(t){t.preventDefault(),e({type:"CLEAR_ERROR"}),k(" "),document.getElementById("file-input").click()},style:{marginTop:30},variant:"outlined",color:"primary"},"Seleccionar Im\xe1gen"),r.a.createElement(_.a,{style:{marginTop:30},name:"descripcion",tpye:"text",multiline:!0,rows:"4",placeholder:"Si asi lo quieres, a\xf1ade una descripci\xf3n...",value:b,onChange:function(e){return O(e.target.value)},fullWidth:!0,inputProps:{maxLength:200}})),r.a.createElement("p",{style:{color:"red",fontFamily:"Open Sans",margin:"auto"}},"  ",D&&D," ")),r.a.createElement(Oe.a,null,r.a.createElement(L.a,{disabled:t,onClick:function(){if(m){var t=new FormData;t.append("image",l,l.name),t.append("description",b),e((a=t,function(e){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"UPLOADING"}),n.next=4,g.a.awrap(u.a.post("/posts/add",a,{headers:{"content-type":"multipart/form-data"}}));case 4:t=n.sent,console.log(t.data),e({type:"UPLOADED"}),e({type:"SET_NEW_POST",payload:t.data}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),e({type:"SET_ERROR",payload:n.t0.response.data}),e({type:"UPLOADED"});case 14:case"end":return n.stop()}}),null,null,[[0,10]])})),k("")}else k("Debes seleccionar una im\xe1gen primero");var a},variant:"contained",color:"primary"},"Publicar!     ",t&&r.a.createElement(P.a,{style:{marginLeft:15},size:30})),r.a.createElement(L.a,{onClick:C,variant:"contained",style:{backgroundColor:"red"},color:"secondary"},"Cancelar"))))}function Ke(e){return r.a.createElement("div",{className:"home-container"},r.a.createElement(z,{history:e.history}),r.a.createElement(Fe,null),r.a.createElement(Me,null))}function Ve(e){var t=Object(y.b)(),a=Object(y.c)((function(e){return e.user.errors})),c=Object(y.c)((function(e){return e.user.loading})),o=Object(n.useState)({email:"",password:""}),s=Object(x.a)(o,2),i=s[0],d=s[1];console.log(a);var m=function(e){d(Object(S.a)({},i,Object(j.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),t(function(e,t){return function(a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"LOADING"}),r.prev=1,r.next=4,g.a.awrap(u.a.post("/user/login",e));case 4:n=r.sent,a({type:"LOADED"}),O(n.data.token),a({type:"AUTHENTICATED"}),a({type:"CLEAR_ERRORS"}),t.push("/Home"),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0),a({type:"SET_ERRORS",payload:r.t0.response.data.errors}),a({type:"LOADED"});case 17:case"end":return r.stop()}}),null,null,[[1,12]])}}(i,e.history))}},r.a.createElement(w.a,{variant:"h3"},"Iniciar Sesi\xf3n"),r.a.createElement(_.a,{error:!!a,id:"email",name:"email",type:"email",value:i.email,onChange:m,fullWidth:!0,required:!0,label:"E-mail"}),r.a.createElement(_.a,{error:!!a,inputProps:{minLength:6,maxLength:20},id:"password",name:"password",type:"password",value:i.password,onChange:m,fullWidth:!0,required:!0,label:"Contrase\xf1a"}),a&&r.a.createElement("p",{style:{color:"red",fontFamily:"Open Sans"}}," ",a[0].msg," "),r.a.createElement(L.a,{disabled:c,type:"submit",variant:"contained",color:"primary",style:{margin:"25px auto 25px auto"}},"Ingresar!",c&&r.a.createElement(P.a,{style:{marginLeft:15},size:30})),r.a.createElement("br",null),r.a.createElement("small",null,"Si no tienes una cuenta, puedes ",r.a.createElement(l.b,{style:{textDecoration:"none",color:"#046B86"},to:"/Register"}," Registrarte Aqu\xed "))))}var Xe=Object(C.a)((function(e){return{root:{"& > *":{width:"100%"}},input:{background:"#181818"}}}));function Ye(e){var t=Object(y.b)(),a=Object(n.useState)(!1),c=Object(x.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),i=Object(x.a)(s,2),d=i[0],m=i[1],p=Xe(),E=function(a){a.preventDefault(),d&&(l(!0),console.log(d),t(function(e,t,a){return function(n){var r;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,g.a.awrap(u.a.post("/comments/".concat(t),e));case 3:r=c.sent,n({type:"SET_POST_COMMENTS",payload:r.data}),a(!1),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),null,null,[[0,8]])}}({content:d},e.selectedPost._id,l)),m(""))};return r.a.createElement("form",{className:p.root,noValidate:!0,autoComplete:"off"},r.a.createElement(_.a,{className:o&&p.input,disabled:o,type:"text",label:"A\xf1ade un comentario",rows:"2",variant:"filled",value:d,onChange:function(e){return m(e.target.value)},fullWidth:!0,onKeyPress:function(e){"Enter"===e.key&&E(e)}}))}var Je=a(117),$e=a.n(Je);function Qe(e){var t=Object(y.b)();return r.a.createElement("div",null,r.a.createElement(R.a,{title:"Borrar comentario",placement:"bottom"},r.a.createElement(G.a,{onClick:function(){var a,n;t((a=e.comment_id,n=e.selectedPost._id,function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(u.a.delete("/comments/".concat(a,"/delete")));case 3:e(re(n)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),null,null,[[0,6]])}))}},r.a.createElement($e.a,{color:"primary"}))))}var Ze=Object(C.a)((function(e){return{root:{"& > *":{width:"100%"}}}}));function et(e){var t=Object(y.b)(),a=Object(n.useState)(""),c=Object(x.a)(a,2),o=c[0],l=c[1],s=Ze(),i=function(a){a.preventDefault(),o&&(console.log("nani"),t(function(e,t){return function(a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.a.awrap(u.a.post("/comments/".concat(t,"/reply"),e));case 3:n=r.sent,a({type:"SET_REPLYS",payload:n.data}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),null,null,[[0,7]])}}({content:o},e.comment._id)),l(""))};return r.a.createElement("form",{className:s.root,noValidate:!0,autoComplete:"off"},r.a.createElement(_.a,{tpye:"text",label:"Escribe un mensaje",rows:"2",variant:"filled",value:o,onChange:function(e){return l(e.target.value)},fullWidth:!0,onKeyPress:function(e){"Enter"===e.key&&i(e)}}))}var tt=a(227),at=a(233),nt=a(225),rt=a(226),ct=Object(C.a)((function(e){return{root:{height:"90%",overflow:"auto",width:"100%",backgroundColor:e.palette.background.paper},ExpansionPanelSummary:{border:0,width:"100%",boxShadow:"none"},ExpansionPanel:{border:0,boxShadow:"none",width:"100%"},inline:{display:"inline"}}}));function ot(e){var t=Object(y.c)((function(e){return e.user.loggedUser})),a=ct();return r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(Ye,{selectedPost:e.selectedPost}),r.a.createElement(M.a,{className:a.root},r.a.createElement("div",{style:{width:"100%"}},e.comments.map((function(c,o){return r.a.createElement(n.Fragment,{key:o},r.a.createElement(K.a,{id:"comment-box",alignItems:"flex-start"},r.a.createElement(Z.a,null,r.a.createElement(ee.a,{alt:"comment profile",src:c.user_id&&c.user_id.profileImg})),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",null,r.a.createElement(V.a,{primary:c.user_id&&c.user_id.username,secondary:je()(c.date).format("LLL")}),r.a.createElement("span",{style:{position:"absolute",right:0,top:0}},t._id===c.user_id._id&&r.a.createElement(Qe,{comment_id:c._id,selectedPost:e.selectedPost}))),r.a.createElement(V.a,{primary:c.content}),r.a.createElement(at.a,{className:a.ExpansionPanel,style:{margin:0,outline:"none"}},r.a.createElement(nt.a,{className:a.ExpansionPanelSummary},r.a.createElement(V.a,{secondary:"responder (".concat(c.replys.length,")")})),r.a.createElement(rt.a,{style:{width:"100%"}},r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",maxHeight:400,overflow:"auto"}},r.a.createElement(et,{comment:c,selectedPost:e.selectedPost}),c.replys&&c.replys.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(V.a,{primary:e.username,secondary:je()(e.date).format("LLL")})),r.a.createElement(V.a,{primary:e.content})),r.a.createElement(tt.a,{variant:"inset",component:"span"}))}))))))),r.a.createElement(tt.a,{variant:"inset",component:"li"}))})))))}function lt(e){var t=e.match.params.id,a=Object(y.b)(),c=Object(y.c)((function(e){return e.data.selectedPost})),o=Object(y.c)((function(e){return e.data.comments})),l=Object(y.c)((function(e){return e.UI.loading}));return Object(n.useEffect)((function(){a(v())}),[a]),Object(n.useEffect)((function(){var n,r;a((n=t,r=e.history,function(e){var t;return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"SET_LOADING"}),a.next=4,g.a.awrap(u.a.get("/posts/post/".concat(n)));case 4:t=a.sent,e({type:"SET_POST",payload:t.data}),e({type:"SET_LOADED"}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),"El post no existe"===a.t0.response.data&&r.push("/*"),console.log(a.t0.response.data);case 13:case"end":return a.stop()}}),null,null,[[0,9]])})),a(re(t))}),[a,t,e.history]),Object(n.useEffect)((function(){return a({type:"ON_SINGLE_POST"}),function(){a({type:"CLOSE_SINGLE_POST"})}}),[a]),Object(n.useEffect)((function(){""===c&&e.history.push("/Home")}),[c,e.history]),r.a.createElement("div",{className:"fullPost-container"},l?r.a.createElement("div",{style:{display:"flex",width:"100%"}}," ",r.a.createElement(P.a,{style:{margin:"auto"},size:30})," "):r.a.createElement("div",{className:"fullPost-content-container"},r.a.createElement("div",{style:{width:"50%",height:"100%"}},r.a.createElement(Ae,{post:c})),r.a.createElement(ot,{comments:o,selectedPost:c})))}function st(e){var t=e.posts;return r.a.createElement("div",{className:"profilePosts-container"},t.map((function(e,t){return r.a.createElement(Ae,{key:t,post:e})})))}function it(e){var t=e.user_id,a=e.connectedUser,c=Object(n.useState)(!1),o=Object(x.a)(c,2),l=o[0],s=o[1],i=Object(n.useState)(!1),d=Object(x.a)(i,2),m=d[0],p=d[1],E=Object(y.b)();return r.a.createElement("div",null,a===t?r.a.createElement(n.Fragment,null,m?r.a.createElement(P.a,{style:{},size:130}):r.a.createElement("img",{src:e.src,alt:"profile",width:170,height:170,onClick:function(){return s(!0)},style:{cursor:"pointer"}}),r.a.createElement(ge.a,{open:l,onClose:function(){return s(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(ve.a,null," Cambiar foto de perfil "),r.a.createElement(He.a,null,r.a.createElement("form",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("input",{required:!0,hidden:"hidden",id:"file-input",type:"file",placeholder:"select an image",onChange:function(e){e.preventDefault();var t=e.target.files[0],a=new FormData;a.append("image",t,t.name),console.log(a),a&&(p(!0),E(function(e,t){return function(a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.a.awrap(u.a.put("/users/image",e,{headers:{"content-type":"multipart/form-data"}}));case 3:n=r.sent,a({type:"SET_SELECTED_PROFILE",payload:n.data}),t(!1),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:case"end":return r.stop()}}),null,null,[[0,8]])}}(a,p)),s(!1))}}),r.a.createElement(L.a,{onClick:function(e){e.preventDefault(),document.getElementById("file-input").click()},variant:"outlined",color:"primary"},"Subir Foto"))),r.a.createElement(Oe.a,null,r.a.createElement(L.a,{onClick:function(){return s(!1)},variant:"contained",color:"secondary"},"Cancelar")))):r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:e.src,alt:"profile",width:150,height:150})))}var ut=a(118),dt=a.n(ut);function mt(e){var t=Object(y.b)(),a=e.description;console.log(a);var c=Object(n.useState)(!1),o=Object(x.a)(c,2),l=o[0],s=o[1],i=Object(n.useState)(!1),d=Object(x.a)(i,2),m=d[0],p=d[1],E=Object(n.useState)(""),f=Object(x.a)(E,2),b=f[0],O=f[1],v=Object(n.useState)(""),h=Object(x.a)(v,2),j=h[0],S=h[1];Object(n.useEffect)((function(){a&&O(a)}),[a]),Object(n.useEffect)((function(){l||j||p(!1)}),[l,j]);var w=function(){p(!1),S("")};return r.a.createElement("div",null,r.a.createElement(R.a,{title:"Editar Perfil",placement:"left"},r.a.createElement(G.a,{onClick:function(){p(!0),O(a)},"aria-label":"delete",style:{height:50,color:"#e5e5e5"}},r.a.createElement(dt.a,null))),r.a.createElement(ge.a,{open:m,onClose:w,fullWidth:!0,maxWidth:"sm"},r.a.createElement("div",{style:{margin:"20px auto 20px auto",width:"85%"}},r.a.createElement(_.a,{tpye:"text",label:"Descripci\xf3n",multiline:!0,rows:"4",placeholder:"A\xf1ade una descripci\xf3n a tu perfil",value:b,onChange:function(e){return O(e.target.value)},fullWidth:!0})),j&&r.a.createElement("p",{style:{color:"red",fontFamily:"Open Sans",marginLeft:40}}," ",j," "),r.a.createElement(Oe.a,null,r.a.createElement(L.a,{onClick:function(){""===b.trim()&&S("No debe estar vac\xedo"),s(!0),t(function(e,t){return function(a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.a.awrap(u.a.post("users/me/details",{details:e}));case 3:n=r.sent,a({type:"SET_SELECTED_PROFILE",payload:n.data}),t(!1),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t(!1);case 11:case"end":return r.stop()}}),null,null,[[0,8]])}}(b,s))},disabled:l,variant:"contained",color:"primary"},"Guardar ",l&&r.a.createElement(P.a,{style:{marginLeft:5},size:20})),r.a.createElement(L.a,{onClick:w,variant:"contained",style:{backgroundColor:"red"},color:"secondary"},"Cancelar"))))}function pt(e){var t=e.userProfile,a=e.connectedUser,c=t._id;console.log(t.followers);var o=Object(y.b)(),l=Object(n.useState)(),s=Object(x.a)(l,2),i=s[0],d=s[1],m=Object(y.c)((function(e){return e.UI.loadingSubscription}));Object(n.useEffect)((function(){var e=a.subscriptions&&a.subscriptions.filter((function(e){return e.user_id===c}));e&&e.length>=1?d(!0):d(!1)}),[a,c]);return r.a.createElement("div",null,i?r.a.createElement(L.a,{disabled:m,onClick:function(){o(function(e){return function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"LOADING_SUB"}),console.log(e),n.next=5,g.a.awrap(u.a.delete("/users/unsubscribe/".concat(e)));case 5:a=n.sent,t({type:"SET_FOLLOWED_USER",payload:a.data}),t(v()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),null,null,[[0,10]])}}(c))},style:{marginLeft:10},variant:"contained",color:"primary",size:"small"}," Siguiendo ",m&&r.a.createElement(P.a,{style:{marginLeft:5},size:20})):r.a.createElement(L.a,{disabled:m,onClick:function(){o(function(e){return function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"LOADING_SUB"}),n.next=4,g.a.awrap(u.a.post("/users/subscribe/".concat(e)));case 4:a=n.sent,t({type:"SET_FOLLOWED_USER",payload:a.data}),t(v()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]])}}(c))},style:{marginLeft:10},variant:"contained",size:"small"}," Seguir ",m&&r.a.createElement(P.a,{style:{marginLeft:5},size:20})))}var Et=Object(C.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function ft(e){var t=e.open,a=e.userList,c=e.setOpen,o=e.userProps,s=Et();console.log(a);return r.a.createElement(ge.a,{children:"div",open:t,onClose:function(){c(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement("div",null,r.a.createElement(M.a,{style:{width:"100%"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(q.a,{component:"div",id:"nested-list-subheader"},o?"Seguidores":"Seguidos"," ",r.a.createElement("hr",null),a&&0===a.length&&o?"Esta cuenta no tiene seguidores":a&&0===a.length&&!o&&"Esta cuenta no sigue a nadie"),className:s.root},a&&a.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement(l.b,{onClick:function(){return c(!1)},style:{textDecoration:"none"},to:"/users/".concat(e.user_id)},r.a.createElement(K.a,{button:!0,className:s.nested},r.a.createElement(Z.a,null,r.a.createElement(ee.a,{src:e.profileImg})),r.a.createElement(V.a,{secondary:e.username}))))})))))}function bt(e){var t=Object(n.useState)(!0),a=Object(x.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!1),i=Object(x.a)(s,2),d=i[0],m=i[1],p=Object(y.b)(),E=e.match.params.id,f=Object(y.c)((function(e){return e.UI.loading})),b=Object(y.c)((function(e){return e.UI.loadingProfile})),O=Object(y.c)((function(e){return e.user.loggedUser})),h=Object(y.c)((function(e){return e.data.selectedProfile})),j=h.subscriptions,S=h.followers,w=h.description,_=h.profileImg,T=h.username,D=Object(y.c)((function(e){return e.data.selectedPosts}));Object(n.useEffect)((function(){var e;p(v()),p((e=E,function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"LOADING_PROFILE"}),n.next=4,g.a.awrap(u.a.get("/users/".concat(e)));case 4:a=n.sent,t({type:"PROFILE LOADED"}),t({type:"SET_SELECTED_PROFILE",payload:a.data}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]])})),p(function(e){return function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:"SET_LOADING"}),n.next=4,g.a.awrap(u.a.get("/posts/users/".concat(e)));case 4:a=n.sent,t({type:"SET_SELECTED_POSTS",payload:a.data}),t({type:"SET_LOADED"}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]])}}(E))}),[p,E]);return r.a.createElement("div",{className:"profile-container"},r.a.createElement(l.b,{to:"/Home"},r.a.createElement(me.a,{style:{color:"#e5e5e5",margin:25,fontSize:40}})),O._id===E&&r.a.createElement(Me,null),r.a.createElement("div",{className:"profile-data"},r.a.createElement("div",{className:"data-container"},b?r.a.createElement("div",null,r.a.createElement("img",{src:k.a,alt:"loading profile",width:170,height:170,style:{cursor:"pointer"}})):r.a.createElement(it,{src:_,user_id:E,connectedUser:O._id}),r.a.createElement("div",{className:"profile-info"},r.a.createElement("span",{style:{display:"flex",alignItems:"flex-end"}}," ",r.a.createElement("h1",null," ",b?r.a.createElement(B.a,{width:350,animation:"wave"}):r.a.createElement("div",null," ",T," "),"  ")," ",O._id!==E&&r.a.createElement(pt,{userProfile:h,connectedUser:O})," "),r.a.createElement("p",null,b?r.a.createElement("div",null,r.a.createElement(B.a,{width:350,animation:"wave"}),r.a.createElement(B.a,{width:350,animation:"wave"})):r.a.createElement("div",null,w&&w," ")," "),r.a.createElement("div",{className:"profile-button-container"},r.a.createElement(L.a,{variant:"contained",color:"primary",style:{margin:"25px auto 25px auto",background:"#e5e5e5",color:"black"},onClick:function(){m(!0),o(!0)}},"  ",S&&S.length," Seguidores "),r.a.createElement(L.a,{variant:"contained",color:"primary",style:{margin:"25px auto 25px auto",background:"#e5e5e5",color:"black"},onClick:function(){m(!0),o(!1)}}," ",j&&j.length," Seguidos "),r.a.createElement(ft,{userProps:c,open:d,setOpen:m,userList:c?S:j}))),O._id===E&&r.a.createElement(mt,{user_id:E,description:w}))),r.a.createElement("div",{className:"profile-posts-container"},f?r.a.createElement("div",{style:{display:"flex",width:"100%",height:"20vh"}}," ",r.a.createElement(P.a,{style:{margin:"auto"},size:60})," "):r.a.createElement(st,{posts:D})))}function gt(){return r.a.createElement("div",{className:"notFound-container"},r.a.createElement("div",{className:"notFound-text-container"},r.a.createElement("h1",null," E404"),r.a.createElement("h2",null,"Lo sentimos. La p\xe1gina que buscas no existe."),r.a.createElement("h2",null," Volver al ",r.a.createElement(l.b,{to:"/Home",style:{textDecoration:"none"}}," ",r.a.createElement("span",null," Inicio ")," "))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ot=a(46),vt={loggedUser:{},authenticated:!1,loading:!1,errors:""},ht=a(19),yt={numberOfPosts:"",allPosts:[],loading:!1,selectedProfile:{},selectedPosts:[],usersList:[],selectedPost:{},comments:[]},jt={loading:!1,errors:"",onSinglePost:!1,uploading:!1,deleting:!1,loadingSubscription:!1,loadingProfile:!1},St=a(119),xt=Object(Ot.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATED":return Object(S.a)({},e,{authenticated:!0});case"SET_ERRORS":return Object(S.a)({},e,{errors:t.payload});case"LOADING":return Object(S.a)({},e,{loading:!0});case"LOADED":return Object(S.a)({},e,{loading:!1});case"USER_LOGGED":return Object(S.a)({},e,{loggedUser:Object(S.a)({},t.payload)});case"UNAUTHENTICATED":return Object(S.a)({},e,{authenticated:!1});case"CLEAR_ERRORS":return Object(S.a)({},e,{errors:""});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_POSTS":return Object(S.a)({},e,{allPosts:Object(ht.a)(t.payload.posts),selectedPost:{},numberOfPosts:t.payload.numberOfPosts});case"SET_SELECTED_PROFILE":return Object(S.a)({},e,{selectedProfile:Object(S.a)({},t.payload)});case"SET_SELECTED_POSTS":return Object(S.a)({},e,{selectedPosts:Object(ht.a)(t.payload)});case"SET_NEW_POST":return Object(S.a)({},e,{allPosts:[Object(S.a)({},t.payload)].concat(Object(ht.a)(e.allPosts)),selectedPosts:[Object(S.a)({},t.payload)].concat(Object(ht.a)(e.selectedPosts))});case"DELETE_POST":return Object(S.a)({},e,{allPosts:e.allPosts.filter((function(e){return e._id!==t.payload})),selectedPosts:e.selectedPosts.filter((function(e){return e._id!==t.payload})),selectedPost:""});case"DATA_LOADING":return Object(S.a)({},e,{loading:!0});case"DATA_LOADED":return Object(S.a)({},e,{loading:!1});case"SET_SUBSCRIPTIONS_POSTS":return Object(S.a)({},e,{allPosts:Object(ht.a)(t.payload)});case"CLEAN_POSTS":return Object(S.a)({},e,{allPosts:[]});case"SET_USERS":return Object(S.a)({},e,{usersList:Object(ht.a)(t.payload)});case"SET_POST":return Object(S.a)({},e,{selectedPost:Object(S.a)({},t.payload)});case"SET_POST_COMMENTS":return Object(S.a)({},e,{comments:Object(ht.a)(t.payload)});case"SET_REPLYS":return console.log(t.payload),Object(S.a)({},e,{comments:e.comments.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"SET_LIKES":case"SET_DISLIKE":return Object(S.a)({},e,{allPosts:e.allPosts.map((function(e){return e._id===t.payload._id?Object(S.a)({},e,{likes:Object(ht.a)(t.payload.likes)}):e})),selectedPosts:e.selectedPosts.map((function(e){return e._id===t.payload._id?Object(S.a)({},e,{likes:Object(ht.a)(t.payload.likes)}):e})),selectedPost:Object(S.a)({},e.selectedPost,{likes:Object(ht.a)(t.payload.likes)})});case"SET_FOLLOWED_USER":return Object(S.a)({},e,{selectedProfile:Object(S.a)({},t.payload)});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case"SET_LOADING":return Object(S.a)({},e,{loading:!0});case"SET_LOADED":return Object(S.a)({},e,{loading:!1});case"SET_ERROR":return console.log(t.payload),Object(S.a)({},e,{errors:t.payload});case"CLEAR_ERROR":return Object(S.a)({},e,{errors:""});case"ON_SINGLE_POST":return Object(S.a)({},e,{onSinglePost:!0});case"CLOSE_SINGLE_POST":return Object(S.a)({},e,{onSinglePost:!1});case"UPLOADING":return Object(S.a)({},e,{uploading:!0});case"UPLOADED":return Object(S.a)({},e,{uploading:!1});case"DELETING":return Object(S.a)({},e,{deleting:!0});case"DELETED":return Object(S.a)({},e,{deleting:!1});case"LOADING_SUB":return Object(S.a)({},e,{loadingSubscription:!0});case"LOADED_SUB":return Object(S.a)({},e,{loadingSubscription:!1});case"LOADING_PROFILE":return Object(S.a)({},e,{loadingProfile:!0});case"PROFILE LOADED":return Object(S.a)({},e,{loadingProfile:!1})}}}),wt=Object(Ot.e)(xt,Object(Ot.d)(Object(Ot.a)(St.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));a(168);o.a.render(r.a.createElement(y.a,{store:wt}," ",r.a.createElement((function(){var e=Object(y.c)((function(e){return e.user.authenticated})),t=Object(y.b)(),a=localStorage.getItem("x-auth-token");if(a){var c=m()(a);u.a.defaults.headers.common.Authorization=a,t({type:"AUTHENTICATED"}),1e3*c.exp<Date.now()&&t(h())}return r.a.createElement(n.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(s.d,null,r.a.createElement(f,{exact:!0,path:"/Register",authenticated:e,component:T}),r.a.createElement(E,{exact:!0,path:"/Home",authenticated:e,component:Ke}),r.a.createElement(f,{exact:!0,path:"/",authenticated:e,component:Ve}),r.a.createElement(E,{exact:!0,path:"/users/:id",authenticated:e,component:bt}),r.a.createElement(E,{exact:!0,path:"/posts/:id",authenticated:e,component:lt}),r.a.createElement(s.b,{exact:!0,path:"*",component:gt}))))}),null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){e.exports=a.p+"static/media/noprofileimg2.a77a9fc1.png"}},[[135,1,2]]]);
//# sourceMappingURL=main.404513f1.chunk.js.map