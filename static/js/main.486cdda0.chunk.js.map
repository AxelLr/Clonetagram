{"version":3,"sources":["images/image-preview.png","routes/AuthRoute.js","routes/RestrictedRoutes.js","redux/actions/UserActions.js","redux/reducers/types.js","pages/register/Register.js","components/loggeduser/LoggedUser.js","components/posts/postsnavbar/userlist/UserList.js","redux/actions/DataActions.js","components/posts/postsnavbar/PostsNavbar.js","components/posts/post/deletepost/DeletePost.js","components/posts/post/handlelikes/HandleLikes.js","components/posts/post/Post.js","components/pagination/Pagination.js","components/posts/allposts/AllPosts.js","components/posts/Posts.js","components/posts/addpost/AddPost.js","pages/home/Home.js","pages/login/Login.js","components/commentlist/addcomment/AddComment.js","components/commentlist/deletecomment/DeleteComment.js","components/commentlist/addReply/AddRepply.js","components/commentlist/CommentsList.js","pages/fullpost/FullPost.js","components/posts/profileposts/ProfilePosts.js","components/profile-img/ProfileImg.js","components/editdetails/EditDetails.js","components/handleFollow/HandleFollow.js","components/subs-followers-list/SubsFollowersList.js","pages/profile/Profile.js","pages/notfound/NotFound.js","serviceWorker.js","redux/reducers/userReducer.js","redux/reducers/DataReducer.js","redux/reducers/UIReducer.js","redux/store/Store.js","index.js","App.js","images/noprofileimg2.png"],"names":["module","exports","ProtectedRoute","Component","component","authenticated","path","rest","render","props","to","RestrictedRoute","axios","defaults","baseURL","setToken","token","localStorage","setItem","headers","common","getItem","getConnectedUser","dispatch","a","async","type","get","response","payload","data","console","log","logOutUser","history","removeItem","push","Register","useDispatch","errors","useSelector","state","user","loading","useState","email","password","confirmPassword","username","values","setValues","handleChange","e","target","name","value","className","onSubmit","preventDefault","post","registerUser","Typography","variant","TextField","error","required","id","label","helperText","onChange","fullWidth","inputProps","minLength","maxLength","Button","disabled","color","style","margin","CircularProgress","marginLeft","size","textDecoration","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","LoggedUser","connectedUser","loggedUser","useEffect","classes","AppBar","position","backgroundColor","Toolbar","alt","src","noProfileImg","height","width","borderRadius","profileImg","Skeleton","animation","_id","IconButton","aria-label","aria-controls","aria-haspopup","onClick","maxWidth","palette","background","paper","nested","paddingLeft","UserList","open","Collapse","in","timeout","unmountOnExit","transform","Paper","List","maxHeight","overflowY","aria-labelledby","subheader","ListSubheader","searchResults","filter","map","key","ListItem","button","ListItemAvatar","Avatar","ListItemText","secondary","getPostComments","marginTop","display","breakpoints","up","search","shape","fade","white","searchIcon","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","create","SearchAppBar","usersList","setOpen","setFilter","setSearchResults","typingTimeout","setTypingTimeOut","handlePosts","setHandlePosts","results","toLocaleLowerCase","includes","handleFilter","clearTimeout","setTimeout","InputBase","onFocus","onBlur","placeholder","input","DeletePost","deleting","UI","placement","Dialog","onClose","DialogTitle","DialogActions","postid","post_id","delete","HandleLikes","likes","liked","like","length","media","paddingTop","expand","duration","shortest","expandOpen","avatar","red","Post","onSinglePost","imageURL","description","date","userRef","commentCount","Card","elevation","objectFit","CardHeader","action","moment","format","CardContent","minHeight","CardActions","disableSpacing","Pagination","numberOfPosts","numberOfPages","setNumberOfPages","currentPage","setCurrentPage","pagination","i","Math","ceil","handlePagination","page","getPostsFromPage","document","getElementById","classList","add","AllPosts","allPosts","flexDirection","Posts","AddPost","uploading","stateErrors","file","setFile","image","setImage","content","setContent","setErrors","handleClose","DialogContent","hidden","files","URL","createObjectURL","imagePreview","click","tpye","multiline","rows","fontFamily","formData","FormData","append","newPost","Home","Login","loginUser","msg","AddComment","setLoading","handleComment","addComment","selectedPost","noValidate","autoComplete","onKeyPress","DeleteComment","comment_id","AddRepply","addReply","comment","overflow","ExpansionPanelSummary","border","boxShadow","ExpansionPanel","inline","CommentsList","comments","user_id","primary","right","top","outline","replys","ExpansionPanelDetails","reply","Divider","FullPost","match","params","ProfilePosts","posts","ProfileImg","cursor","newImage","put","editProfileImage","EditDetails","details","setDetails","trim","addUserDetails","HandleFollow","userProfile","followers","isFollowed","setIsFollowed","loadingSubscription","subscription","subscriptions","subscript","unfollowUser","followUser","SubsFollowersList","userList","userProps","children","Profile","setUserProps","loadingProfile","selectedProfile","userPosts","selectedPosts","getUserPosts","fontSize","NotFound","Boolean","window","location","hostname","initialState","reducers","combineReducers","Store","createStore","applyMiddleware","thunk","ReactDOM","store","decodedToken","jwtDecode","exp","Date","now","exact","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"qFAAAA,EAAOC,QAAU,IAA0B,2C,mMCc5BC,EAXQ,SAAC,GAA4D,IAA/CC,EAA8C,EAAzDC,UAAsBC,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,KAASC,EAAW,oDAEnF,OACE,kBAAC,IAAD,eACED,KAAMA,GACFC,EAFN,CAGEC,OAAQ,SAACC,GAAY,OAAOJ,EAAgB,kBAACF,EAAcM,GAAY,kBAAC,IAAD,CAAUC,GAAG,WCKzEC,EAXS,SAAC,GAA4D,IAA/CR,EAA8C,EAAzDC,UAAsBC,EAAmC,EAAnCA,cAAeC,EAAoB,EAApBA,KAASC,EAAW,oDAEpF,OACE,kBAAC,IAAD,eACED,KAAMA,GACFC,EAFN,CAGEC,OAAQ,SAACC,GAAY,OAAQJ,EAA2C,kBAAC,IAAD,CAAUK,GAAG,UAAxC,kBAACP,EAAcM,Q,gBCJhEG,IAAMC,SAASC,QAAU,wCAGzB,IAAMC,EAAW,SAACC,GACdC,aAAaC,QAAQ,eAAgBF,GACrCJ,IAAMC,SAASM,QAAQC,OAAvB,cAAiDH,aAAaI,QAAQ,iBAGnE,SAASC,IACR,OAAO,SAAeC,GAAf,eAAAC,EAAAC,OAAA,gEAECF,EAAS,CAACG,KCZH,YDUR,WAAAF,EAAA,MAGwBZ,IAAMe,IAAI,cAHlC,OAGOC,EAHP,OAICL,EAAS,CAACG,KCXC,cDWkBG,QAASD,EAASE,OAC/CP,EAAS,CAACG,KCdJ,WDeNH,EAAS,CAACG,KCgBA,eDtBX,kDAQCK,QAAQC,IAAR,MARD,0DAoDR,SAASC,EAAYC,GAExB,OAAO,SAAeX,GAAf,SAAAC,EAAAC,OAAA,gDACHR,aAAakB,WAAW,uBACjBvB,IAAMC,SAASM,QAAQC,OAAvB,cACPG,EAAU,CAAEG,KCrEW,oBDsEvBQ,EAAQE,KAAK,KAJV,sC,qEEvDI,SAASC,EAAS5B,GAEjC,IAOMc,EAAWe,cACXC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,UACzCI,EAAUH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAXR,EAYZC,mBAVP,CACnBC,MAAO,GACPC,SAAU,GACVC,gBAAiB,GACjBC,SAAU,KAN4B,mBAYjCC,EAZiC,KAYzBC,EAZyB,KAclCC,EAAe,SAACC,GACpBF,EAAU,eACLD,EADI,eAENG,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAiB1B,OACE,yBAAKC,UAAU,mBAGX,0BAAMC,SAjBK,SAACL,GAEnBH,EAAOH,WAAaG,EAAOF,iBAE5BK,EAAEM,iBACFnC,EFZK,SAAsB0B,EAAQf,GAC7B,OAAO,SAAeX,GAAf,eAAAC,EAAAC,OAAA,uDAEHF,EAAS,CAACG,KC1BC,YDwBR,oBAAAF,EAAA,MAKwBZ,IAAM+C,KAAK,iBAAkBV,IALrD,OAKOrB,EALP,OAOCL,EAAS,CAACG,KC9BJ,WD+BNX,EAASa,EAASE,KAAKd,OACvBO,EAAS,CAAEG,KCpCE,kBDqCbH,EAAS,CAACG,KChCE,iBDiCZQ,EAAQE,KAAK,SAXd,kDAaCb,EAAS,CAAEG,KCtCD,aDsCmBG,QAAS,KAAID,SAASE,KAAKS,SACxDhB,EAAS,CAACG,KCrCJ,WDuBP,0DEWJkC,CAAaX,EAAQxC,EAAMyB,YAGpCkB,EAAEM,iBACFnC,EAAS,CAACG,KDxCc,aCwCIG,QAAS,CAAEkB,gBAAiB,2CAUhD,kBAACc,EAAA,EAAD,CAAYC,QAAQ,MAApB,kBAGE,kBAACC,EAAA,EAAD,CACEC,QAAOzB,EAAOM,MACdoB,UAAQ,EACRC,GAAG,QACHZ,KAAK,QACL5B,KAAK,QACLyC,MAAM,SACNC,WAAY7B,GAAUA,EAAOM,MAC7BU,MAAON,EAAOJ,MACdwB,SAAUlB,EACVmB,WAAS,IAGX,kBAACP,EAAA,EAAD,CACEC,QAAOzB,EAAOO,SACdyB,WAAY,CAAEC,UAAW,EAAGC,UAAW,IACvCP,GAAG,WACHZ,KAAK,WACL5B,KAAK,WACLyC,MAAM,gBACNZ,MAAON,EAAOH,SACduB,SAAUlB,EACViB,WAAY7B,GAAUA,EAAOO,SAC7BwB,WAAS,EACTL,UAAQ,IAGT,kBAACF,EAAA,EAAD,CACCE,UAAQ,EACRD,QAAOzB,EAAOQ,gBACdwB,WAAY,CAAEC,UAAW,EAAGC,UAAW,IACvCP,GAAG,kBACHZ,KAAK,kBACL5B,KAAK,WACLyC,MAAO,0BACPZ,MAAON,EAAOF,gBACdsB,SAAUlB,EACViB,WAAY7B,EAAOQ,iBAAmBR,EAAOQ,gBAC7CuB,WAAS,IAEV,kBAACP,EAAA,EAAD,CACAQ,WAAY,CAAEC,UAAW,EAAGC,UAAW,IACtCT,QAAOzB,EAAOS,SACdkB,GAAG,WACHZ,KAAK,WACL5B,KAAK,OACLyC,MAAO,0CACPZ,MAAON,EAAOD,SACdqB,SAAUlB,EACViB,WAAY7B,GAAUA,EAAOS,SAC7BsB,WAAS,EACTL,UAAQ,IAGV,kBAACS,EAAA,EAAD,CACEC,SAAUhC,EACVjB,KAAK,SACLoC,QAAQ,YACRc,MAAM,UACNC,MAAO,CAACC,OAAQ,wBALlB,eASEnC,GAAW,kBAACoC,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,IAAKC,KAAM,MAI9D,6BAEA,qDACmB,kBAAC,IAAD,CAAOJ,MAAO,CAACK,eAAgB,OAAQN,MAAO,WAAYlE,GAAG,KAA7D,yB,+GC7GzByE,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAO,CACLJ,SAAU,OAIC,SAASK,EAAWnF,GAEjC,IAAMoF,EAAgBrD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKoD,cAChDnD,EAAUH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WAC1CpB,EAAWe,cAEjByD,qBAAU,WACVxE,EAASD,OACN,CAACC,IAEJ,IAAMyE,EAAUb,IAMhB,OAEE,yBAAK3B,UAAWwC,EAAQV,MACtB,kBAACW,EAAA,EAAD,CAAQC,SAAS,QAAQrB,MAAO,CAACsB,gBAAiB,YAChD,kBAACC,EAAA,EAAD,KAEIzD,EAEF,6BACE,yBAAK0D,IAAI,aAAaC,IAAKC,IAAcC,OAAQ,GAAIC,MAAO,GAAI5B,MAAO,CAAC6B,aAAc,MAAO5B,OAAQ,OAKvG,6BACE,yBAAKuB,IAAI,UAAUC,IAAKT,EAAcc,WAAYH,OAAQ,GAAIC,MAAO,GAAI5B,MAAO,CAAC6B,aAAc,MAAO5B,OAAQ,OAI9G,kBAACjB,EAAA,EAAD,CAAYC,QAAQ,KAAKN,UAAWwC,EAAQL,MAAOd,MAAO,CAACC,OAAQ,KAC/DnC,EAAU,kBAAEiE,EAAA,EAAF,CAAWH,MAAO,IAAKI,UAAU,SAAY,iCAAOhB,EAAc7C,SAArB,MAI3D,6BACE,kBAAC,IAAD,CAAS2C,MAAM,UACf,kBAAC,IAAD,CAAMd,MAAO,CAACK,eAAgB,OAAQN,MAAO,SAAUlE,GAAE,iBAAYmF,EAAciB,MAC/E,kBAACC,EAAA,EAAD,CACMC,aAAW,0BACXC,gBAAc,cACdC,gBAAc,OACdtC,MAAM,WAER,kBAAC,IAAD,SAKR,kBAAC,IAAD,CAASe,MAAM,iBACX,kBAACoB,EAAA,EAAD,CAAYI,QA3CP,WACnB5F,EAASU,EAAWxB,EAAMyB,WA0CuB0C,MAAM,WACrC,kBAAE,IAAF,Y,kHCpEhBO,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJmB,MAAO,OACPW,SAAU,IACVjB,gBAAiBd,EAAMgC,QAAQC,WAAWC,OAE5CC,OAAQ,CACNC,YAAapC,EAAMK,QAAQ,QAIhB,SAASgC,GAASjH,GAE/B,IAAMoF,EAAgBrD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKoD,cAC9C6B,EAASlH,EAATkH,KAEF3B,EAAUb,KAEhB,OACI,kBAAC,WAAD,KAEGwC,EAAO,kBAAC,IAAD,MAAiB,kBAAC,IAAD,MAE3B,kBAACC,EAAA,EAAD,CAAUC,GAAIF,EAAMG,QAAQ,OAAOC,eAAa,EAAClD,MAAO,CAACqB,SAAU,WAAY8B,UAAW,qBACxF,kBAACC,GAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAMrD,MAAO,CAACsD,UAAW,IAAK1B,MAAO,IAAK2B,UAAW,QACrDhI,UAAU,MAEViI,kBAAgB,wBAChBC,UACA,kBAACC,EAAA,EAAD,CAAenI,UAAU,MAAM8D,GAAG,yBAAlC,eAIFV,UAAWwC,EAAQV,MAChB7E,EAAM+H,cAAcC,QAAO,SAAA/F,GAAI,OAAIA,EAAKoE,MAAQjB,EAAciB,OAAM4B,KAAI,SAAChG,EAAMiG,GAAP,OACzE,kBAAC,WAAD,CAAUA,IAAKA,GACb,kBAAC,IAAD,CAAM9D,MAAO,CAACK,eAAgB,QAASxE,GAAE,iBAAYgC,EAAKoE,MAA1D,IAAmE,kBAAC8B,EAAA,EAAD,CAAUC,QAAM,EAACrF,UAAWwC,EAAQwB,QACrG,kBAACsB,EAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEzC,IAAK5D,EAAKiE,cAGd,kBAACqC,EAAA,EAAD,CAAeC,UAAWvG,EAAKM,qBCsEpC,SAASkG,GAAgBhF,GAC5B,OAAO,SAAe3C,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGwBZ,IAAMe,IAAN,oBAAuBuC,KAH/C,OAGOtC,EAHP,OAICL,EAAS,CAAEG,KJpHU,oBIoHeG,QAASD,EAASE,OAJvD,gDAQCC,QAAQC,IAAI,KAAIJ,UARjB,yD,qFCpHLuD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,SAAU,EACV4D,UAAW,IAEbxD,MAAM,aACJJ,SAAU,EACV6D,QAAS,QACR/D,EAAMgE,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,UAGbG,OAAO,aACLrD,SAAU,WACVQ,aAAcrB,EAAMmE,MAAM9C,aAC1BP,gBAAiBsD,aAAKpE,EAAMgC,QAAQjG,OAAOsI,MAAO,KAClD,UAAW,CACTvD,gBAAiBsD,aAAKpE,EAAMgC,QAAQjG,OAAOsI,MAAO,MAEpD1E,WAAY,EACZyB,MAAO,QACNpB,EAAMgE,YAAYC,GAAG,MAAQ,CAC5BtE,WAAYK,EAAMK,QAAQ,GAC1Be,MAAO,SAGXkD,WAAY,CACVlD,MAAOpB,EAAMK,QAAQ,GACrBc,OAAQ,OACRN,SAAU,WACV0D,cAAe,OACfR,QAAS,OACTS,WAAY,SACZC,eAAgB,UAElBC,UAAW,CACTnF,MAAO,WAEToF,WAAW,aACTC,QAAS5E,EAAMK,QAAQ,EAAG,EAAG,EAAG,GAChCwE,WAAY7E,EAAM8E,YAAYC,OAAO,SACrC3D,MAAO,QACNpB,EAAMgE,YAAYC,GAAG,MAAQ,CAC5B7C,MAAO,IACP,UAAW,CACTA,MAAO,WAMA,SAAS4D,GAAa5J,GAEpC,IAAM6J,EAAY9H,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAKwI,aAFP,EAInB1H,oBAAS,GAJU,mBAIpC+E,EAJoC,KAI9B4C,EAJ8B,OAKf3H,mBAAS,IALM,mBAKpC6F,EALoC,KAK5B+B,EAL4B,OAMD5H,mBAAS,IANR,mBAMpC4F,EANoC,KAMrBiC,EANqB,OAOA7H,mBAAS,GAPT,mBAOpC8H,EAPoC,KAOrBC,EAPqB,KASrCpJ,EAAWe,cAEX0D,EAAUb,KAERyF,EAAgCnK,EAAhCmK,YAAaC,EAAmBpK,EAAnBoK,eAErB9E,qBAAU,WACT,IAAM+E,EAAUR,EAAU7B,QAAO,SAAA/F,GAAI,OACnCA,EAAKM,SAAS+H,oBAAoBC,SAASvC,EAAOsC,wBAEpDN,EAAiBK,KAChB,CAACrC,EAAQ6B,IAEX,IAAMW,EAAe,SAAC7H,GAElBsH,GAAeQ,aAAaR,GAE/BF,EAAUpH,EAAEC,OAAOE,OACnBgH,GAAQ,GACRI,EAAiBQ,YAAY,kBAAM5J,GDQRgI,ECR6Bd,EDS/C,SAAelH,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAEwBZ,IAAMe,IAAN,yBAA4B4H,KAFpD,OAEM3H,EAFN,OAGAG,QAAQC,IAAIJ,EAASE,MACrBP,EAAS,CAAEG,KJzFG,YIyFcG,QAASD,EAASE,OAJ9C,gDAOCC,QAAQC,IAAR,MAPD,2DADJ,IAAsBuH,ICRuC,OAIlE,OACE,yBAAK/F,UAAWwC,EAAQV,MACtB,kBAACW,EAAA,EAAD,CAAQC,SAAS,SAASrB,MAAO,CAACsB,gBAAiB,YACjD,kBAACC,EAAA,EAAD,KACA,yBAAK5C,UAAU,0BACX,6BACE,kBAACkB,EAAA,EAAD,CAAQyC,QAAS,kBAAM0D,GAAe,IAAQ/G,QAAQ,YAAYe,MAAO,CAACsB,gBAAiByE,EAAc,UAAY,YACnH,kBAAE,KAAF,CAAW/F,MAAO,CAACD,MAAO,cAG5B,kBAACF,EAAA,EAAD,CAAQyC,QAAS,kBAAM0D,GAAe,IAAS/G,QAAQ,YAAYe,MAAO,CAACsB,gBAAiByE,EAAc,UAAY,YACrH,kBAAE,KAAF,CAAa/F,MAAO,CAACD,MAAO,eAI/B,yBAAKpB,UAAWwC,EAAQuD,QACpB,yBAAK/F,UAAWwC,EAAQ2D,YACxB,kBAAC,KAAD,OAEA,kBAACyB,GAAA,EAAD,CACA/G,SAAU4G,EACV1H,MAAOkF,EACP4C,QAASJ,EACTK,OAAQ,kBAAMf,GAAQ,IACtBgB,YAAY,YACZvF,QAAS,CACLV,KAAMU,EAAQ+D,UACdyB,MAAOxF,EAAQgE,YAEnBzF,WAAY,CAAE,aAAc,YAE9B,kBAACmD,GAAD,CAAUC,KAAMA,EAAM4C,QAASA,EAAS/B,cAAeA,S,uDCnHtD,SAASiD,GAAWhL,GAAQ,IAAD,EAEdmC,oBAAS,GAFK,mBAE/B+E,EAF+B,KAEzB4C,EAFyB,KAIhCmB,EAAWlJ,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGD,YACzCnK,EAAWe,cAEjByD,qBAAU,WACF2F,GACAnB,GAAQ,KAEV,CAACmB,IAMP,OACI,6BACI,kBAAC,IAAD,CAAS/F,MAAM,cAAciG,UAAU,UACnC,kBAAC7E,EAAA,EAAD,CAAYI,QAAS,kBAAMoD,GAAQ,KAC/B,kBAAC,KAAD,CAAY3F,MAAM,cAG1B,kBAACiH,GAAA,EAAD,CAAQlE,KAAMA,EAAMmE,QAAS,kBAAMvB,GAAQ,IAAQjG,WAAS,EAAC8C,SAAS,MAElE,kBAAC2E,GAAA,EAAD,mEAEA,kBAACC,GAAA,EAAD,KACI,kBAACtH,EAAA,EAAD,CAAQC,SAAU+G,EAAUvE,QAhBvB,WF6ClB,IAAoB8E,EE5CnB1K,GF4CmB0K,EE5CCxL,EAAMyL,QF6CvB,SAAe3K,GAAf,SAAAC,EAAAC,OAAA,gEAGCF,EAAS,CAACG,KJ3CE,aIwCb,WAAAF,EAAA,MAIOZ,IAAMuL,OAAN,iBAAuBF,EAAvB,aAJP,OAKC1K,EAAS,CAAEG,KJjEI,cIiEeG,QAASoK,IACvC1K,EAAS,CAACG,KJ7CC,YIuCZ,gDASCK,QAAQC,IAAR,MATD,4DE9B4D8B,QAAQ,YAAYc,MAAM,WAA7E,MACK8G,GAAY,kBAAC3G,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,IAAKC,KAAM,MAElE,kBAACP,EAAA,EAAD,CAAQyC,QAAS,kBAAMoD,GAAQ,IAAQzG,QAAQ,YAAYc,MAAM,aAAjE,e,kECrCL,SAASwH,GAAY3L,GAEhC,IAAMc,EAAWe,cAEXuD,EAAgBrD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKoD,cAJf,EAMhBrF,EAAMkD,KAArB0I,EAN+B,EAM/BA,MAAOvF,EANwB,EAMxBA,IAETwF,KAAQzG,GAAiBwG,GAASA,EAAM5D,QAAO,SAAA8D,GAAI,OAAIA,EAAK7J,OAASmD,EAAciB,OAAK0F,OAAS,GAUvG,OACQ,6BACMF,EACI,kBAACvF,EAAA,EAAD,CAAYI,QAPR,WHiLnB,IAAsB+E,EGhLrB3K,GHgLqB2K,EGhLCpF,EHiLnB,SAAevF,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGwBZ,IAAMuL,OAAN,iBAAuBD,EAAvB,cAHxB,OAGOtK,EAHP,OAICL,EAAS,CAAEG,KJtLI,cIsLeG,QAASD,EAASE,OAJjD,gDAOCC,QAAQC,IAAR,MAPD,4DG3KgDgF,aAAW,oBAChD,kBAAC,KAAD,MADA,IACoBqF,GAASA,EAAMG,QAIzC,kBAACzF,EAAA,EAAD,CAAaI,QAhBH,WHuKA,IAAC+E,EGtKnB3K,GHsKmB2K,EGtKApF,EHsKY,SAAOvF,GAAP,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAIJZ,IAAM+C,KAAN,iBAAqBuI,EAArB,WAJI,OAIrBtK,EAJqB,OAK3BG,QAAQC,IAAIJ,EAASE,MACrBP,EAAS,CAACG,KJ1KG,YI0KcG,QAASD,EAASE,OANlB,gDAS3BC,QAAQC,IAAR,MAT2B,4DGvJWgF,aAAW,oBAC7C,kBAAC,KAAD,MADA,IAC0BqF,GAASA,EAAMG,S,0ECjBnDrH,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCoH,MAAO,CACLjG,OAAQ,EACRkG,WAAY,UAEdC,OAAQ,CACN3E,UAAW,eACXhD,WAAY,OACZkF,WAAY7E,EAAM8E,YAAYC,OAAO,YAAa,CAChDwC,SAAUvH,EAAM8E,YAAYyC,SAASC,YAGzCC,WAAY,CACV9E,UAAW,kBAEb+E,OAAQ,CACN5G,gBAAiB6G,KAAI,UAIV,SAASC,GAAKxM,GAE3B,IAAMyM,EAAe1K,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGuB,gBAE7CrH,EAAgBrD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKoD,cAJpB,EAMkCrF,EAAMkD,KAAlEwJ,EAN0B,EAM1BA,SAAUC,EANgB,EAMhBA,YAAaC,EANG,EAMHA,KAAMC,EANH,EAMGA,QAASxG,EANZ,EAMYA,IAAKyG,EANjB,EAMiBA,aAE7CvH,EAAUb,KAEhB,OAEE,kBAACqI,GAAA,EAAD,CAAMC,UAAW,EAAG5I,MAAO,CAAC6I,UAAW,UACrC,kBAACC,GAAA,EAAD,CACEZ,OACE,kBAAChE,GAAA,EAAD,CAAQ/B,aAAW,cAAcxD,UAAWwC,EAAQ+G,QAClD,kBAAC,IAAD,CAAMrM,GAAE,iBAAY4M,GAAWA,EAAQxG,MAAvC,IAA+C,yBAAKN,OAAQ,GAAIC,MAAO,GAAIH,IAAMgH,GAAWA,EAAQ3G,WAAYN,IAAI,gBAApH,MAGJuH,OACA,6BACIN,GAAWA,EAAQxG,MAAQjB,EAAciB,KAAO,kBAAE2E,GAAF,CAAaS,QAASpF,KAG1EnB,MAAO2H,GAAWA,EAAQtK,SAC1BsF,UAAWuF,KAAOR,GAAMS,OAAO,SAGjC,yBAAKxH,IAAK6G,EAAU3G,OAAQ,IAAKC,MAAO,OAAQJ,IAAI,SAEpD,kBAAC0H,GAAA,EAAD,CAAalJ,MAAO,CAACC,OAAQ,oBAAqBmF,QAAS,IACzD,kBAACpG,EAAA,EAAD,CAAYe,MAAM,gBAAgBxE,UAAU,IAAIyE,MAAO,CAACmJ,UAAW,GAAI7F,UAAW,KAChFiF,GAGF,kBAACvJ,EAAA,EAAD,CAAYgB,MAAO,CAACsE,UAAW,IAAMrF,QAAQ,QAAQc,MAAM,gBAAgBxE,UAAU,OAKvF,kBAAC6N,GAAA,EAAD,CAAaC,gBAAc,GACzB,kBAAE9B,GAAF,CAAczI,KAAMlD,EAAMkD,OAC1B,kBAAE,IAAF,CAAOkB,MAAO,CAACK,eAAgB,QAAUxE,GAAE,iBAAYoG,KACtDoG,GAAgB,kBAACnG,EAAA,EAAD,UAAc,kBAAE,KAAF,MAAqBwG,EAAnC,SC7EV,SAASY,KAWpB,IATA,IAAM5M,EAAWe,cAEX8L,EAAgB5L,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAKsM,iBAJrB,EAKWxL,mBAAS,GALpB,mBAKzByL,EALyB,KAKVC,EALU,OAMO1L,mBAAS,UANhB,mBAMzB2L,EANyB,KAMZC,EANY,KAS7BC,EAAa,GAETC,EAAI,EAAGA,GAAKL,EAAeK,IAC/BD,EAAWrM,KAAKsM,GAGpB3I,qBAAU,WACVuI,EAAkBK,KAAKC,KAAKR,EART,MAShB,CAACA,EATe,IAWnB,IAAMS,EAAmB,SAACC,GAEvBvN,ELLA,SAA2BuN,GAC9B,OAAO,SAAevN,GAAf,eAAAC,EAAAC,OAAA,gEAECF,EAAS,CAACG,KJCK,gBIHhB,WAAAF,EAAA,MAGwBZ,IAAMe,IAAN,uBAA0BmN,KAHlD,OAGOlN,EAHP,OAICL,EAAU,CAACG,KJjBM,gBIiBeG,QAASD,EAASE,OAClDP,EAAS,CAACG,KJDI,eIJf,gDAQCK,QAAQC,IAAR,MARD,yDKIK+M,CAAiBD,IAC1BN,EAAe,QAAD,OAASM,IAEJE,SAASC,eAAT,eAAgCH,IACtCI,UAAUC,IAAI,kBAI9B,OACI,yBAAK3L,UAAU,wBAETiL,EAAW/F,KAAK,SAACoG,EAAMnG,GAAP,OAElB,0BAAMnF,UAAY+K,IAAW,eAAaO,GAAS,gBAAkB,KAAO5K,GAAE,eAAU4K,GAAQ3H,QAAS,kBAAM0H,EAAiBC,IAAOnG,IAAKA,GAA5I,IAAmJmG,EAAnJ,SC9BG,SAASM,GAAS3O,GAAQ,IAEhC4O,EAA0B5O,EAA1B4O,SAAUzE,EAAgBnK,EAAhBmK,YACZrJ,EAAWe,cAEXK,EAAUH,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGhJ,WAa3C,OAXHoD,qBAAU,WAGHxE,EADAqJ,ENsEI,SAAerJ,GAAf,eAAAC,EAAAC,OAAA,gEAGDF,EAAS,CAACG,KJlEM,gBI+Df,WAAAF,EAAA,MAIsBZ,IAAMe,IAAI,8BAJhC,OAIKC,EAJL,OAKDL,EAAS,CAACG,KJ7EkB,0BI6EaG,QAASD,EAASE,OAC3DP,EAAS,CAACG,KJpEK,eI8Dd,gDASCK,QAAQC,IAAR,MATD,yDAlFD,SAAeT,GAAf,eAAAC,EAAAC,OAAA,gEAGCF,EAAS,CAACG,KJgBK,gBInBhB,WAAAF,EAAA,MAIwBZ,IAAMe,IAAI,WAJlC,OAIOC,EAJP,OAKCL,EAAU,CAACG,KJFM,gBIEeG,QAASD,EAASE,OAClDP,EAAS,CAACG,KJcI,eIbdK,QAAQC,IAAIJ,GAPb,kDAUCG,QAAQC,IAAR,MAVD,6DMmBP,CAACT,EAAUqJ,IAGP,yBAAK/F,MAAO,CAACuE,QAAS,OAAQkG,cAAe,SAAU7I,MAAO,SAC7D,6BACA,kCAASmE,GAAe,kBAACuD,GAAD,MAAxB,MAECxL,EAEF,yBAAKkC,MAAO,CAACuE,QAAS,OAAQ3C,MAAO,OAAQD,OAAQ,UACjD,kBAACzB,EAAA,EAAD,CAAkBF,MAAO,CAACC,OAAQ,QAASG,KAAM,MAGrD,yBAAKzB,UAAWoH,EAAc,qBAAuB,0BAC/CyE,EAAS3G,KAAI,SAAC/E,EAAMgF,GAAP,OAAe,kBAAEsE,GAAF,CAAOtE,IAAKA,EAAKhF,KAAMA,SClClD,SAAS4L,KAExB,IAAMF,EAAW7M,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAKuN,YAFjB,EAIQzM,oBAAS,GAJjB,mBAIxBgI,EAJwB,KAIXC,EAJW,KAM5B,OACI,yBAAKrH,UAAU,mBACX,kBAAE,GAAF,CAAcqH,eAAgBA,EAAgBD,YAAaA,IAC3D,kBAAEwE,GAAF,CAAWC,SAAUA,EAAUzE,YAAaA,K,wDCGzC,SAAS4E,KAEpB,IAAMjO,EAAWe,cACXmN,EAAajN,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAG8D,aAC3CC,EAAclN,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGpJ,UAJpB,EAMJK,mBAAS,IANL,mBAMtB+M,EANsB,KAMhBC,EANgB,OAOHhN,mBAAS,IAPN,mBAOvBiN,EAPuB,KAOhBC,EAPgB,OAQClN,mBAAS,IARV,mBAQvBmN,EARuB,KAQdC,EARc,OASNpN,oBAAS,GATH,mBASvB+E,EATuB,KASjB4C,EATiB,OAUD3H,mBAAS,IAVR,mBAUvBL,EAVuB,KAUf0N,EAVe,KAY9BlK,qBAAU,WACNkK,EAAUP,KACX,CAACA,IAEJ,IA0BMQ,EAAc,WAChB3F,GAAQ,GACRuF,EAAS,IACTE,EAAW,IACXC,EAAU,IACV1O,EAAS,CAACG,KZpCS,iBYoDvB,OACI,yBAAK8B,UAAU,qBAAqBoI,UAAU,OAC1C,kBAAC,IAAD,CAAUjG,MAAM,cACZ,kBAAE,KAAF,CAAawB,QAhCN,WACfoD,GAAQ,GACRuF,EAAS,IACTE,EAAW,IACXC,EAAU,IACV1O,EAAS,CAACG,KZ5BS,oBY0Df,kBAACmK,GAAA,EAAD,CAAQlE,KAAMA,EAAMmE,QAASoE,EAAa5L,WAAS,EAAC8C,SAAS,MACzD,kBAAC2E,GAAA,EAAD,qBAEA,kBAACoE,GAAA,EAAD,KACI,yBAAKtL,MAAO,CAACuE,QAAS,OAAQkG,cAAe,WAEzC,2BAAOc,OAAO,SAASlM,GAAG,aACtBxC,KAAK,OAAO6J,YAAY,kBAAkBlH,SA5D/C,SAACjB,GAChBA,EAAEM,iBACFkM,EAAQxM,EAAEC,OAAOgN,MAAM,IAEnBjN,EAAEC,OAAOgN,MAAM,GACfP,EAASQ,IAAIC,gBAAgBnN,EAAEC,OAAOgN,MAAM,KAE5CP,EAAS,OAsDQD,EAAQ,yBAAKvJ,IAAKuJ,EAAOpJ,MAAO,IAAK5B,MAAO,CAACC,OAAQ,QAAS0B,OAAQ,IAAKH,IAAI,aAC9E,yBAAKC,IAAKkK,KAAc/J,MAAO,IAAK5B,MAAO,CAACC,OAAQ,QAAS0B,OAAQ,IAAKH,IAAI,YAEpF,kBAAC3B,EAAA,EAAD,CAAQyC,QArDX,SAAC/D,GACdA,EAAEM,iBACFuM,EAAU,KACKjB,SAASC,eAAe,cAChCwB,SAiDoC5L,MAAO,CAACsE,UAAW,IAAKrF,QAAQ,WAAWc,MAAM,WAA5E,yBAIA,kBAACb,EAAA,EAAD,CACIc,MAAO,CAACsE,UAAW,IACnB7F,KAAK,cACLoN,KAAK,OACLC,WAAS,EACTC,KAAK,IACLrF,YAAY,oDACZhI,MAAOwM,EACP1L,SAAU,SAACjB,GAAD,OAAO4M,EAAW5M,EAAEC,OAAOE,QACrCe,WAAS,EACTC,WAAY,CAAEE,UAAW,QAG7B,uBAAGI,MAAO,CAACD,MAAM,MAAOiM,WAAY,YAAa/L,OAAQ,SAAzD,KAAsEvC,GAAUA,EAAhF,MAGR,kBAACyJ,GAAA,EAAD,KACJ,kBAACtH,EAAA,EAAD,CAAQC,SAAU8K,EAAWtI,QAnDlB,WAEf,GAAG0I,EAAO,CACN,IAAIiB,EAAW,IAAIC,SACnBD,EAASE,OAAO,QAASrB,EAAMA,EAAKrM,MACpCwN,EAASE,OAAO,cAAejB,GAChCxO,ERvBJ,SAAiBO,EAAMyI,GAC1B,OAAO,SAAehJ,GAAf,eAAAC,EAAAC,OAAA,gEAGKF,EAAS,CAACG,KJvBD,cIoBd,WAAAF,EAAA,MAI6BZ,IAAM+C,KAAK,aAAc7B,EAAM,CAAEX,QAAS,CAC7D,eAAgB,0BAL1B,OAIWS,EAJX,OAQKG,QAAQC,IAAIJ,EAASE,MACrBP,EAAS,CAACG,KJ5BF,aI6BR6I,GAAQ,GACRhJ,EAAS,CAAEG,KJlDC,eIkDmBG,QAASD,EAASE,OAXtD,kDAeCP,EAAS,CAACG,KJvCG,YIuCcG,QAAS,KAAID,SAASE,OACjDP,EAAS,CAACG,KJnCE,aImBb,0DQsBSuP,CAAQH,EAAUvG,IAC3B0F,EAAU,SAETA,EAAU,4CA0CwCnM,QAAQ,YAAYc,MAAM,WAA5E,iBACkB6K,GAAa,kBAAC1K,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,IAAKC,KAAM,MAEhF,kBAACP,EAAA,EAAD,CAAQyC,QAAS+I,EAAapM,QAAQ,YAAYe,MAAO,CAACsB,gBAAiB,OAAQvB,MAAM,aAAzF,eCpHG,SAASsM,GAAKzQ,GAEzB,OACI,yBAAK+C,UAAU,kBACV,kBAAEoC,EAAF,CAAa1D,QAASzB,EAAMyB,UAC5B,kBAAEqN,GAAF,MACA,kBAAEC,GAAF,OCCE,SAAS2B,GAAM1Q,GAE9B,IAKMc,EAAWe,cACXC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,UACzCI,EAAUH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WATX,EAUTC,mBARP,CACnBC,MAAO,GACPC,SAAU,KAJyB,mBAU9BG,EAV8B,KAUtBC,EAVsB,KAYrCnB,QAAQC,IAAIO,GAEZ,IAAMY,EAAe,SAACC,GACpBF,EAAU,eACLD,EADI,eAENG,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAU1B,OACE,yBAAKC,UAAU,mBAEX,0BAAMC,SATK,SAACL,GAEpBA,EAAEM,iBACFnC,EfWK,SAAoB0B,EAAQf,GAC/B,OAAO,SAAeX,GAAf,eAAAC,EAAAC,OAAA,uDAEHF,EAAS,CAAEG,KC9CI,YD4CZ,oBAAAF,EAAA,MAKwBZ,IAAM+C,KAAK,cAAeV,IALlD,OAKOrB,EALP,OAMCL,EAAS,CAACG,KCjDA,WDkDVX,EAASa,EAASE,KAAKd,OACvBO,EAAS,CAACG,KCvDO,kBDwDjBH,EAAS,CAACG,KCnDM,iBDoDhBQ,EAAQE,KAAK,SAVd,kDAYCb,EAAS,CAAEG,KCzDG,aDyDeG,QAAS,KAAID,SAASE,KAAKS,SACxDhB,EAAS,CAACG,KCxDA,WD2CX,0DeZA0P,CAAUnO,EAAQxC,EAAMyB,YAQzB,kBAAC2B,EAAA,EAAD,CAAYC,QAAQ,MAApB,qBAKE,kBAACC,EAAA,EAAD,CACEC,QAAOzB,EACP2B,GAAG,QACHZ,KAAK,QACL5B,KAAK,QACL6B,MAAON,EAAOJ,MACdwB,SAAUlB,EACVmB,WAAS,EACTL,UAAQ,EACRE,MAAM,WAGR,kBAACJ,EAAA,EAAD,CACEC,QAAOzB,EACPgC,WAAY,CAAEC,UAAW,EAAGC,UAAW,IACvCP,GAAG,WACHZ,KAAK,WACL5B,KAAK,WACL6B,MAAON,EAAOH,SACduB,SAAUlB,EACVmB,WAAS,EACTL,UAAQ,EACRE,MAAM,kBAGN5B,GAAU,uBAAGsC,MAAO,CAACD,MAAO,MAAOiM,WAAY,cAArC,IAAqDtO,EAAO,GAAG8O,IAA/D,KACZ,kBAAC3M,EAAA,EAAD,CACEC,SAAUhC,EACVjB,KAAK,SACLoC,QAAQ,YACRc,MAAM,UACNC,MAAO,CAACC,OAAQ,wBALlB,YASEnC,GAAW,kBAACoC,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,IAAKC,KAAM,MAI9D,6BAEA,kEACgC,kBAAC,IAAD,CAAMJ,MAAO,CAACK,eAAgB,OAAQN,MAAO,WAAYlE,GAAG,aAA5D,4BCnF5C,IAAMyE,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJ,QAAS,CACPmB,MAAO,SAGX+E,MAAO,CACLlE,WAAY,eAID,SAASgK,GAAW7Q,GAEnC,IAAMc,EAAWe,cAFyB,EAIXM,oBAAS,GAJE,mBAInCD,EAJmC,KAI1B4O,EAJ0B,OAKZ3O,mBAAS,IALG,mBAKnCmN,EALmC,KAK1BC,EAL0B,KAMpChK,EAAUb,KAEVqM,EAAgB,SAACpO,GACnBA,EAAEM,iBACAqM,IACFwB,GAAW,GACXxP,QAAQC,IAAI+N,GACZxO,EXgHG,SAAoBwO,EAAS7L,EAAIqN,GACpC,OAAO,SAAehQ,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAIwBZ,IAAM+C,KAAN,oBAAwBO,GAAM6L,IAJtD,OAIOnO,EAJP,OAKCL,EAAS,CAAEG,KJnIU,oBImIeG,QAASD,EAASE,OACtDyP,GAAW,GANZ,gDASCxP,QAAQC,IAAR,MATD,yDWjHEyP,CAAW,CAAE1B,WAAWtP,EAAMiR,aAAa5K,IAAKyK,IACzDvB,EAAW,MAIb,OACE,0BAAOxM,UAAWwC,EAAQV,KAAMqM,YAAU,EAACC,aAAa,OAE5C,kBAAC7N,EAAA,EAAD,CACIP,UAAWb,GAAWqD,EAAQwF,MAC9B7G,SAAUhC,EACVjB,KAAK,OACLyC,MAAM,yBACNyM,KAAK,IACL9M,QAAQ,SACRP,MAAOwM,EACP1L,SAAU,SAACjB,GAAD,OAAO4M,EAAW5M,EAAEC,OAAOE,QACrCe,WAAS,EACTuN,WAAY,SAACzO,GACK,UAAVA,EAAEuF,KACF6I,EAAcpO,O,yBC3C3B,SAAS0O,GAAcrR,GAElC,IAAMc,EAAWe,cAKjB,OACI,6BACI,kBAAC,IAAD,CAASqD,MAAM,oBAAoBiG,UAAU,UACrC,kBAAC7E,EAAA,EAAD,CAAYI,QANP,WZkJlB,IAAuB4K,EAAY7F,EYjJlC3K,GZiJsBwQ,EYjJCtR,EAAMsR,WZiJK7F,EYjJOzL,EAAMiR,aAAa5K,IZkJzD,SAAevF,GAAf,SAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGOZ,IAAMuL,OAAN,oBAA0B4F,EAA1B,aAHP,OAICxQ,EAAS2H,GAAgBgD,IAJ1B,+CAOCnK,QAAQC,IAAR,MAPD,4DY5Ia,kBAAC,KAAD,CAAY4C,MAAM,eCZ1C,IAAMO,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJ,QAAS,CACPmB,MAAO,aAKE,SAASuL,GAAUvR,GAElC,IAAMc,EAAWe,cAFwB,EAIXM,mBAAS,IAJE,mBAIlCmN,EAJkC,KAIzBC,EAJyB,KAKnChK,EAAUb,KAEVqM,EAAgB,SAACpO,GACnBA,EAAEM,iBACAqM,IACChO,QAAQC,IAAI,QACfT,EbkJG,SAAkBwO,EAASgC,GAC9B,OAAO,SAAexQ,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGuBZ,IAAM+C,KAAN,oBAAwBoO,EAAxB,UAA4ChC,IAHnE,OAGMnO,EAHN,OAIAL,EAAS,CAAEG,KJ7JI,aI6JcG,QAASD,EAASE,OAJ/C,gDAOCC,QAAQC,IAAR,MAPD,yDanJEiQ,CAAS,CAAElC,WAAWtP,EAAMyR,QAAQpL,MAC7CkJ,EAAW,MAIb,OACE,0BAAOxM,UAAWwC,EAAQV,KAAMqM,YAAU,EAACC,aAAa,OAE5C,kBAAC7N,EAAA,EAAD,CACI2M,KAAK,OACLvM,MAAM,qBACNyM,KAAK,IACL9M,QAAQ,SACRP,MAAOwM,EACP1L,SAAU,SAACjB,GAAD,OAAO4M,EAAW5M,EAAEC,OAAOE,QACrCe,WAAS,EACTuN,WAAY,SAACzO,GACK,UAAVA,EAAEuF,KACF6I,EAAcpO,O,4CC1BpC+B,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJkB,OAAQ,MACR2L,SAAU,OACV1L,MAAO,OACPN,gBAAiBd,EAAMgC,QAAQC,WAAWC,OAE5C6K,sBAAuB,CACrBC,OAAQ,EACR5L,MAAO,OACP6L,UAAW,QAEbC,eAAgB,CACdF,OAAQ,EACRC,UAAW,OACX7L,MAAO,QAET+L,OAAQ,CACNpJ,QAAS,cAIE,SAASqJ,GAAahS,GAEnC,IAAMoF,EAAgBrD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKoD,cAChDE,EAAUb,KAEhB,OACA,yBAAKN,MAAO,CAAC4B,MAAO,QAClB,kBAAE6K,GAAF,CAAaI,aAAcjR,EAAMiR,eACjC,kBAACxJ,EAAA,EAAD,CAAM1E,UAAWwC,EAAQV,MACzB,yBAAKT,MAAO,CAAC4B,MAAO,SAClBhG,EAAMiS,SAAShK,KAAI,SAACwJ,EAASvJ,GAAV,OACjB,kBAAC,WAAD,CAAUA,IAAKA,GACX,kBAACC,EAAA,EAAD,CAAU1E,GAAG,cAAc2F,WAAW,cAClC,kBAACf,EAAA,EAAD,KACA,kBAACC,GAAA,EAAD,CAAQ1C,IAAI,kBAAkBC,IAAK4L,EAAQS,SAAWT,EAAQS,QAAQhM,cAGxE,yBAAK9B,MAAO,CAAC4B,MAAO,SAClB,6BACE,kBAACuC,EAAA,EAAD,CACI4J,QAASV,EAAQS,SAAWT,EAAQS,QAAQ3P,SAC5CiG,UAAW4E,KAAOqE,EAAQ7E,MAAMS,OAAO,SAE7C,0BAAMjJ,MAAO,CAACqB,SAAU,WAAY2M,MAAO,EAAGC,IAAK,IAC/CjN,EAAciB,MAAQoL,EAAQS,QAAQ7L,KACvC,kBAAEgL,GAAF,CAAgBC,WAAYG,EAAQpL,IAAK4K,aAAcjR,EAAMiR,iBAIhE,kBAAC1I,EAAA,EAAD,CACI4J,QAASV,EAAQnC,UAErB,kBAACwC,GAAA,EAAD,CAAgB/O,UAAWwC,EAAQuM,eAAgB1N,MAAO,CAACC,OAAQ,EAAGiO,QAAS,SAC7E,kBAACX,GAAA,EAAD,CAAuB5O,UAAWwC,EAAQoM,uBACxC,kBAACpJ,EAAA,EAAD,CAAcC,UAAS,qBAAgBiJ,EAAQc,OAAOxG,OAA/B,QAEzB,kBAACyG,GAAA,EAAD,CAAuBpO,MAAO,CAAC4B,MAAO,SACrC,yBAAK5B,MAAO,CAAE4B,MAAO,OAAQ2C,QAAS,OAAQkG,cAAe,SAAUnH,UAAW,IAAKgK,SAAU,SAChG,kBAAE,GAAF,CAAWD,QAASA,EAASR,aAAcjR,EAAMiR,eAChDQ,EAAQc,QAAUd,EAAQc,OAAOtK,KAAI,SAACwK,EAAOvK,GAAR,OACtC,yBAAKA,IAAKA,GAEN,6BACE,6BACE,kBAACK,EAAA,EAAD,CACI4J,QAASM,EAAMlQ,SACfiG,UAAW4E,KAAOqF,EAAM7F,MAAMS,OAAO,UAG3C,kBAAC9E,EAAA,EAAD,CACI4J,QAASM,EAAMnD,WAIvB,kBAACoD,GAAA,EAAD,CAASrP,QAAQ,QAAQ1D,UAAU,kBAS7C,kBAAC+S,GAAA,EAAD,CAASrP,QAAQ,QAAQ1D,UAAU,cC7FhC,SAASgT,GAAS3S,GAE7B,IAAMyL,EAAUzL,EAAM4S,MAAMC,OAAOpP,GAE7B3C,EAAWe,cACXoP,EAAelP,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAK4P,gBAC/CgB,EAAWlQ,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAK4Q,YAC3C/P,EAAUH,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGhJ,WA0B9C,OAxBAoD,qBAAU,WACNxE,EAASD,OACV,CAACC,IAEJwE,qBAAU,Wf2FP,IAAiB7B,EAAIhC,Ee1FxBX,Gf0FoB2C,Ee1FHgI,Ef0FOhK,Ee1FEzB,EAAMyB,Qf2FzB,SAAeX,GAAf,eAAAC,EAAAC,OAAA,gEAECF,EAAS,CAACG,KJ7FK,gBI2FhB,WAAAF,EAAA,MAGwBZ,IAAMe,IAAN,sBAAyBuC,KAHjD,OAGOtC,EAHP,OAICL,EAAS,CAACG,KJpGE,WIoGcG,QAASD,EAASE,OAC5CP,EAAS,CAACG,KJ/FI,eI0Ff,gDAQ2B,sBAAtB,KAAIE,SAASE,MAAgCI,EAAQE,KAAK,MAC9DL,QAAQC,IAAI,KAAIJ,SAASE,MAT1B,2De1FPP,EAAS2H,GAAgBgD,MACtB,CAAC3K,EAAU2K,EAASzL,EAAMyB,UAE7B6D,qBAAU,WAEN,OADAxE,EAAS,CAACG,KnBDY,mBmBEf,WACLH,EAAS,CAACG,KnBFa,yBmBIxB,CAACH,IAENwE,qBAAU,WAEc,KAAjB2L,GACCjR,EAAMyB,QAAQE,KAAK,WAGxB,CAACsP,EAAcjR,EAAMyB,UAGpB,yBAAMsB,UAAU,sBAEdb,EAAU,yBAAKkC,MAAO,CAACuE,QAAS,OAAQ3C,MAAO,SAArC,IAA+C,kBAAC1B,EAAA,EAAD,CAAkBF,MAAO,CAACC,OAAQ,QAASG,KAAM,KAAhG,KAGT,yBAAKzB,UAAU,8BACV,yBAAKqB,MAAO,CAAC4B,MAAO,MAAOD,OAAQ,SAC9B,kBAACyG,GAAD,CAAMtJ,KAAM+N,KAEf,kBAAEe,GAAF,CAAeC,SAAUA,EAAUhB,aAAcA,MCnDpD,SAAS6B,GAAa9S,GAAQ,IAEpC+S,EAAU/S,EAAV+S,MAEL,OACI,yBAAKhQ,UAAU,0BACZgQ,EAAM9K,KAAI,SAAC/E,EAAMgF,GAAP,OAAe,kBAAEsE,GAAF,CAAOtE,IAAKA,EAAKhF,KAAMA,QCG5C,SAAS8P,GAAWhT,GAAQ,IAE/BkS,EAA2BlS,EAA3BkS,QAAS9M,EAAkBpF,EAAlBoF,cAFqB,EAIZjD,oBAAS,GAJG,mBAI9B+E,EAJ8B,KAIxB4C,EAJwB,OAKN3H,oBAAS,GALH,mBAK9BD,EAL8B,KAKrB4O,EALqB,KAOhChQ,EAAWe,cAuBjB,OAEI,6BACKuD,IAAkB8M,EACnB,kBAAE,WAAF,KACEhQ,EAAU,kBAACoC,EAAA,EAAD,CAAkBF,MAAO,GAAII,KAAM,MAE/C,yBAAKqB,IAAK7F,EAAM6F,IAAKD,IAAI,UAAUI,MAAO,IAAKD,OAAQ,IAAKW,QAAS,kBAAMoD,GAAQ,IAAO1F,MAAO,CAAC6O,OAAQ,aAE1G,kBAAC7H,GAAA,EAAD,CAAQlE,KAAMA,EAAMmE,QAAS,kBAAMvB,GAAQ,IAAQjG,WAAS,EAAC8C,SAAS,MAClE,kBAAC2E,GAAA,EAAD,iCAEA,kBAACoE,GAAA,EAAD,KACI,0BAAMtL,MAAO,CAACuE,QAAS,OAAQkG,cAAe,WAE1C,2BAAOrL,UAAQ,EAACmM,OAAO,SAASlM,GAAG,aACnCxC,KAAK,OAAO6J,YAAY,kBAAkBlH,SArC3C,SAACjB,GAEhBA,EAAEM,iBACF,IAAMiM,EAAOvM,EAAEC,OAAOgN,MAAM,GACtBS,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASrB,EAAMA,EAAKrM,MACpCvB,QAAQC,IAAI8O,GAETA,IACCS,GAAW,GACXhQ,EtB6CL,SAA2BoS,EAAUpC,GACxC,OAAO,SAAehQ,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGqBZ,IAAMgT,IAAI,eAAgBD,EAAU,CACxDxS,QAAS,CACP,eAAgB,0BALnB,OAGIS,EAHJ,OAQFL,EAAS,CAACG,KC3EiB,uBD2EWG,QAASD,EAASE,OACxDyP,GAAW,GATT,gDAYCxP,QAAQC,IAAR,MAZD,yDsB9CU6R,CAAiB/C,EAAUS,IACpChH,GAAQ,OA4BI,kBAAC7F,EAAA,EAAD,CAAQyC,QAxBX,SAAC/D,GACdA,EAAEM,iBACasL,SAASC,eAAe,cAChCwB,SAqBoC3M,QAAQ,WAAWc,MAAM,WAApD,gBAQR,kBAACoH,GAAA,EAAD,KACJ,kBAACtH,EAAA,EAAD,CAAQyC,QAAS,kBAAMoD,GAAQ,IAAQzG,QAAQ,YAAYc,MAAM,aAAjE,eAQJ,kBAAC,WAAD,KACK,yBAAK0B,IAAK7F,EAAM6F,IAAKD,IAAI,UAAUI,MAAO,IAAKD,OAAQ,Q,yBChErD,SAASsN,GAAYrT,GAEhC,IAAMc,EAAWe,cAET8K,EAAgB3M,EAAhB2M,YACRrL,QAAQC,IAAIoL,GAL2B,MAOPxK,oBAAS,GAPF,mBAO/BD,EAP+B,KAOtB4O,EAPsB,OAQb3O,oBAAS,GARI,mBAQ/B+E,EAR+B,KAQzB4C,EARyB,OASP3H,mBAAS,IATF,mBAS/BmR,EAT+B,KAStBC,EATsB,OAUTpR,mBAAS,IAVA,mBAU/BL,EAV+B,KAUvB0N,EAVuB,KAYvClK,qBAAU,WACHqH,GACC4G,EAAW5G,KAEhB,CAACA,IAEJrH,qBAAU,WACFpD,GAAYJ,GACZgI,GAAQ,KAEV,CAAC5H,EAASJ,IAEhB,IAcM2N,EAAc,WAChB3F,GAAQ,GACR0F,EAAU,KAGd,OACI,6BACI,kBAAC,IAAD,CAAStK,MAAM,gBAAgBiG,UAAU,QACrC,kBAAC7E,EAAA,EAAD,CAAYI,QAbL,WACfoD,GAAQ,GACRyJ,EAAW5G,IAW8BpG,aAAW,SAASnC,MAAO,CAAC2B,OAAQ,GAAI5B,MAAO,YAC5E,kBAAE,KAAF,QAIR,kBAACiH,GAAA,EAAD,CAAQlE,KAAMA,EAAMmE,QAASoE,EAAa5L,WAAS,EAAC8C,SAAS,MAC3D,yBAAKvC,MAAO,CAACC,OAAQ,sBAAuB2B,MAAM,QAChD,kBAAC1C,EAAA,EAAD,CACI2M,KAAK,OACLvM,MAAM,iBACNwM,WAAS,EACTC,KAAK,IACLrF,YAAY,0CACZhI,MAAOwQ,EACP1P,SAAU,SAACjB,GAAD,OAAO4Q,EAAW5Q,EAAEC,OAAOE,QACrCe,WAAS,KAGX/B,GAAU,uBAAGsC,MAAO,CAACD,MAAO,MAAOiM,WAAY,YAAa7L,WAAY,KAA9D,IAAqEzC,EAArE,KAEZ,kBAACyJ,GAAA,EAAD,KACI,kBAACtH,EAAA,EAAD,CAAQyC,QA3CL,WAEO,KAAnB4M,EAAQE,QACPhE,EAAU,0BAEdsB,GAAW,GACXhQ,EvBmED,SAAwBO,EAAMyP,GACjC,OAAO,SAAehQ,GAAf,eAAAC,EAAAC,OAAA,2EAAAD,EAAA,MAGwBZ,IAAM+C,KAAK,mBAAmB,CAAEoQ,QAASjS,KAHjE,OAGOF,EAHP,OAICL,EAAS,CAACG,KC1Gc,uBD0GcG,QAASD,EAASE,OACxDyP,GAAW,GALZ,gDAQAA,GAAW,GARX,yDuBpEM2C,CAAeH,EAASxC,KAqCQ5M,SAAUhC,EAASmB,QAAQ,YAAYc,MAAM,WAA1E,WACUjC,GAAW,kBAACoC,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,GAAIC,KAAM,MAErE,kBAACP,EAAA,EAAD,CAAQyC,QAAS+I,EAAapM,QAAQ,YAAYe,MAAO,CAACsB,gBAAiB,OAAQvB,MAAM,aAAzF,eC5EL,SAASuP,GAAa1T,GAAQ,IAElC2T,EAA+B3T,EAA/B2T,YAAavO,EAAkBpF,EAAlBoF,cACf8M,EAAUyB,EAAYtN,IAE5B/E,QAAQC,IAAIoS,EAAYC,WAExB,IAAM9S,EAAWe,cAPwB,EAQLM,qBARK,mBAQlC0R,EARkC,KAQtBC,EARsB,KASnCC,EAAsBhS,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAG6I,uBAE1DzO,qBAAU,WAEL,IAAI0O,EAAe5O,EAAc6O,eAAiB7O,EAAc6O,cAAcjM,QAAO,SAAAkM,GAAS,OAAIA,EAAUhC,UAAYA,KACrH8B,GAAgBA,EAAajI,QAAU,EAAK+H,GAAc,GAAeA,GAAc,KAE5F,CAAC1O,EAAe8M,IAUlB,OACI,6BACM2B,EAEF,kBAAC5P,EAAA,EAAD,CAAQC,SAAU6P,EAAqBrN,QARzB,WACrB5F,ExB8GE,SAAsBoR,GACzB,OAAO,SAAepR,GAAf,eAAAC,EAAAC,OAAA,gEAGCF,EAAS,CAACG,KC9GK,gBD+GfK,QAAQC,IAAI2Q,GAJb,WAAAnR,EAAA,MAKwBZ,IAAMuL,OAAN,6BAAmCwG,KAL3D,OAKO/Q,EALP,OAMCL,EAAS,CAACG,KC/GW,oBD+GcG,QAASD,EAASE,OACrDP,EAASD,KAPV,kDASCS,QAAQC,IAAR,MATD,0DwB/GG4S,CAAcjC,KAOgD9N,MAAO,CAACG,WAAY,IAAKlB,QAAQ,YACjGc,MAAM,UAAUK,KAAK,SADrB,cAC2CuP,GAAuB,kBAACzP,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,GAAIC,KAAM,MAKlH,kBAACP,EAAA,EAAD,CAAQC,SAAU6P,EAAqBrN,QAlBzB,WACrB5F,ExBkGE,SAAoBoR,GACvB,OAAO,SAAepR,GAAf,eAAAC,EAAAC,OAAA,gEAGAF,EAAS,CAAEG,KC9FK,gBD2FhB,WAAAF,EAAA,MAIuBZ,IAAM+C,KAAN,2BAA+BgP,KAJtD,OAIM/Q,EAJN,OAKAL,EAAS,CAACG,KC9FY,oBD8FaG,QAASD,EAASE,OACrDP,EAASD,KANT,gDAUCS,QAAQC,IAAR,MAVD,yDwBnGG6S,CAAWlC,KAiBiD9N,MAAO,CAACG,WAAY,IAAKlB,QAAQ,YAC/FmB,KAAK,SADL,WACwBuP,GAAuB,kBAACzP,EAAA,EAAD,CAAkBF,MAAO,CAACG,WAAY,GAAIC,KAAM,OCjC3G,IAAME,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,KAAM,CACJmB,MAAO,OACPN,gBAAiBd,EAAMgC,QAAQC,WAAWC,OAE5CC,OAAQ,CACNC,YAAapC,EAAMK,QAAQ,QAIlB,SAASoP,GAAkBrU,GAAQ,IAEvCkH,EAAuClH,EAAvCkH,KAAMoN,EAAiCtU,EAAjCsU,SAAUxK,EAAuB9J,EAAvB8J,QAASyK,EAAcvU,EAAduU,UAC3BhP,EAAUb,KAEhBpD,QAAQC,IAAI+S,GAMX,OACI,kBAAClJ,GAAA,EAAD,CAAQoJ,SAAS,MAAMtN,KAAMA,EAAMmE,QALnB,WAChBvB,GAAQ,IAIiDjG,WAAS,EAAC8C,SAAS,MACxE,6BACI,kBAACc,EAAA,EAAD,CACIrD,MAAO,CAAC4B,MAAO,QACfrG,UAAU,MACViI,kBAAgB,wBAChBC,UACA,kBAACC,EAAA,EAAD,CAAenI,UAAU,MAAM8D,GAAG,yBAGhC8Q,EAAY,aAAe,WAH7B,IAG0C,6BACzCD,GAAgC,IAApBA,EAASvI,QAAgBwI,EAAY,kCAAoCD,GAAgC,IAApBA,EAASvI,SAAiBwI,GAAa,gCAGzIxR,UAAWwC,EAAQV,MAEjByP,GAAYA,EAASrM,KAAI,SAAChG,EAAMiG,GAAP,OAE3B,kBAAC,WAAD,CAAUA,IAAKA,GAEX,kBAAC,IAAD,CAAMxB,QAAS,kBAAMoD,GAAQ,IAAQ1F,MAAO,CAACK,eAAgB,QAASxE,GAAE,iBAAYgC,EAAKiQ,UACzF,kBAAC/J,EAAA,EAAD,CAAUC,QAAM,EAACrF,UAAWwC,EAAQwB,QAChC,kBAACsB,EAAA,EAAD,KACA,kBAACC,GAAA,EAAD,CACIzC,IAAK5D,EAAKiE,cAGd,kBAACqC,EAAA,EAAD,CAAeC,UAAWvG,EAAKM,oBC1C5C,SAASkS,GAAQzU,GAAQ,IAAD,EAEAmC,oBAAS,GAFT,mBAE5BoS,EAF4B,KAEjBG,EAFiB,OAGTvS,oBAAS,GAHA,mBAG3B+E,EAH2B,KAGrB4C,EAHqB,KAK7BhJ,EAAWe,cACXqQ,EAAUlS,EAAM4S,MAAMC,OAAOpP,GAE7BvB,EAAUH,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGhJ,WACxCyS,EAAiB5S,aAAY,SAAAC,GAAK,OAAIA,EAAMkJ,GAAGyJ,kBAC/CvP,EAAgBrD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKoD,cAChDsO,EAAc5R,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAKuT,mBAC5CX,EAAgEN,EAAhEM,cAAeL,EAAiDD,EAAjDC,UAAWjH,EAAsCgH,EAAtChH,YAAazG,EAAyByN,EAAzBzN,WAAY3D,EAAaoR,EAAbpR,SACrDsS,EAAY9S,aAAY,SAAAC,GAAK,OAAIA,EAAMX,KAAKyT,iBAElDxP,qBAAU,W1B4DP,IAAwB7B,E0B3D3B3C,EAASD,KACTC,G1B0D2B2C,E0B1DHyO,E1B2DjB,SAAepR,GAAf,eAAAC,EAAAC,OAAA,gEAIHF,EAAS,CAACG,KC7Da,oBDyDpB,WAAAF,EAAA,MAKoBZ,IAAMe,IAAN,iBAAoBuC,KALxC,OAKGtC,EALH,OAMHL,EAAS,CAACG,KC9DY,mBDgEtBH,EAAS,CAAEG,KC7FiB,uBD6FWG,QAASD,EAASE,OARtD,gDAWCC,QAAQC,IAAR,MAXD,2D0B1DPT,ErBFG,SAAsB2C,GACzB,OAAO,SAAe3C,GAAf,eAAAC,EAAAC,OAAA,gEAGCF,EAAS,CAACG,KJdK,gBIWhB,WAAAF,EAAA,MAIwBZ,IAAMe,IAAN,uBAA0BuC,KAJlD,OAIOtC,EAJP,OAKCL,EAAU,CAAEG,KJ9BU,qBI8BgBG,QAASD,EAASE,OACxDP,EAAS,CAACG,KJhBI,eIUf,gDASCK,QAAQC,IAAR,MATD,yDqBCEwT,CAAa7C,MAEnB,CAACpR,EAAUoR,IAcd,OACI,yBAAKnP,UAAU,qBACX,kBAAC,IAAD,CAAM9C,GAAG,SACN,kBAAE,KAAF,CAAWmE,MAAO,CAACD,MAAO,UAAWE,OAAQ,GAAI2Q,SAAU,OAG5D5P,EAAciB,MAAQ6L,GAAW,kBAAEnD,GAAF,MACnC,yBAAKhM,UAAU,gBACX,yBAAKA,UAAU,kBAEjB4R,EACE,6BACE,yBAAK9O,IAAKC,IAAcF,IAAI,kBAAkBI,MAAO,IAAKD,OAAQ,IAAK3B,MAAO,CAAC6O,OAAQ,cAG3F,kBAAED,GAAF,CAAanN,IAAKK,EAAYgM,QAASA,EAAS9M,cAAeA,EAAciB,MAE3E,yBAAKtD,UAAU,gBACP,0BAAMqB,MAAO,CAACuE,QAAS,OAAQS,WAAY,aAA3C,IAA0D,gCAAMuL,EAAiB,kBAAExO,EAAA,EAAF,CAAWH,MAAO,IAAKI,UAAU,SAAY,iCAAO7D,EAAP,KAApE,MAA1D,IAAiK6C,EAAciB,MAAQ6L,GAAY,kBAAEwB,GAAF,CAAeC,YAAaA,EAAavO,cAAeA,IAA3P,KACA,2BACEuP,EACF,6BACI,kBAAExO,EAAA,EAAF,CAAWH,MAAO,IAAKI,UAAU,SACjC,kBAAED,EAAA,EAAF,CAAWH,MAAO,IAAKI,UAAU,UAGrC,6BAAMuG,GAAeA,EAArB,KAPA,KASA,yBAAK5J,UAAU,4BACX,kBAACkB,EAAA,EAAD,CACIZ,QAAQ,YACRc,MAAM,UACNC,MAAO,CAACC,OAAQ,sBAAuBwC,WAAY,UAAW1C,MAAO,SAASuC,QA1CrF,WACrBoD,GAAQ,GACR4K,GAAa,KAqCW,KAG8Gd,GAAaA,EAAU7H,OAHrI,gBAIA,kBAAC9H,EAAA,EAAD,CACIZ,QAAQ,YACRc,MAAM,UACNC,MAAO,CAACC,OAAQ,sBAAuBwC,WAAY,UAAW1C,MAAO,SAAUuC,QAzClF,WACrBoD,GAAQ,GACR4K,GAAa,KAoCO,IAGiHT,GAAiBA,EAAclI,OAHhJ,cAKA,kBAAEsI,GAAF,CAAoBE,UAAWA,EAAWrN,KAAMA,EAAM4C,QAASA,EAASwK,SAAUC,EAAYX,EAAYK,MAGjH7O,EAAciB,MAAQ6L,GACvB,kBAAEmB,GAAF,CAAcnB,QAASA,EAASvF,YAAaA,MAIrD,yBAAK5J,UAAU,2BAEdb,EAAU,yBAAKkC,MAAO,CAACuE,QAAS,OAAQ3C,MAAO,OAAQD,OAAQ,SAArD,IAA+D,kBAACzB,EAAA,EAAD,CAAkBF,MAAO,CAACC,OAAQ,QAASG,KAAM,KAAhH,KAAiI,kBAACsO,GAAD,CAAcC,MAAO8B,MClG9J,SAASI,KACpB,OACI,yBAAKlS,UAAU,sBACX,yBAAKA,UAAU,2BACX,qCACA,+EACA,0CAAe,kBAAC,IAAD,CAAM9C,GAAG,QAAQmE,MAAO,CAACK,eAAgB,SAAzC,IAAmD,0CAAnD,QCGXyQ,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASzC,MACvB,2D,aChBA0C,GAAe,CACjBjQ,WAAY,GACZzF,eAAe,EACfsC,SAAS,EACTJ,OAAQ,I,SCANwT,GAAe,CACjB3H,cAAgB,GAChBiB,SAAU,GACV1M,SAAS,EACT0S,gBAAiB,GACjBE,cAAe,GACfjL,UAAW,GACXoH,aAAc,GACdgB,SAAU,ICVRqD,GAAe,CACjBpT,SAAS,EACTJ,OAAQ,GACR2K,cAAc,EACduC,WAAW,EACX/D,UAAU,EACV8I,qBAAqB,EACrBY,gBAAgB,G,UCLdY,GAAWC,aAAiB,CAC9BvT,KHEW,WAAyC,IAA/BD,EAA8B,uDAAtBsT,GAAcnI,EAAQ,uCACnD,OAAOA,EAAOlM,MACV,I5BVqB,gB4BWjB,OAAO,eACAe,EADP,CAEIpC,eAAe,IAEvB,I5BbkB,a4Bcd,OAAO,eACAoC,EADP,CAEIF,OAAQqL,EAAO/L,UAEvB,I5BjBe,U4BkBX,OAAO,eACAY,EADP,CAEIE,SAAS,IAEjB,I5BrBc,S4BsBV,OAAO,eACAF,EADP,CAEIE,SAAS,IAEjB,I5BxBmB,c4ByBf,OAAO,eACAF,EADP,CAEIqD,WAAW,eAAM8H,EAAO/L,WAGhC,I5BnCuB,kB4BoCnB,OAAO,eACAY,EADP,CAEIpC,eAAe,IAGvB,I5BrCoB,e4BsChB,OAAO,eACAoC,EADP,CAEIF,OAAQ,KAGhB,QAAS,OAAOE,IGzCpBX,KFSW,WAAyC,IAA/BW,EAA8B,uDAAtBsT,GAAcnI,EAAQ,uCACnD,OAAOA,EAAOlM,MACV,I7BVqB,gB6BWjB,OAAO,eACAe,EADP,CAEI4M,SAAS,aAAKzB,EAAO/L,QAAQ2R,OAC7B9B,aAAc,GACdtD,cAAeR,EAAO/L,QAAQuM,gBAEtC,I7BhB4B,uB6BiBxB,OAAO,eACA3L,EADP,CAEI4S,gBAAgB,eAAMzH,EAAO/L,WAErC,I7BpB0B,qB6BqBtB,OAAO,eACAY,EADP,CAEI8S,cAAc,aAAM3H,EAAO/L,WAEnC,I7BxBoB,e6ByBhB,OAAO,eACAY,EADP,CAEI4M,SAAS,CAAD,eAASzB,EAAO/L,UAAhB,oBAA8BY,EAAM4M,WAC5CkG,cAAc,CAAD,eAAS3H,EAAO/L,UAAhB,oBAA8BY,EAAM8S,kBAEzD,I7B7BmB,c6B8Bf,OAAO,eACA9S,EADP,CAEI4M,SAAU5M,EAAM4M,SAAS5G,QAAO,SAAA9E,GAAI,OAAIA,EAAKmD,MAAQ8G,EAAO/L,WAC5D0T,cAAe9S,EAAM8S,cAAc9M,QAAO,SAAA9E,GAAI,OAAIA,EAAKmD,MAAQ8G,EAAO/L,WACtE6P,aAAc,KAEtB,I7BnCoB,e6BoChB,OAAO,eACAjP,EADP,CAEIE,SAAS,IAEjB,I7BvCmB,c6BwCf,OAAO,eACAF,EADP,CAEIE,SAAS,IAEjB,I7B3C+B,0B6B4C3B,OAAO,eACAF,EADP,CAEI4M,SAAS,aAAKzB,EAAO/L,WAE7B,I7B/CmB,c6BgDf,OAAO,eACAY,EADP,CAEI4M,SAAU,KAElB,I7BnDiB,Y6BoDb,OAAO,eACA5M,EADP,CAEI6H,UAAU,aAAKsD,EAAO/L,WAE9B,I7BtDgB,W6BuDZ,OAAO,eACAY,EADP,CAEIiP,aAAa,eAAM9D,EAAO/L,WAElC,I7B5DyB,oB6B6DrB,OAAO,eACAY,EADP,CAEIiQ,SAAS,aAAM9E,EAAO/L,WAE9B,I7B/DkB,a6BiEd,OADAE,QAAQC,IAAI4L,EAAO/L,SACZ,eACAY,EADP,CAEIiQ,SAAUjQ,EAAMiQ,SAAShK,KAAI,SAAAwJ,GACzB,OAAGA,EAAQpL,MAAQ8G,EAAO/L,QAAQiF,IACb8G,EAAO/L,QAErBqQ,OAInB,I7B1EiB,Y6B2EjB,I7B1EmB,c6B2Ef,OAAO,eAAKzP,EAAZ,CACC4M,SAAU5M,EAAM4M,SAAS3G,KAAI,SAAA/E,GAC1B,OAAIA,EAAKmD,MAAQ8G,EAAO/L,QAAQiF,IACvB,eAAInD,EAAX,CAAiB0I,MAAM,aAAKuB,EAAO/L,QAAQwK,SAEtC1I,KAEV4R,cAAe9S,EAAM8S,cAAc7M,KAAI,SAAA/E,GACnC,OAAGA,EAAKmD,MAAQ8G,EAAO/L,QAAQiF,IACpB,eAAInD,EAAX,CAAiB0I,MAAM,aAAKuB,EAAO/L,QAAQwK,SAExC1I,KAEX+N,aAAa,eAAKjP,EAAMiP,aAAZ,CAA0BrF,MAAM,aAAKuB,EAAO/L,QAAQwK,WAErE,I7B5EyB,oB6B6ErB,OAAO,eACA5J,EADP,CAEI4S,gBAAgB,eAAKzH,EAAO/L,WAEpC,QAAS,OAAOY,IE7GpBkJ,GDKW,WAAwC,IAA/BlJ,EAA8B,uDAAtBsT,GAAcnI,EAAQ,uCAClD,OAAOA,EAAOlM,MACV,QACK,OAAOe,EAChB,I9BOuB,c8BNnB,OAAO,eACAA,EADP,CAEIE,SAAS,IAEjB,I9BGsB,a8BFlB,OAAO,eACAF,EADP,CAEIE,SAAS,IAEjB,I9BDqB,Y8BGjB,OADAZ,QAAQC,IAAI4L,EAAO/L,SACZ,eACAY,EADP,CAEIF,OAAQqL,EAAO/L,UAEvB,I9BNuB,c8BOnB,OAAO,eACAY,EADP,CAEIF,OAAQ,KAEhB,I9BV0B,iB8BWtB,OAAO,eACAE,EADP,CAEIyK,cAAc,IAEtB,I9Bd6B,oB8BezB,OAAO,eACAzK,EADP,CAEIyK,cAAc,IAEtB,I9BlBqB,Y8BmBjB,OAAO,eACAzK,EADP,CAEIgN,WAAW,IAEnB,I9BtBoB,W8BuBhB,OAAO,eACAhN,EADP,CAEIgN,WAAW,IAEnB,I9B1BoB,W8B2BhB,OAAO,eACAhN,EADP,CAEIiJ,UAAU,IAElB,I9B9BmB,U8B+Bf,OAAO,eACAjJ,EADP,CAEIiJ,UAAU,IAElB,I9BlCuB,c8BmCnB,OAAO,eACAjJ,EADP,CAEI+R,qBAAqB,IAE7B,I9BtCsB,a8BuClB,OAAO,eACA/R,EADP,CAEI+R,qBAAqB,IAE7B,I9BzC2B,kB8B0CvB,OAAO,eACA/R,EADP,CAEI2S,gBAAgB,IAExB,I9B7C0B,iB8B8CtB,OAAO,eACA3S,EADP,CAEI2S,gBAAgB,QCzEZc,GAFFC,aAAYH,GAAUI,aAAgBC,O,OCLpDC,IAAS9V,OAAO,kBAAC,IAAD,CAAU+V,MAAOL,IAAjB,IAAyB,mBCa1B,WAEb,IAAM7V,EAAgBmC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKrC,iBAEhDkB,EAAWe,cAEbtB,EAAQC,aAAaI,QAAQ,gBAEjC,GAAGL,EAAO,CACV,IAAMwV,EAAeC,IAAUzV,GAC/BJ,IAAMC,SAASM,QAAQC,OAAvB,cAAiDJ,EACjDO,EAAS,CAAEG,KjC9BgB,kBiCgCH,IAAnB8U,EAAaE,IAAaC,KAAKC,OAClCrV,EAASU,KAIX,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAiB4U,OAAK,EAACvW,KAAK,YAAYD,cAAeA,EAAeD,UAAWiC,IACjF,kBAAC,EAAD,CAAgBwU,OAAK,EAACvW,KAAK,QAAaD,cAAeA,EAAeD,UAAW8Q,KACjF,kBAAC,EAAD,CAAiB2F,OAAK,EAACvW,KAAK,IAAYD,cAAeA,EAAeD,UAAW+Q,KACjF,kBAAC,EAAD,CAAgB0F,OAAK,EAACvW,KAAK,aAAaD,cAAeA,EAAeD,UAAW8U,KACjF,kBAAC,EAAD,CAAgB2B,OAAK,EAACvW,KAAK,aAAaD,cAAeA,EAAeD,UAAWgT,KACjF,kBAAC,IAAD,CAAOyD,OAAK,EAACvW,KAAK,IAAIF,UAAWsV,UDxCF,MAAzB,KAA8C1G,SAASC,eAAe,SL4HhF,kBAAmB6H,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,iB,mBOrInBnX,EAAOC,QAAU,IAA0B,4C","file":"static/js/main.486cdda0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image-preview.df803060.png\";","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, authenticated, path, ...rest }) => {\r\n\r\nreturn (\r\n  <Route\r\n    path={path}\r\n    {...rest}\r\n    render={(props) => { return authenticated ? <Component {...props} /> : <Redirect to='/' /> \r\n    }}\r\n  />\r\n)};\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst RestrictedRoute = ({ component: Component, authenticated, path, ...rest }) => {\r\n\r\nreturn (\r\n  <Route\r\n    path={path}\r\n    {...rest}\r\n    render={(props) => { return !authenticated ? <Component {...props} /> : <Redirect to='/Home' /> \r\n    }}\r\n  />\r\n)};\r\n\r\nexport default RestrictedRoute","import { AUTHENTICATED, UNAUTHENTICATED, SET_ERRORS, LOADING, LOADED,\r\n     CLEAR_ERRORS, USER_LOGGED, SET_SELECTED_PROFILE,\r\n      LOADING_SUB, LOADED_SUB, SET_FOLLOWED_USER, LOADING_PROFILE, PROFILE_LOADED } from '../reducers/types'\r\nimport axios from 'axios'\r\n\r\naxios.defaults.baseURL = 'https://clonetagram.herokuapp.com/api'\r\n\r\n//SET TOKEN IN LOCALSTORAGE\r\nconst setToken = (token) => {\r\n    localStorage.setItem('x-auth-token', token)\r\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('x-auth-token')\r\n}\r\n\r\nexport function getConnectedUser() {\r\n        return async function(dispatch) {\r\n            try {\r\n                dispatch({type: LOADING})\r\n                const response = await axios.get('/users/me')\r\n                dispatch({type: USER_LOGGED, payload: response.data})\r\n                dispatch({type: LOADED})\r\n                dispatch({type: LOADED_SUB}) \r\n            } catch (err) {\r\n                console.log(err)     \r\n            }\r\n        }\r\n}\r\n\r\nexport function registerUser(values, history) {\r\n        return async function(dispatch) {\r\n\r\n            dispatch({type: LOADING})\r\n\r\n            try {\r\n                const response = await axios.post('/user/register', values)\r\n                \r\n                dispatch({type: LOADED})\r\n                setToken(response.data.token)\r\n                dispatch({ type: AUTHENTICATED })\r\n                dispatch({type: CLEAR_ERRORS})\r\n                history.push('/Home')\r\n            } catch (err) {\r\n                dispatch({ type: SET_ERRORS, payload: err.response.data.errors })   \r\n                dispatch({type:LOADED})\r\n            }  \r\n        }\r\n}\r\n\r\nexport function loginUser (values, history) {\r\n    return async function(dispatch) {\r\n\r\n        dispatch({ type: LOADING })\r\n\r\n        try {\r\n            const response = await axios.post('/user/login', values)\r\n            dispatch({type: LOADED})\r\n            setToken(response.data.token)\r\n            dispatch({type: AUTHENTICATED})\r\n            dispatch({type: CLEAR_ERRORS})\r\n            history.push('/Home')            \r\n        } catch (err) {\r\n            dispatch({ type: SET_ERRORS, payload: err.response.data.errors })   \r\n            dispatch({type:LOADED})\r\n        }\r\n    }\r\n}\r\n\r\nexport function logOutUser (history) {\r\n\r\n    return async function(dispatch) {\r\n        localStorage.removeItem('x-auth-token')\r\n        delete axios.defaults.headers.common['Authorization']\r\n        dispatch ({ type: UNAUTHENTICATED })\r\n        history.push('/')\r\n    }\r\n}\r\n\r\nexport function editProfileImage (newImage, setLoading) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n         const response = await axios.put('/users/image', newImage, {\r\n            headers: {\r\n              'content-type': 'multipart/form-data'\r\n            }\r\n          })\r\n         dispatch({type: SET_SELECTED_PROFILE, payload: response.data})\r\n         setLoading(false)\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function getUserProfile(id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n        \r\n        dispatch({type: LOADING_PROFILE})\r\n        const response = await axios.get(`/users/${id}`)\r\n        dispatch({type: PROFILE_LOADED})\r\n\r\n        dispatch({ type: SET_SELECTED_PROFILE, payload: response.data})\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addUserDetails(data, setLoading) {\r\n    return async function(dispatch) {\r\n\r\n        try {  \r\n            const response = await axios.post('users/me/details',{ details: data } )\r\n            dispatch({type: SET_SELECTED_PROFILE, payload: response.data})\r\n            setLoading(false)\r\n    \r\n        } catch (err) {\r\n           setLoading(false)\r\n        }\r\n    }\r\n}\r\n\r\nexport function followUser(user_id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n           dispatch({ type: LOADING_SUB })\r\n           const response = await axios.post(`/users/subscribe/${user_id}`)\r\n           dispatch({type: SET_FOLLOWED_USER, payload: response.data})\r\n           dispatch(getConnectedUser())\r\n         \r\n           \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function unfollowUser(user_id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n            dispatch({type: LOADING_SUB})\r\n            console.log(user_id)\r\n            const response = await axios.delete(`/users/unsubscribe/${user_id}`)\r\n            dispatch({type: SET_FOLLOWED_USER, payload: response.data})\r\n            dispatch(getConnectedUser())  \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}","// USER TYPES\r\nexport const AUTHENTICATED = 'AUTHENTICATED'\r\nexport const UNAUTHENTICATED = 'UNAUTHENTICATED'\r\nexport const SET_ERRORS = 'SET_ERRORS'\r\nexport const LOADING = 'LOADING'\r\nexport const LOADED = 'LOADED'\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'\r\nexport const USER_LOGGED = 'USER_LOGGED'\r\n// DATA TYPES\r\nexport const GET_ALL_POSTS = 'GET_ALL_POSTS'\r\nexport const SET_SELECTED_PROFILE = 'SET_SELECTED_PROFILE'\r\nexport const SET_SELECTED_POSTS = 'SET_SELECTED_POSTS'\r\nexport const SET_NEW_POST = 'SET_NEW_POST'\r\nexport const DELETE_POST = 'DELETE_POST'\r\nexport const DATA_LOADING = 'DATA_LOADING'\r\nexport const DATA_LOADED = 'DATA_LOADED'\r\nexport const SET_SUBSCRIPTIONS_POSTS = 'SET_SUBSCRIPTIONS_POSTS'\r\nexport const CLEAN_POSTS = 'CLEAN_POSTS'\r\nexport const SET_USERS = 'SET_USERS'\r\nexport const SET_POST_COMMENTS = 'SET_POST_COMMENTS'\r\nexport const SET_POST = 'SET_POST'\r\nexport const SET_REPLYS = 'SET_REPLYS'\r\nexport const SET_LIKES = 'SET_LIKES'\r\nexport const SET_DISLIKE = 'SET_DISLIKE'\r\n// UI TYPES\r\nexport const SET_LOADING = 'SET_LOADING'\r\nexport const SET_LOADED = 'SET_LOADED'\r\nexport const SET_ERROR = 'SET_ERROR'\r\nexport const CLEAR_ERROR = 'CLEAR_ERROR'\r\nexport const ON_SINGLE_POST = 'ON_SINGLE_POST'\r\nexport const CLOSE_SINGLE_POST = 'CLOSE_SINGLE_POST'\r\nexport const UPLOADING = 'UPLOADING'\r\nexport const UPLOADED = 'UPLOADED'\r\nexport const DELETING = 'DELETING'\r\nexport const DELETED = 'DELETED'\r\nexport const LOADING_SUB = 'LOADING_SUB'\r\nexport const LOADED_SUB = 'LOADED_SUB'\r\nexport const SET_FOLLOWED_USER = 'SET_FOLLOWED_USER'\r\nexport const LOADING_PROFILE = 'LOADING_PROFILE'\r\nexport const PROFILE_LOADED = 'PROFILE LOADED'","import React,{ useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n// MUI Stuff\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n// REDUX\r\nimport { registerUser } from '../../redux/actions/UserActions'\r\nimport { SET_ERRORS } from '../../redux/reducers/types'\r\n\r\n\r\nexport default function Register(props) {\r\n\r\nconst initialState = {\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: '',\r\n  username: ''\r\n}\r\n\r\nconst dispatch = useDispatch()\r\nconst errors = useSelector(state => state.user.errors)\r\nconst loading = useSelector(state => state.user.loading)\r\nconst [values, setValues] = useState(initialState);\r\n\r\nconst handleChange = (e) => {\r\n  setValues({\r\n    ...values,\r\n    [e.target.name]: e.target.value\r\n  })\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n\r\nif(values.password === values.confirmPassword) {\r\n\r\n  e.preventDefault()\r\n  dispatch(registerUser(values, props.history))\r\n} else {\r\n  \r\n  e.preventDefault()\r\n  dispatch({type: SET_ERRORS, payload: { confirmPassword: 'Las contraseñas deben coincidir' }})\r\n}\r\n  \r\n }\r\n    return (\r\n      <div className='login-container'>\r\n\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            \r\n          <Typography variant='h3'>\r\n              Regístrate!\r\n            </Typography>\r\n            <TextField\r\n              error={errors.email ? true : false}\r\n              required\r\n              id='email'\r\n              name='email'\r\n              type='email'\r\n              label='E-mail'\r\n              helperText={errors && errors.email}\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              \r\n            />\r\n            <TextField\r\n              error={errors.password ? true : false}\r\n              inputProps={{ minLength: 6, maxLength: 20 }}\r\n              id='password'\r\n              name='password'\r\n              type='password'\r\n              label='Contraseña'\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              helperText={errors && errors.password}\r\n              fullWidth\r\n              required\r\n    \r\n            />\r\n             <TextField\r\n              required\r\n              error={errors.confirmPassword ? true : false}\r\n              inputProps={{ minLength: 6, maxLength: 20 }}\r\n              id='confirmPassword'\r\n              name='confirmPassword'\r\n              type='password'\r\n              label= 'Confirmar contraseña'\r\n              value={values.confirmPassword}\r\n              onChange={handleChange}\r\n              helperText={errors.confirmPassword && errors.confirmPassword}\r\n              fullWidth\r\n            />\r\n             <TextField\r\n             inputProps={{ minLength: 4, maxLength: 20 }}\r\n              error={errors.username ? true : false}\r\n              id='username'\r\n              name='username'\r\n              type='text'\r\n              label= 'Nombre completo (todos veran tu nombre)'\r\n              value={values.username}\r\n              onChange={handleChange}\r\n              helperText={errors && errors.username}\r\n              fullWidth\r\n              required\r\n            />\r\n           \r\n            <Button\r\n              disabled={loading}\r\n              type='submit'\r\n              variant='contained'\r\n              color='primary'\r\n              style={{margin: '25px auto 25px auto' }}\r\n            >\r\n            Registrarse!\r\n\r\n            { loading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n              \r\n            </Button>\r\n\r\n            <br />\r\n       \r\n            <small>\r\n            Tienes una cuenta? <Link  style={{textDecoration: 'none', color: '#046B86'}} to='/'> Inicia sesión </Link>\r\n            </small>\r\n          </form>\r\n      </div>\r\n    );\r\n}\r\n\r\n","import React,{ useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport noProfileImg from '../../images/noprofileimg2.png'\r\n// REDUX\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getConnectedUser, logOutUser } from '../../redux/actions/UserActions'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}))\r\n\r\nexport default function LoggedUser(props) {\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n  const loading = useSelector(state => state.user.loading)\r\n  const dispatch = useDispatch()\r\n \r\n  useEffect(() => {\r\n  dispatch(getConnectedUser())\r\n  }, [dispatch])\r\n\r\n  const classes = useStyles()\r\n\r\n  const handleLogOut = () => {\r\n    dispatch(logOutUser(props.history))\r\n  }\r\n\r\n  return (\r\n\r\n    <nav className={classes.root}>\r\n      <AppBar position='fixed' style={{backgroundColor: '#121212'}} >\r\n        <Toolbar>\r\n\r\n          { loading ?\r\n\r\n          <div> \r\n            <img alt='no-profile' src={noProfileImg} height={50} width={50} style={{borderRadius: '50%', margin: 10}}/>\r\n          </div>  \r\n        \r\n          : \r\n\r\n          <div> \r\n            <img alt='profile' src={connectedUser.profileImg} height={50} width={50} style={{borderRadius: '50%', margin: 10}}/>\r\n          </div>          \r\n          }\r\n\r\n            <Typography variant='h6' className={classes.title} style={{margin: 15}}>\r\n              { loading ? < Skeleton width={150} animation=\"wave\" /> : <div> {connectedUser.username} </div>  }\r\n              \r\n            </Typography>\r\n      \r\n            <div>\r\n              <ToolTip title='Perfil'>\r\n              <Link style={{textDecoration: 'none', color: 'white'}} to={`/users/${connectedUser._id}`}> \r\n                  <IconButton\r\n                        aria-label='account of current user'\r\n                        aria-controls='menu-appbar'\r\n                        aria-haspopup='true'\r\n                        color='inherit'\r\n                      >\r\n                      <AccountCircle />\r\n                  </IconButton>\r\n              </Link>\r\n              </ToolTip>\r\n\r\n              <ToolTip title='Desconectarse'> \r\n                  <IconButton onClick={handleLogOut} color='inherit'>  \r\n                      < ExitToAppIcon />  \r\n                  </IconButton> \r\n              </ToolTip>\r\n            </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </nav>\r\n  );\r\n}\r\n","import React,{ Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// REDUX\r\nimport { useSelector } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport default function UserList(props) {\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n  const { open } = props\r\n\r\n  const classes = useStyles() \r\n\r\n  return (\r\n      <Fragment> \r\n  \r\n        {open ? <ExpandLess /> : <ExpandMore />}\r\n  \r\n      <Collapse in={open} timeout=\"auto\" unmountOnExit style={{position: 'absolute', transform: 'translateY(20px)' }}  >\r\n        <Paper  > \r\n        <List style={{maxHeight: 500, width: 210, overflowY: 'auto' }}\r\n        component=\"nav\"\r\n      \r\n        aria-labelledby=\"nested-list-subheader\"\r\n        subheader={\r\n        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n         Usuarios...\r\n        </ListSubheader>\r\n      }\r\n      className={classes.root}>\r\n        {props.searchResults.filter(user => user._id !== connectedUser._id ).map((user, key) =>\r\n        <Fragment key={key} >\r\n          <Link style={{textDecoration: 'none'}} to={`/users/${user._id}`} > <ListItem button className={classes.nested} >\r\n            <ListItemAvatar>\r\n              <Avatar\r\n                src={user.profileImg}\r\n              />\r\n            </ListItemAvatar>\r\n            <ListItemText  secondary={user.username} />\r\n          </ListItem>\r\n          </Link>\r\n\r\n        </Fragment>  \r\n        )}\r\n         </List>\r\n         </Paper>\r\n      </Collapse>\r\n      </Fragment>\r\n  )\r\n}","import { GET_ALL_POSTS, SET_SELECTED_POSTS, SET_NEW_POST, DELETE_POST, SET_SUBSCRIPTIONS_POSTS,\r\n     SET_USERS, SET_POST_COMMENTS, SET_POST, SET_LIKES, SET_DISLIKE, SET_LOADING,\r\n     SET_LOADED, SET_ERROR, SET_REPLYS, UPLOADING, UPLOADED, DELETING, DELETED } from '../reducers/types'\r\nimport axios from 'axios'\r\n\r\nexport function getAllPosts() {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get('/posts')\r\n            dispatch( {type: GET_ALL_POSTS, payload: response.data} )\r\n            dispatch({type: SET_LOADED})\r\n            console.log(response)\r\n            \r\n        } catch (err) {\r\n            console.log(err)            \r\n        }\r\n    }\r\n}\r\n\r\nexport function getPostsFromPage (page) {\r\n    return async function(dispatch) {\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get(`/posts/?page=${page}`)\r\n            dispatch( {type: GET_ALL_POSTS, payload: response.data} )\r\n            dispatch({type: SET_LOADED})\r\n            \r\n        } catch (err) {\r\n            console.log(err)            \r\n        }\r\n    }\r\n}\r\n\r\nexport function getUserPosts(id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get(`/posts/users/${id}`)\r\n            dispatch( { type: SET_SELECTED_POSTS, payload: response.data })\r\n            dispatch({type: SET_LOADED})\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function newPost(data, setOpen) {\r\n    return async function(dispatch) {\r\n\r\n        try {  \r\n                dispatch({type: UPLOADING })\r\n                const response =  await axios.post('/posts/add', data, { headers: {\r\n                     'content-type': 'multipart/form-data' \r\n                     }\r\n                })         \r\n                console.log(response.data)\r\n                dispatch({type: UPLOADED})\r\n                setOpen(false)\r\n                dispatch({ type: SET_NEW_POST, payload: response.data })\r\n\r\n\r\n        } catch (err) {\r\n            dispatch({type: SET_ERROR, payload: err.response.data}) \r\n            dispatch({type: UPLOADED})      \r\n        }\r\n    }\r\n}\r\n\r\nexport function deletePost(postid) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            dispatch({type: DELETING })\r\n            await axios.delete(`/posts/${postid}/delete`)\r\n            dispatch({ type: DELETE_POST, payload: postid })\r\n            dispatch({type: DELETED })\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\n export function getSubscriptionsPosts() {\r\n     return async function(dispatch) {\r\n\r\n         try {\r\n           dispatch({type: SET_LOADING })  \r\n           const response = await axios.get('/posts/user/subscriptions')           \r\n           dispatch({type: SET_SUBSCRIPTIONS_POSTS, payload: response.data})\r\n           dispatch({type: SET_LOADED })  \r\n            \r\n         } catch (err) {\r\n             console.log(err)  \r\n         }\r\n     }\r\n }\r\n\r\nexport function getAllUsers (search) {\r\n    return async function(dispatch) {\r\n        try {\r\n           const response =  await axios.get(`/users/?search=${search}`)\r\n           console.log(response.data) \r\n           dispatch({ type: SET_USERS, payload: response.data })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function getPost(id, history) {\r\n    return async function(dispatch) {\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get(`/posts/post/${id}`)\r\n            dispatch({type: SET_POST, payload: response.data})\r\n            dispatch({type: SET_LOADED})\r\n             \r\n        } catch (err) {\r\n            if (err.response.data === 'El post no existe') { history.push('/*')}\r\n            console.log(err.response.data)            \r\n        }\r\n    }\r\n}\r\n\r\nexport function getPostComments(id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n            const response = await axios.get(`/comments/${id}`)\r\n            dispatch({ type: SET_POST_COMMENTS, payload: response.data})\r\n\r\n        } catch (err) {\r\n\r\n            console.log(err.response)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addComment(content, id, setLoading) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n\r\n            const response = await axios.post(`/comments/${id}`, content)\r\n            dispatch({ type: SET_POST_COMMENTS, payload: response.data})\r\n            setLoading(false)\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function deleteComment(comment_id, post_id) {\r\n    return async function(dispatch) {\r\n        try {\r\n\r\n            await axios.delete(`/comments/${comment_id}/delete`)\r\n            dispatch(getPostComments(post_id))\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n            \r\n        }\r\n    }\r\n}\r\n\r\nexport function addReply(content, comment_id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n           const response = await axios.post(`/comments/${comment_id}/reply`, content)\r\n           dispatch({ type: SET_REPLYS, payload: response.data })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport  const likeAPost = (post_id) => async (dispatch) => {\r\n\r\n        try {\r\n\r\n            const response = await axios.post(`/posts/${post_id}/like`)\r\n            console.log(response.data)\r\n            dispatch({type: SET_LIKES, payload: response.data })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            \r\n        }\r\n    }\r\n\r\nexport function dislikeAPost(post_id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            const response = await axios.delete(`/posts/${post_id}/dislike`)\r\n            dispatch({ type: SET_DISLIKE, payload: response.data })\r\n       \r\n        } catch (err) {\r\n            console.log(err)\r\n            \r\n        }\r\n    }\r\n}\r\n","import React,{ useState, useEffect } from 'react'\r\nimport UserList from './userlist/UserList'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAllUsers } from '../../../redux/actions/DataActions'\r\n// MUI\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Button from '@material-ui/core/Button'\r\nimport PublicIcon from '@material-ui/icons/Public'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport { fade, makeStyles } from '@material-ui/core/styles'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginTop: 80\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 120,\r\n      '&:focus': {\r\n        width: 200,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SearchAppBar(props) {\r\n\r\n const usersList = useSelector(state => state.data.usersList)\r\n\r\n const [open, setOpen] = useState(false)\r\n const [filter, setFilter] = useState('')\r\n const [searchResults, setSearchResults] = useState([])\r\n const [typingTimeout, setTypingTimeOut ] = useState(0)\r\n\r\n const dispatch = useDispatch()\r\n\r\n const classes = useStyles()\r\n\r\n const { handlePosts, setHandlePosts } = props\r\n\r\n useEffect(() => {\r\n  const results = usersList.filter(user =>\r\n    user.username.toLocaleLowerCase().includes(filter.toLocaleLowerCase()) \r\n  );\r\n  setSearchResults(results);\r\n}, [filter, usersList]);\r\n\r\n const handleFilter = (e) => {\r\n\r\n  if(typingTimeout) clearTimeout(typingTimeout)\r\n \r\n  setFilter(e.target.value)\r\n  setOpen(true)\r\n  setTypingTimeOut(setTimeout( () => dispatch(getAllUsers(filter)), 1000))\r\n\r\n }\r\n \r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{backgroundColor: '#121212'}}>\r\n        <Toolbar>\r\n        <div className='posts-navbar-container'> \r\n            <div>  \r\n              <Button onClick={() => setHandlePosts(true) } variant=\"contained\" style={{backgroundColor: handlePosts ? '#e5e5e5' : '#121212'}}>\r\n                < HomeIcon style={{color: '#888888'}} />\r\n              </Button>\r\n              \r\n              <Button onClick={() => setHandlePosts(false) } variant=\"contained\" style={{backgroundColor: handlePosts ? '#121212' : '#e5e5e5'}} >\r\n               < PublicIcon style={{color: '#888888'}} />\r\n              </Button>\r\n            </div>\r\n          \r\n            <div className={classes.search} >\r\n                <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n                </div>\r\n                <InputBase             \r\n                onChange={handleFilter}\r\n                value={filter}\r\n                onFocus={handleFilter}\r\n                onBlur={() => setOpen(false)}\r\n                placeholder=\"Buscar...\"\r\n                classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                />\r\n              <UserList open={open} setOpen={setOpen} searchResults={searchResults} />\r\n            </div>\r\n        </div>            \r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { deletePost } from '../../../../redux/actions/DataActions'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// MUI\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function DeletePost(props) {\r\n\r\n    const [open, setOpen] = useState(false)\r\n\r\n    const deleting = useSelector(state => state.UI.deleting)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if(!deleting ) {\r\n            setOpen(false)\r\n        }\r\n       }, [deleting])\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deletePost(props.post_id))\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <ToolTip title=\"Borrar Post\" placement=\"bottom\">\r\n                <IconButton onClick={() => setOpen(true)}> \r\n                    <DeleteIcon color=\"primary\" />\r\n                </IconButton> \r\n            </ToolTip>\r\n            <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"sm\" >\r\n                \r\n                <DialogTitle> Estas Seguro de que quieres borrar esta publicacíon ? </DialogTitle>\r\n\r\n                <DialogActions>\r\n                    <Button disabled={deleting} onClick={handleDelete} variant='contained' color=\"primary\">\r\n                    Si { deleting && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n                    </Button>\r\n                    <Button onClick={() => setOpen(false)} variant='contained' color=\"secondary\">\r\n                    Cancelar\r\n                    </Button> \r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { likeAPost, dislikeAPost } from '../../../../redux/actions/DataActions'\r\n// MUI\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport FavoriteIcon from '@material-ui/icons/Favorite'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\nexport default function HandleLikes(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const connectedUser = useSelector(state => state.user.loggedUser)\r\n\r\n    const { likes, _id } = props.post\r\n\r\n    const liked = connectedUser && likes && likes.filter(like => like.user === connectedUser._id).length > 0 ? true : false\r\n\r\n       const handleLike = () => {\r\n        dispatch(likeAPost(_id))\r\n    }\r\n\r\n    const handleDislike = () => {\r\n        dispatch(dislikeAPost(_id))\r\n    }\r\n\r\n    return (\r\n            <div>\r\n                { liked ?\r\n                      <IconButton onClick={handleDislike}  aria-label='add to favorites'>\r\n                      <FavoriteIcon  /> { likes && likes.length }\r\n                  </IconButton>    \r\n           \r\n                :  \r\n                <IconButton  onClick={handleLike} aria-label='add to favorites'>\r\n                <FavoriteBorderIcon  /> { likes && likes.length }\r\n            </IconButton> \r\n          \r\n                }            \r\n            </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport DeletePost from './deletepost/DeletePost'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\nimport HandleLikes from './handlelikes/HandleLikes'\r\n// REDUX\r\nimport { useSelector } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SpeakerNotesIcon from '@material-ui/icons/SpeakerNotes'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { red } from '@material-ui/core/colors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}))\r\n\r\nexport default function Post(props) {\r\n\r\n  const onSinglePost = useSelector(state => state.UI.onSinglePost)\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n \r\n  const { imageURL, description, date, userRef, _id, commentCount } = props.post\r\n\r\n  const classes = useStyles()\r\n \r\n  return (\r\n   \r\n    <Card elevation={8} style={{objectFit: 'cover'}}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label='profile-pic' className={classes.avatar}>\r\n            <Link to={`/users/${userRef && userRef._id}`}> <img height={50} width={50} src={ userRef && userRef.profileImg} alt='profile-pic' /> </Link>\r\n          </Avatar>\r\n        }\r\n        action={\r\n        <div> \r\n          { userRef && userRef._id === connectedUser._id && < DeletePost post_id={_id}  /> }\r\n        </div>\r\n        }\r\n        title={userRef && userRef.username}\r\n        subheader={moment(date).format('LLL')}\r\n      />\r\n\r\n      <img src={imageURL} height={350} width={'100%'} alt='Post' /> \r\n\r\n      <CardContent style={{margin: '15px 0px 0px 15px', padding: 0}}>\r\n        <Typography color='textSecondary' component='p' style={{minHeight: 20, maxHeight: 20}}>\r\n        { description }\r\n        </Typography>\r\n\r\n        <Typography style={{marginTop: 20 }} variant='body2' color='textSecondary' component='p'>\r\n       \r\n        </Typography>\r\n      </CardContent>\r\n      \r\n      <CardActions disableSpacing>\r\n        < HandleLikes post={props.post} /> \r\n        < Link style={{textDecoration: 'none' }} to={`/posts/${_id}`}> \r\n      { !onSinglePost && <IconButton>  < SpeakerNotesIcon/>{commentCount}  </IconButton>  }\r\n        </Link>\r\n      </CardActions>\r\n    </Card>\r\n  \r\n  )\r\n}","import React,{ useState, useEffect } from 'react'\r\n// REDUX\r\nimport { getPostsFromPage } from '../../redux/actions/DataActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nexport default function Pagination() {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const numberOfPosts = useSelector(state => state.data.numberOfPosts)\r\n    const [ numberOfPages, setNumberOfPages ] = useState(1)\r\n    const [ currentPage, setCurrentPage ] = useState('page-1')\r\n\r\n    let postsPerPage = 8;\r\n    let pagination = []\r\n\r\n    for(let i = 1; i <= numberOfPages; i++) {\r\n        pagination.push(i)\r\n    } \r\n\r\n    useEffect(() => {\r\n    setNumberOfPages( Math.ceil(numberOfPosts / postsPerPage)) \r\n    }, [numberOfPosts, postsPerPage])\r\n\r\n    const handlePagination = (page) => {\r\n\r\n       dispatch(getPostsFromPage(page))\r\n       setCurrentPage(`page-${page}`)\r\n\r\n       let selectedPage = document.getElementById(`page-${page}`)\r\n       selectedPage.classList.add('selected-page')\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className='pagination-container'>\r\n\r\n            { pagination.map( (page, key) => \r\n            \r\n            <span className={ currentPage === `page-${page}` ? 'selected-page' : null } id={`page-${page}`} onClick={() => handlePagination(page)} key={key}> {page} </span>\r\n            \r\n            )}\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React,{ useEffect } from 'react'\r\nimport Post from '../post/Post'\r\nimport Pagination from '../../../components/pagination/Pagination'\r\n// REDUX\r\nimport { getAllPosts, getSubscriptionsPosts } from '../../../redux/actions/DataActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// MUI \r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function AllPosts(props) {\r\n\r\n const { allPosts, handlePosts } = props\r\n const dispatch = useDispatch()\r\n\r\n const loading = useSelector(state => state.UI.loading)\r\n\r\n useEffect(() => {\r\n    \r\n     if(handlePosts) {\r\n        dispatch(getSubscriptionsPosts())\r\n         \r\n     } else {\r\n        dispatch(getAllPosts())\r\n     }\r\n\r\n }, [dispatch, handlePosts])\r\n\r\n    return (\r\n        <div style={{display: 'flex', flexDirection: 'column', width: '100%'}} >\r\n         <div> \r\n         <div> { !handlePosts && <Pagination /> } </div>     \r\n         </div>\r\n        { loading ? \r\n\r\n        <div style={{display: 'flex', width: '100%', height: '100vh'}}> \r\n            <CircularProgress style={{margin: 'auto'}} size={60} /> \r\n        </div> : \r\n\r\n        <div className={handlePosts ? 'allPosts-container' : 'allPosts-container-dos'}>\r\n            { allPosts.map((post, key) => < Post key={key} post={post} />) }\r\n        </div> }\r\n       \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PostsNavbar from './postsnavbar/PostsNavbar'\r\nimport AllPosts from './allposts/AllPosts'\r\n\r\nexport default function Posts() {\r\n\r\nconst allPosts = useSelector(state => state.data.allPosts)\r\n\r\nconst [ handlePosts, setHandlePosts ] = useState(true)\r\n\r\n    return (     \r\n        <div className='posts-container'>\r\n            < PostsNavbar setHandlePosts={setHandlePosts} handlePosts={handlePosts} /> \r\n            < AllPosts allPosts={allPosts} handlePosts={handlePosts} /> \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n// REDUX\r\nimport { CLEAR_ERROR } from '../../../redux/reducers/types'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { newPost } from '../../../redux/actions/DataActions'\r\n// MUI \r\nimport AddBoxIcon from '@material-ui/icons/AddBox'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport imagePreview from '../../../images/image-preview.png'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function AddPost() {\r\n\r\n    const dispatch = useDispatch()\r\n    const uploading  = useSelector(state => state.UI.uploading)\r\n    const stateErrors = useSelector(state => state.UI.errors)\r\n\r\n    const [ file, setFile ] = useState('')\r\n    const [image, setImage ] = useState('')\r\n    const [content, setContent ] = useState('')\r\n    const [open, setOpen] = useState(false)\r\n    const [errors, setErrors ] = useState('')\r\n\r\n    useEffect(() => {\r\n        setErrors(stateErrors)\r\n    }, [stateErrors])\r\n    \r\n    const selectFile = (e) =>  {\r\n        e.preventDefault()\r\n        setFile(e.target.files[0])\r\n\r\n        if (e.target.files[0]) { \r\n            setImage(URL.createObjectURL(e.target.files[0]))\r\n        } else {\r\n            setImage('')\r\n        }\r\n    }\r\n\r\n    const pickFile = (e) => {\r\n        e.preventDefault()\r\n        setErrors(' ')\r\n        const button = document.getElementById('file-input')\r\n        button.click()\r\n    }\r\n    \r\n    const handleOpen = () => {\r\n        setOpen(true)\r\n        setImage('')\r\n        setContent('')\r\n        setErrors('')\r\n        dispatch({type: CLEAR_ERROR})\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        setImage('')\r\n        setContent('')\r\n        setErrors('')\r\n        dispatch({type: CLEAR_ERROR})\r\n    }\r\n    \r\n    const uploadPost = () => {\r\n\r\n        if(image) {\r\n            let formData = new FormData()\r\n            formData.append('image', file, file.name) \r\n            formData.append('description', content) \r\n           dispatch(newPost(formData, setOpen))\r\n           setErrors('')\r\n        } else {\r\n            setErrors('Debes seleccionar una imágen primero')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='add-post-container' placement='top'>\r\n            <ToolTip  title='Nuevo Post'> \r\n                < AddBoxIcon onClick={handleOpen} />\r\n            </ToolTip>\r\n\r\n            <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\" >\r\n                <DialogTitle> Nuevo Post </DialogTitle>\r\n\r\n                <DialogContent>\r\n                    <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                        \r\n                        <input hidden='hidden' id='file-input'\r\n                            type='file' placeholder='select an image' onChange={selectFile} />\r\n                            {image ? <img src={image} width={400} style={{margin: 'auto'}} height={400} alt='new post' /> \r\n                            : <img src={imagePreview} width={250} style={{margin: 'auto'}} height={250} alt='preview' />  }\r\n                        \r\n                        <Button onClick={pickFile} style={{marginTop: 30}} variant='outlined' color=\"primary\">\r\n                            Seleccionar Imágen\r\n                        </Button>\r\n\r\n                        <TextField\r\n                            style={{marginTop: 30}}\r\n                            name=\"descripcion\"\r\n                            tpye=\"text\"\r\n                            multiline\r\n                            rows=\"4\"\r\n                            placeholder=\"Si asi lo quieres, añade una descripción...\"\r\n                            value={content}\r\n                            onChange={(e) => setContent(e.target.value)}\r\n                            fullWidth\r\n                            inputProps={{ maxLength: 200 }}                            \r\n                        />\r\n                    </div>\r\n                        <p style={{color:'red', fontFamily: 'Open Sans', margin: 'auto'}}>  { errors && errors } </p>\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n            <Button disabled={uploading} onClick={uploadPost} variant='contained' color=\"primary\">\r\n              Publicar!     { uploading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n            </Button>\r\n            <Button onClick={handleClose} variant='contained' style={{backgroundColor: 'red'}} color=\"secondary\">\r\n              Cancelar\r\n            </Button>\r\n            \r\n          </DialogActions>\r\n        </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport LoggedUser from '../../components/loggeduser/LoggedUser'\r\nimport Posts from '../../components/posts/Posts'\r\nimport AddPost from '../../components/posts/addpost/AddPost'\r\n\r\nexport default function Home(props) {\r\n\r\n    return (\r\n        <div className='home-container'>       \r\n             < LoggedUser history={props.history} />\r\n             < Posts />\r\n             < AddPost />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React,{ useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n// MUI Stuff\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n// REDUX\r\nimport { loginUser } from '../../redux/actions/UserActions'\r\n\r\n\r\nexport default function Login(props) {\r\n\r\nconst initialState = {\r\n  email: '',\r\n  password: ''\r\n}\r\n\r\nconst dispatch = useDispatch()\r\nconst errors = useSelector(state => state.user.errors)\r\nconst loading = useSelector(state => state.user.loading)\r\nconst [values, setValues] = useState(initialState)\r\n\r\nconsole.log(errors)\r\n\r\nconst handleChange = (e) => {\r\n  setValues({\r\n    ...values,\r\n    [e.target.name]: e.target.value\r\n  })\r\n}\r\n\r\nconst handleSubmit = (e) => \r\n{\r\n  e.preventDefault()\r\n  dispatch(loginUser(values, props.history))\r\n  \r\n }\r\n    return (\r\n      <div className='login-container'>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n\r\n          <Typography variant='h3'>\r\n              Iniciar Sesión\r\n\r\n            </Typography>\r\n\r\n            <TextField\r\n              error={errors ? true : false}\r\n              id='email'\r\n              name='email'\r\n              type='email'\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              required\r\n              label='E-mail'\r\n              \r\n            />\r\n            <TextField\r\n              error={errors ? true : false}\r\n              inputProps={{ minLength: 6, maxLength: 20 }}\r\n              id='password'\r\n              name='password'\r\n              type='password'\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              required\r\n              label='Contraseña'\r\n    \r\n            />\r\n            { errors && <p style={{color: 'red', fontFamily: 'Open Sans'}}> {errors[0].msg} </p>  }\r\n            <Button\r\n              disabled={loading}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{margin: '25px auto 25px auto'}}\r\n            >\r\n            Ingresar!\r\n\r\n            { loading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n              \r\n            </Button>\r\n\r\n            <br />\r\n       \r\n            <small>\r\n            Si no tienes una cuenta, puedes <Link style={{textDecoration: 'none', color: '#046B86'}} to=\"/Register\"> Registrarte Aquí </Link>\r\n            </small>\r\n          </form>\r\n      </div>\r\n    );\r\n}\r\n\r\n","import React, { useState } from 'react'\r\n// REDUX\r\nimport { addComment } from '../../../redux/actions/DataActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& > *': {\r\n      width: '100%'\r\n    },\r\n  },\r\n  input: {\r\n    background: '#181818'\r\n  }\r\n}));\r\n\r\nexport default function AddComment(props) {\r\n\r\nconst dispatch = useDispatch()\r\n\r\nconst [loading, setLoading ] = useState(false)\r\nconst [content, setContent] = useState('')\r\nconst classes = useStyles()\r\n\r\nconst handleComment = (e) => {\r\n    e.preventDefault()\r\n   if(content) {\r\n    setLoading(true)\r\n    console.log(content)\r\n    dispatch(addComment({ content }, props.selectedPost._id, setLoading ))  \r\n    setContent('')  \r\n   }   \r\n}\r\n\r\n  return (\r\n    <form  className={classes.root} noValidate autoComplete=\"off\">\r\n\r\n                <TextField\r\n                    className={loading && classes.input}\r\n                    disabled={loading}\r\n                    type=\"text\"\r\n                    label=\"Añade un comentario\"\r\n                    rows=\"2\"\r\n                    variant='filled'\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    fullWidth\r\n                    onKeyPress={(e) => {\r\n                        if (e.key === 'Enter') {\r\n                            handleComment(e) \r\n                        }\r\n                      }}    \r\n                />\r\n    </form>\r\n  );\r\n}","import React from 'react'\r\n// REDUX\r\nimport { deleteComment } from '../../../redux/actions/DataActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\n\r\nexport default function DeleteComment(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deleteComment(props.comment_id, props.selectedPost._id))\r\n    }\r\n    return (\r\n        <div>\r\n            <ToolTip title=\"Borrar comentario\" placement=\"bottom\">\r\n                    <IconButton onClick={handleDelete} > \r\n                        <CancelIcon color=\"primary\"/>\r\n                    </IconButton> \r\n                  </ToolTip>\r\n        </div>\r\n    )\r\n}\r\n","import React,{ useState } from 'react'\r\n// REDUX\r\nimport { addReply } from '../../../redux/actions/DataActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& > *': {\r\n      width: '100%'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AddRepply(props) {\r\n\r\nconst dispatch = useDispatch()\r\n\r\nconst [content, setContent] = useState('')\r\nconst classes = useStyles()\r\n\r\nconst handleComment = (e) => {\r\n    e.preventDefault()\r\n   if(content) {\r\n       console.log('nani')\r\n    dispatch(addReply({ content }, props.comment._id ))  \r\n    setContent('')  \r\n   }   \r\n}\r\n\r\n  return (\r\n    <form  className={classes.root} noValidate autoComplete=\"off\">\r\n\r\n                <TextField\r\n                    tpye=\"text\"\r\n                    label=\"Escribe un mensaje\"\r\n                    rows=\"2\"\r\n                    variant='filled'\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    fullWidth\r\n                    onKeyPress={(e) => {\r\n                        if (e.key === 'Enter') {\r\n                            handleComment(e) \r\n                        }\r\n                      }}    \r\n                />\r\n    </form>\r\n  );\r\n}\r\n","import React,{ Fragment } from 'react'\r\nimport moment from 'moment'\r\nimport AddComment from './addcomment/AddComment'\r\nimport DeleteComment from './deletecomment/DeleteComment'\r\nimport AddReply from './addReply/AddRepply'\r\n// REDUX\r\nimport { useSelector } from 'react-redux'\r\n// MUI \r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '90%',\r\n    overflow: 'auto',\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  ExpansionPanelSummary: {\r\n    border: 0,\r\n    width: '100%',\r\n    boxShadow: 'none'\r\n  },\r\n  ExpansionPanel: {\r\n    border: 0,\r\n    boxShadow: 'none',\r\n    width: '100%'\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nexport default function CommentsList(props) {\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n  const classes = useStyles()\r\n\r\n  return (\r\n  <div style={{width: '50%'}}> \r\n    < AddComment selectedPost={props.selectedPost} />  \r\n    <List className={classes.root}>\r\n    <div style={{width: '100%'}}> \r\n    { props.comments.map((comment, key) => \r\n        <Fragment key={key}> \r\n            <ListItem id='comment-box' alignItems=\"flex-start\" >\r\n                <ListItemAvatar>\r\n                <Avatar alt=\"comment profile\" src={comment.user_id && comment.user_id.profileImg} />\r\n                </ListItemAvatar>\r\n              \r\n              <div style={{width: '100%'}}>\r\n                <div > \r\n                  <ListItemText\r\n                      primary={comment.user_id && comment.user_id.username}\r\n                      secondary={moment(comment.date).format('LLL')}\r\n                  />\r\n                <span style={{position: 'absolute', right: 0, top: 0}}>\r\n                  { connectedUser._id === comment.user_id._id &&\r\n                   < DeleteComment comment_id={comment._id} selectedPost={props.selectedPost}  />\r\n                  }\r\n                </span>  \r\n                </div>\r\n                <ListItemText\r\n                    primary={comment.content}\r\n                />\r\n                <ExpansionPanel className={classes.ExpansionPanel} style={{margin: 0, outline: 'none'}}>\r\n                  <ExpansionPanelSummary className={classes.ExpansionPanelSummary}>\r\n                    <ListItemText secondary={`responder (${comment.replys.length})`}/>\r\n                  </ExpansionPanelSummary>\r\n                  <ExpansionPanelDetails style={{width: '100%'}}>\r\n                   <div style={{ width: '100%', display: 'flex', flexDirection: 'column', maxHeight: 400, overflow: 'auto'}}>\r\n                    < AddReply comment={comment} selectedPost={props.selectedPost} />\r\n                    {comment.replys && comment.replys.map((reply, key) =>\r\n                    <div key={key}>\r\n                    \r\n                        <div>\r\n                          <div > \r\n                            <ListItemText\r\n                                primary={reply.username}\r\n                                secondary={moment(reply.date).format('LLL')}\r\n                            />\r\n                          </div>\r\n                          <ListItemText\r\n                              primary={reply.content}\r\n                          />\r\n                        </div>\r\n                    \r\n                      <Divider variant=\"inset\" component=\"span\" />\r\n                       </div>\r\n                    )}\r\n                  </div> \r\n                  </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n              </div>     \r\n            </ListItem>\r\n                  \r\n            <Divider variant=\"inset\" component=\"li\" />\r\n            \r\n        </Fragment>  \r\n    )}\r\n    </div>\r\n    \r\n    </List>\r\n    \r\n  </div>   \r\n  )}","import React, { useEffect } from 'react'\r\nimport Post from '../../components/posts/post/Post'\r\nimport CommentsList from '../../components/commentlist/CommentsList'\r\n// REDUX\r\nimport { getPost, getPostComments } from '../../redux/actions/DataActions'\r\nimport { getConnectedUser } from '../../redux/actions/UserActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ON_SINGLE_POST, CLOSE_SINGLE_POST } from '../../redux/reducers/types'\r\n// MUI\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function FullPost(props) {\r\n    \r\n    const post_id = props.match.params.id\r\n\r\n    const dispatch = useDispatch()\r\n    const selectedPost = useSelector(state => state.data.selectedPost)\r\n    const comments = useSelector(state => state.data.comments)\r\n    const loading = useSelector(state => state.UI.loading)\r\n\r\n    useEffect(() => {\r\n        dispatch(getConnectedUser())\r\n    }, [dispatch])\r\n\r\n    useEffect(() => { \r\n    dispatch(getPost(post_id, props.history))\r\n    dispatch(getPostComments(post_id))   \r\n    }, [dispatch, post_id, props.history])\r\n\r\n    useEffect(() => {\r\n        dispatch({type: ON_SINGLE_POST})\r\n        return () => {\r\n          dispatch({type: CLOSE_SINGLE_POST})\r\n        };\r\n      }, [dispatch])\r\n    \r\n    useEffect(() => {\r\n\r\n        if(selectedPost === '') {\r\n            props.history.push('/Home')\r\n        }\r\n         \r\n    }, [selectedPost, props.history])\r\n\r\n    return (\r\n        <div  className='fullPost-container'>\r\n\r\n        { loading ? <div style={{display: 'flex', width: '100%'}}> <CircularProgress style={{margin: 'auto'}} size={30} /> </div>\r\n        \r\n        : \r\n           <div className='fullPost-content-container'>\r\n                <div style={{width: '50%', height: '100%'}}>\r\n                     <Post post={selectedPost} />\r\n                </div>\r\n                  < CommentsList comments={comments} selectedPost={selectedPost} /> \r\n            </div> }\r\n         \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Post from '../post/Post'\r\n\r\nexport default function ProfilePosts(props) {\r\n\r\n const { posts } = props\r\n\r\n    return (\r\n        <div className='profilePosts-container'>\r\n         { posts.map((post, key) => < Post key={key} post={post} />) } \r\n        </div>\r\n    )\r\n}","import React,{Fragment, useState } from 'react'\r\n// REDUX\r\nimport { useDispatch } from 'react-redux'\r\nimport { editProfileImage } from '../../redux/actions/UserActions'\r\n// MUI \r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\n\r\nexport default function ProfileImg(props) {\r\n\r\n    const { user_id, connectedUser } = props\r\n\r\n    const [ open, setOpen ] = useState(false)\r\n    const [ loading, setLoading ] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const selectFile = (e) =>  {\r\n\r\n        e.preventDefault()\r\n        const file = e.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append('image', file, file.name) \r\n        console.log(formData)\r\n   \r\n        if(formData) {\r\n            setLoading(true)\r\n            dispatch(editProfileImage(formData, setLoading))\r\n            setOpen(false)\r\n        }\r\n    }\r\n\r\n    const pickFile = (e) => {\r\n        e.preventDefault()\r\n        const button = document.getElementById('file-input')\r\n        button.click()\r\n    }\r\n\r\n    return (\r\n        \r\n        <div>\r\n            {connectedUser === user_id ?\r\n            < Fragment>\r\n            { loading ? <CircularProgress style={{}} size={130} />            \r\n            : \r\n            <img src={props.src} alt='profile' width={170} height={170} onClick={() => setOpen(true)} style={{cursor: 'pointer'}}/> } \r\n            \r\n            <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"sm\" >\r\n                <DialogTitle> Cambiar foto de perfil </DialogTitle>\r\n\r\n                <DialogContent>\r\n                    <form style={{display: 'flex', flexDirection: 'column'}}>\r\n\r\n                        <input required hidden='hidden' id='file-input'\r\n                        type='file' placeholder='select an image' onChange={selectFile} />\r\n                        \r\n                        <Button onClick={pickFile} variant='outlined' color=\"primary\">\r\n                            Subir Foto \r\n                        </Button>\r\n\r\n                    </form>\r\n\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n            <Button onClick={() => setOpen(false)} variant='contained' color=\"secondary\">\r\n              Cancelar\r\n            </Button>\r\n            \r\n          </DialogActions>\r\n        </Dialog>\r\n        </Fragment>\r\n        : \r\n        <Fragment> \r\n             <img src={props.src} alt='profile' width={150} height={150} />\r\n        </Fragment>\r\n        }\r\n        </div> \r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react'\r\n// REDUX\r\nimport { addUserDetails } from '../../redux/actions/UserActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function EditDetails(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const { description } = props\r\n    console.log(description)\r\n\r\n    const [ loading, setLoading ] = useState(false)\r\n    const [ open, setOpen ] = useState(false)\r\n    const [ details, setDetails ] = useState('')\r\n    const [ errors, setErrors ] = useState('')\r\n\r\n    useEffect(() => {    \r\n        if(description) {\r\n            setDetails(description)\r\n        } \r\n    }, [description])\r\n\r\n    useEffect(() => {\r\n        if(!loading && !errors) {\r\n            setOpen(false)\r\n        }\r\n       }, [loading, errors])\r\n\r\n    const handleEdit = () => {\r\n\r\n        if(details.trim() === '') {\r\n            setErrors('No debe estar vacío')\r\n        }\r\n        setLoading(true)\r\n        dispatch(addUserDetails(details, setLoading))\r\n    }\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true)\r\n        setDetails(description)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        setErrors('')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ToolTip title=\"Editar Perfil\" placement='left' > \r\n                <IconButton onClick={handleOpen} aria-label='delete' style={{height: 50, color: '#e5e5e5'}}>\r\n                    < EditIcon />                   \r\n                </IconButton>\r\n            </ToolTip> \r\n\r\n            <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\" >\r\n              <div style={{margin: '20px auto 20px auto', width:'85%'}}> \r\n                <TextField\r\n                    tpye=\"text\"\r\n                    label=\"Descripción\"\r\n                    multiline\r\n                    rows=\"4\"\r\n                    placeholder='Añade una descripción a tu perfil'\r\n                    value={details}\r\n                    onChange={(e) => setDetails(e.target.value)}\r\n                    fullWidth\r\n                />\r\n              </div>\r\n                { errors && <p style={{color: 'red', fontFamily: 'Open Sans', marginLeft: 40}}> {errors} </p>  }\r\n                \r\n                <DialogActions>\r\n                    <Button onClick={handleEdit} disabled={loading} variant='contained' color=\"primary\">\r\n                    Guardar { loading && <CircularProgress style={{marginLeft: 5}} size={20} /> } \r\n                    </Button>\r\n                    <Button onClick={handleClose} variant='contained' style={{backgroundColor: 'red'}} color=\"secondary\">\r\n                    Cancelar\r\n                    </Button> \r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import React,{ useEffect, useState } from 'react'\r\n// REDUX\r\nimport { followUser, unfollowUser } from '../../redux/actions/UserActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// MUI\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function HandleFollow(props) {\r\n\r\n   const { userProfile, connectedUser } = props\r\n   const user_id = userProfile._id\r\n\r\n   console.log(userProfile.followers)\r\n\r\n   const dispatch = useDispatch()\r\n   const [isFollowed, setIsFollowed] = useState()\r\n   const loadingSubscription = useSelector(state => state.UI.loadingSubscription)\r\n\r\n   useEffect(() => {\r\n\r\n        let subscription = connectedUser.subscriptions && connectedUser.subscriptions.filter(subscript => subscript.user_id === user_id)\r\n        if(subscription && subscription.length >= 1) { setIsFollowed(true) } else { setIsFollowed(false) }\r\n\r\n   }, [connectedUser, user_id])\r\n\r\n    const handleFollow =  () => {\r\n     dispatch(followUser(user_id))\r\n    }\r\n\r\n   const handleUnfollow = () => {\r\n     dispatch(unfollowUser((user_id)))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { isFollowed ? \r\n            \r\n            <Button disabled={loadingSubscription} onClick={handleUnfollow} style={{marginLeft: 10}} variant='contained' \r\n            color='primary' size='small' > Siguiendo { loadingSubscription && <CircularProgress style={{marginLeft: 5}} size={20} /> } \r\n            </Button> \r\n            \r\n            : \r\n\r\n            <Button disabled={loadingSubscription} onClick={handleFollow} style={{marginLeft: 10}} variant='contained' \r\n            size='small' > Seguir { loadingSubscription && <CircularProgress style={{marginLeft: 5}} size={20} /> }  \r\n            </Button> }\r\n        </div>\r\n    )\r\n}\r\n","import React,{ Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// MUI\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport Avatar from '@material-ui/core/Avatar'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n    },\r\n  }));\r\n\r\nexport default function SubsFollowersList(props) {\r\n\r\n   const { open, userList, setOpen, userProps } = props\r\n   const classes = useStyles() \r\n\r\n   console.log(userList)\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <Dialog children='div' open={open} onClose={handleClose} fullWidth maxWidth=\"sm\" >\r\n            <div>\r\n                <List \r\n                    style={{width: '100%'}}\r\n                    component=\"nav\"\r\n                    aria-labelledby=\"nested-list-subheader\"\r\n                    subheader={\r\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                    \r\n                    \r\n                    { userProps ? 'Seguidores' : 'Seguidos' } < hr/>\r\n                    {userList && userList.length === 0 && userProps ? 'Esta cuenta no tiene seguidores' : userList && userList.length === 0 && !userProps && 'Esta cuenta no sigue a nadie'}\r\n                    </ListSubheader>\r\n                    }\r\n                    className={classes.root}>\r\n\r\n                    { userList && userList.map((user, key) =>\r\n\r\n                    <Fragment key={key}>\r\n                         \r\n                        <Link onClick={() => setOpen(false)} style={{textDecoration: 'none'}} to={`/users/${user.user_id}`} >\r\n                        <ListItem button className={classes.nested} >\r\n                            <ListItemAvatar>\r\n                            <Avatar\r\n                                src={user.profileImg}\r\n                            />\r\n                            </ListItemAvatar>\r\n                            <ListItemText  secondary={user.username} />\r\n                        </ListItem>\r\n                    </Link>\r\n                    </Fragment>                   \r\n                    )} \r\n                </List>\r\n            </div>\r\n        </Dialog>\r\n    )\r\n}\r\n","import React,{ useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport ProfilePosts from '../../components/posts/profileposts/ProfilePosts'\r\nimport ProfileImg from '../../components/profile-img/ProfileImg'\r\nimport AddPost from '../../components/posts/addpost/AddPost'\r\nimport EditDetails from '../../components/editdetails/EditDetails'\r\nimport HandleFollow from '../../components/handleFollow/HandleFollow'\r\nimport SubsFollowersList from '../../components/subs-followers-list/SubsFollowersList'\r\nimport noProfileImg from '../../images/noprofileimg2.png'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUserPosts } from '../../redux/actions/DataActions'\r\nimport { getUserProfile, getConnectedUser } from '../../redux/actions/UserActions'\r\n// MUI\r\nimport Button from '@material-ui/core/Button'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nexport default function Profile(props) {\r\n\r\n    const [userProps, setUserProps ] = useState(true)\r\n    const [ open, setOpen ] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n    const user_id = props.match.params.id\r\n\r\n    const loading = useSelector(state => state.UI.loading)\r\n    const loadingProfile = useSelector(state => state.UI.loadingProfile)\r\n    const connectedUser = useSelector(state => state.user.loggedUser)\r\n    const userProfile = useSelector(state => state.data.selectedProfile)\r\n    const { subscriptions, followers, description, profileImg, username } = userProfile\r\n    const userPosts = useSelector(state => state.data.selectedPosts)\r\n\r\n    useEffect(() => {\r\n    dispatch(getConnectedUser())\r\n    dispatch(getUserProfile(user_id))\r\n    dispatch(getUserPosts(user_id))\r\n        \r\n    }, [dispatch, user_id])\r\n\r\n     // AGREGAR ELIMINAR DATOS DEL PERFIL AL CERRAR EL COMPONENTE\r\n\r\n    const setFollowers = () => {\r\n    setOpen(true)\r\n    setUserProps(true)\r\n    }\r\n\r\n    const setSubscriptions = () => {\r\n        setOpen(true)\r\n        setUserProps(false)\r\n    }\r\n   \r\n    return (\r\n        <div className='profile-container'>\r\n            <Link to='/Home'>\r\n               < HomeIcon style={{color: '#e5e5e5', margin: 25, fontSize: 40}} />\r\n            </Link >\r\n              \r\n            { connectedUser._id === user_id && < AddPost /> }\r\n            <div className='profile-data'>\r\n                <div className='data-container'>\r\n\r\n            { loadingProfile ? \r\n                <div>  \r\n                  <img src={noProfileImg} alt='loading profile' width={170} height={170} style={{cursor: 'pointer'}}/>\r\n                </div>\r\n            \r\n            : < ProfileImg src={profileImg} user_id={user_id} connectedUser={connectedUser._id} />\r\n            } \r\n                <div className='profile-info'>\r\n                        <span style={{display: 'flex', alignItems: 'flex-end' }}> <h1> {loadingProfile ? < Skeleton width={350} animation=\"wave\" /> : <div> {username} </div> }  </h1> { connectedUser._id !== user_id &&  < HandleFollow userProfile={userProfile} connectedUser={connectedUser} /> } </span> \r\n                        <p>  \r\n                        { loadingProfile ? \r\n                        <div> \r\n                            < Skeleton width={350} animation=\"wave\" />\r\n                            < Skeleton width={350} animation=\"wave\" />\r\n                        </div> : \r\n                        \r\n                        <div>{description && description } </div> } </p>\r\n                        \r\n                        <div className='profile-button-container'> \r\n                            <Button  \r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{margin: '25px auto 25px auto', background: '#e5e5e5', color: 'black'}}onClick={setFollowers} >  { followers && followers.length } Seguidores </Button>\r\n                            <Button \r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{margin: '25px auto 25px auto', background: '#e5e5e5', color: 'black'}} onClick={setSubscriptions}> { subscriptions && subscriptions.length } Seguidos </Button>\r\n\r\n                            < SubsFollowersList userProps={userProps} open={open} setOpen={setOpen} userList={userProps ? followers : subscriptions } />\r\n                         </div>     \r\n                    </div>\r\n                    {connectedUser._id === user_id &&\r\n                    < EditDetails user_id={user_id} description={description} />\r\n                    }\r\n                </div>   \r\n            </div>\r\n            <div className='profile-posts-container'> \r\n           \r\n           { loading ? <div style={{display: 'flex', width: '100%', height: '20vh'}}> <CircularProgress style={{margin: 'auto'}} size={60} /> </div> :  <ProfilePosts posts={userPosts} /> } \r\n            </div>\r\n         \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <div className='notFound-container'>\r\n            <div className='notFound-text-container'>\r\n                <h1> E404</h1>\r\n                <h2>Lo sentimos. La página que buscas no existe.</h2>\r\n                <h2> Volver al <Link to='/Home' style={{textDecoration: 'none'}}> <span> Inicio </span> </Link></h2> \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { AUTHENTICATED, SET_ERRORS, LOADING, LOADED, USER_LOGGED, UNAUTHENTICATED, CLEAR_ERRORS } from './types'\r\n\r\nconst initialState = {\r\n    loggedUser: {},\r\n    authenticated: false,\r\n    loading: false,\r\n    errors: '' \r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch(action.type) {\r\n        case AUTHENTICATED:\r\n            return {\r\n                ...state,\r\n                authenticated: true\r\n            }\r\n        case SET_ERRORS: \r\n            return {\r\n                ...state,\r\n                errors: action.payload \r\n            }\r\n        case LOADING: \r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n        case USER_LOGGED: {\r\n            return {\r\n                ...state,\r\n                loggedUser: { ...action.payload }\r\n            }\r\n        }\r\n        case UNAUTHENTICATED: {\r\n            return {\r\n                ...state,\r\n                authenticated: false\r\n            }\r\n        }\r\n        case CLEAR_ERRORS: {\r\n            return {\r\n                ...state,\r\n                errors: ''\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n}","import { CLEAN_POSTS, GET_ALL_POSTS, SET_SELECTED_PROFILE,\r\n         SET_SELECTED_POSTS, SET_NEW_POST, DELETE_POST,\r\n         DATA_LOADING, DATA_LOADED, SET_SUBSCRIPTIONS_POSTS, \r\n         SET_USERS, SET_POST, SET_REPLYS, SET_LIKES,\r\n         SET_POST_COMMENTS, SET_DISLIKE, SET_FOLLOWED_USER } from './types'\r\n\r\nconst initialState = {\r\n    numberOfPosts : '',\r\n    allPosts: [],\r\n    loading: false,\r\n    selectedProfile: {},\r\n    selectedPosts: [],\r\n    usersList: [],\r\n    selectedPost: {},\r\n    comments: []\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_ALL_POSTS:\r\n            return {\r\n                ...state,\r\n                allPosts: [...action.payload.posts ],\r\n                selectedPost: {},\r\n                numberOfPosts: action.payload.numberOfPosts\r\n            }\r\n        case SET_SELECTED_PROFILE: \r\n            return {\r\n                ...state,\r\n                selectedProfile: { ...action.payload }\r\n            }\r\n        case SET_SELECTED_POSTS:\r\n            return {\r\n                ...state,\r\n                selectedPosts: [ ...action.payload ]\r\n            }\r\n        case SET_NEW_POST:\r\n            return {\r\n                ...state,\r\n                allPosts: [ { ...action.payload }, ...state.allPosts ],\r\n                selectedPosts: [ { ...action.payload }, ...state.selectedPosts ]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                allPosts: state.allPosts.filter(post => post._id !== action.payload),\r\n                selectedPosts: state.selectedPosts.filter(post => post._id !== action.payload),\r\n                selectedPost: ''\r\n            }\r\n        case DATA_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n        }\r\n        case DATA_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n        }\r\n        case SET_SUBSCRIPTIONS_POSTS: \r\n            return {\r\n                ...state,\r\n                allPosts: [...action.payload]\r\n            }\r\n        case CLEAN_POSTS:\r\n            return {\r\n                ...state,\r\n                allPosts: []\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                usersList: [...action.payload ]\r\n            }\r\n        case SET_POST:\r\n            return {\r\n                ...state,\r\n                selectedPost: { ...action.payload }\r\n            } \r\n        case SET_POST_COMMENTS: \r\n            return {\r\n                ...state,\r\n                comments: [ ...action.payload ] \r\n            }\r\n        case SET_REPLYS: {\r\n            console.log(action.payload)\r\n            return {\r\n                ...state,\r\n                comments: state.comments.map(comment => {\r\n                    if(comment._id === action.payload._id) {\r\n                        return comment = action.payload\r\n                    }\r\n                    return comment\r\n                })\r\n            }\r\n        }    \r\n        case SET_LIKES:\r\n        case SET_DISLIKE: \r\n            return { ...state,\r\n             allPosts: state.allPosts.map(post => {\r\n                if (post._id === action.payload._id) {\r\n                  return {...post, likes: [...action.payload.likes]}\r\n                };\r\n                return post;\r\n              }),\r\n             selectedPosts: state.selectedPosts.map(post => {\r\n                 if(post._id === action.payload._id) {\r\n                     return {...post, likes: [...action.payload.likes ]}\r\n                 }\r\n                 return post;\r\n             }),\r\n             selectedPost: {...state.selectedPost, likes: [...action.payload.likes]}\r\n            }\r\n        case SET_FOLLOWED_USER:\r\n            return {\r\n                ...state,\r\n                selectedProfile: {...action.payload}\r\n            }  \r\n        default: return state\r\n    }\r\n}","import { SET_LOADED, SET_LOADING, SET_ERROR, CLEAR_ERROR, \r\n    CLOSE_SINGLE_POST, DELETING, DELETED,\r\n     ON_SINGLE_POST, UPLOADING, UPLOADED, LOADING_SUB, LOADED_SUB, LOADING_PROFILE, PROFILE_LOADED } from './types'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    errors: '',\r\n    onSinglePost: false,\r\n    uploading: false,\r\n    deleting: false,\r\n    loadingSubscription: false,\r\n    loadingProfile: false\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        default:\r\n             return state\r\n    case SET_LOADING: \r\n        return {\r\n            ...state,\r\n            loading: true\r\n        }\r\n    case SET_LOADED:\r\n        return {\r\n            ...state,\r\n            loading: false\r\n        }\r\n    case SET_ERROR:\r\n        console.log(action.payload)\r\n        return {\r\n            ...state,\r\n            errors: action.payload\r\n        }\r\n    case CLEAR_ERROR:\r\n        return {\r\n            ...state,\r\n            errors: ''\r\n        }\r\n    case ON_SINGLE_POST:\r\n        return {\r\n            ...state,\r\n            onSinglePost: true\r\n        }\r\n    case CLOSE_SINGLE_POST:\r\n        return {\r\n            ...state,\r\n            onSinglePost: false\r\n        }\r\n    case UPLOADING: \r\n        return {\r\n            ...state,\r\n            uploading: true\r\n        }\r\n    case UPLOADED: \r\n        return {\r\n            ...state,\r\n            uploading: false\r\n        }\r\n    case DELETING: \r\n        return {\r\n            ...state,\r\n            deleting: true\r\n        }\r\n    case DELETED: \r\n        return {\r\n            ...state,\r\n            deleting: false\r\n        }\r\n    case LOADING_SUB:\r\n        return {\r\n            ...state,\r\n            loadingSubscription: true\r\n        }\r\n    case LOADED_SUB:\r\n        return {\r\n            ...state,\r\n            loadingSubscription: false\r\n        }\r\n    case LOADING_PROFILE:\r\n        return {\r\n            ...state,\r\n            loadingProfile: true\r\n        }\r\n    case PROFILE_LOADED:\r\n        return {\r\n            ...state,\r\n            loadingProfile: false\r\n        }\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport userReducer from '../reducers/userReducer'\r\nimport dataReducer from '../reducers/DataReducer'\r\nimport UIReducer from '../reducers/UIReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst reducers = combineReducers ({\r\n    user: userReducer,\r\n    data: dataReducer,\r\n    UI: UIReducer\r\n})\r\n\r\nconst Store = createStore(reducers, applyMiddleware(thunk))\r\n\r\n export default Store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport Store from './redux/store/Store'\nimport './index.scss'\nReactDOM.render(<Provider store={Store}> <App /> </Provider>, document.getElementById('root'))\n\nserviceWorker.unregister()\n","import React,{ Fragment } from 'react'\nimport { HashRouter, Switch, Route } from 'react-router-dom'\nimport axios from 'axios'\nimport jwtDecode from 'jwt-decode'\n//Auth Route\nimport ProtectedRoute from './routes/AuthRoute'\nimport RestrictedRoute from './routes/RestrictedRoutes'\n// REDUX\nimport { AUTHENTICATED } from './redux/reducers/types'\nimport { logOutUser } from './redux/actions/UserActions'\nimport { useSelector, useDispatch } from 'react-redux'\n//PAGES\nimport Register from './pages/register/Register'\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport FullPost from './pages/fullpost/FullPost'\nimport Profile from './pages/profile/Profile'\nimport NotFound from './pages/notfound/NotFound'\n\n\nexport default function App() {\n\n  const authenticated = useSelector(state => state.user.authenticated)\n\n  const dispatch = useDispatch()\n\n  let token = localStorage.getItem('x-auth-token')\n\n  if(token) {    \n  const decodedToken = jwtDecode(token)\n  axios.defaults.headers.common['Authorization'] = token   \n  dispatch({ type: AUTHENTICATED })\n\n    if(decodedToken.exp * 1000 < Date.now()) {\n    dispatch(logOutUser()) \n    }\n  }\n\n  return (\n    <Fragment> \n      <HashRouter>\n        <Switch>\n          <RestrictedRoute exact path='/Register' authenticated={authenticated} component={Register} />\n          <ProtectedRoute exact path=\"/Home\"      authenticated={authenticated} component={Home} />\n          <RestrictedRoute exact path='/'         authenticated={authenticated} component={Login} />\n          <ProtectedRoute exact path='/users/:id' authenticated={authenticated} component={Profile} />\n          <ProtectedRoute exact path='/posts/:id' authenticated={authenticated} component={FullPost} />\n          <Route exact path='*' component={NotFound} /> \n        </Switch>  \n      </HashRouter>\n    </Fragment>\n  );\n}\n\n","module.exports = __webpack_public_path__ + \"static/media/noprofileimg2.a77a9fc1.png\";"],"sourceRoot":""}