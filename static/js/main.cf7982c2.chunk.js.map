{"version":3,"sources":["images/image-preview.png","routes/AuthRoute.js","routes/RestrictedRoutes.js","redux/actions/UserActions.js","redux/reducers/types.js","pages/register/Register.js","components/loggeduser/LoggedUser.js","components/posts/postsnavbar/userlist/UserList.js","redux/actions/DataActions.js","components/posts/postsnavbar/PostsNavbar.js","components/posts/post/deletepost/DeletePost.js","components/posts/post/handlelikes/HandleLikes.js","components/posts/post/Post.js","components/posts/allposts/AllPosts.js","components/posts/Posts.js","components/posts/addpost/AddPost.js","pages/home/Home.js","pages/login/Login.js","components/commentlist/addcomment/AddComment.js","components/commentlist/deletecomment/DeleteComment.js","components/commentlist/addReply/AddRepply.js","components/commentlist/CommentsList.js","pages/fullpost/FullPost.js","components/posts/profileposts/ProfilePosts.js","components/profile-img/ProfileImg.js","components/editdetails/EditDetails.js","components/handleFollow/HandleFollow.js","components/subs-followers-list/SubsFollowersList.js","pages/profile/Profile.js","pages/notfound/NotFound.js","serviceWorker.js","redux/reducers/userReducer.js","redux/reducers/DataReducer.js","redux/reducers/UIReducer.js","redux/store/Store.js","index.js","App.js"],"names":["module","exports","ProtectedRoute","Component","component","authenticated","path","rest","render","props","to","RestrictedRoute","axios","defaults","baseURL","setToken","token","localStorage","setItem","headers","common","getItem","getConnectedUser","dispatch","a","async","get","response","type","payload","data","console","log","logOutUser","history","removeItem","push","getUserProfile","id","Register","useDispatch","errors","useSelector","state","user","loading","useState","email","password","confirmPassword","username","values","setValues","handleChange","e","target","name","value","className","onSubmit","preventDefault","post","registerUser","Typography","variant","TextField","error","required","label","onChange","fullWidth","inputProps","minLength","maxLength","helperText","Button","disabled","color","style","margin","background","CircularProgress","marginLeft","size","textDecoration","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","LoggedUser","connectedUser","loggedUser","useEffect","classes","AppBar","position","backgroundColor","Toolbar","alt","src","profileImg","height","width","borderRadius","_id","IconButton","aria-label","aria-controls","aria-haspopup","onClick","maxWidth","palette","paper","nested","paddingLeft","UserList","open","Collapse","in","timeout","unmountOnExit","transform","Paper","List","maxHeight","overflowY","aria-labelledby","subheader","ListSubheader","searchResults","filter","map","key","ListItem","button","ListItemAvatar","Avatar","ListItemText","secondary","getPostComments","marginTop","display","breakpoints","up","search","shape","fade","white","searchIcon","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","create","SearchAppBar","usersList","setOpen","setFilter","setSearchResults","handlePosts","setHandlePosts","results","toLocaleLowerCase","includes","InputBase","onFocus","onBlur","placeholder","input","DeletePost","UI","placement","Dialog","onClose","DialogTitle","DialogActions","postid","post_id","delete","HandleLikes","likes","liked","like","length","media","paddingTop","expand","duration","shortest","expandOpen","avatar","red","Post","onSinglePost","imageURL","description","date","userRef","commentCount","objectFit","minWidth","Card","elevation","overflow","CardHeader","action","moment","format","CardContent","minHeight","CardActions","disableSpacing","AllPosts","allPosts","Posts","AddPost","stateErrors","file","setFile","image","setImage","content","setContent","setErrors","handleClose","DialogContent","flexDirection","hidden","files","URL","createObjectURL","imagePreview","document","getElementById","click","tpye","multiline","rows","fontFamily","formData","FormData","append","Home","Login","loginUser","msg","AddComment","handleComment","addComment","selectedPost","noValidate","autoComplete","onKeyPress","DeleteComment","comment_id","AddRepply","addReply","comment","ExpansionPanelSummary","border","boxShadow","ExpansionPanel","inline","CommentsList","comments","user_id","primary","right","top","outline","replys","ExpansionPanelDetails","reply","Divider","FullPost","match","params","ProfilePosts","posts","ProfileImg","cursor","newImage","put","EditDetails","details","setDetails","trim","HandleFollow","userProfile","followers","isFollowed","setIsFollowed","subscription","subscriptions","subscript","unfollowUser","followUser","SubsFollowersList","userList","userProps","children","Profile","setUserProps","selectedProfile","userPosts","selectedPosts","fontSize","NotFound","Boolean","window","location","hostname","initialState","reducers","combineReducers","Store","createStore","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","ReactDOM","store","decodedToken","jwtDecode","exp","Date","now","exact","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cf7982c2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image-preview.df803060.png\";","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, authenticated, path, ...rest }) => {\r\n\r\nreturn (\r\n  <Route\r\n    path={path}\r\n    {...rest}\r\n    render={(props) => { return authenticated ? <Component {...props} /> : <Redirect to='/' /> \r\n    }}\r\n  />\r\n)};\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst RestrictedRoute = ({ component: Component, authenticated, path, ...rest }) => {\r\n\r\nreturn (\r\n  <Route\r\n    path={path}\r\n    {...rest}\r\n    render={(props) => { return !authenticated ? <Component {...props} /> : <Redirect to='/Home' /> \r\n    }}\r\n  />\r\n)};\r\n\r\nexport default RestrictedRoute","import { AUTHENTICATED, UNAUTHENTICATED, SET_ERRORS, LOADING, LOADED,\r\n     CLEAR_ERRORS, USER_LOGGED, SET_SELECTED_PROFILE, SET_LOADING, SET_LOADED } from '../reducers/types'\r\nimport axios from 'axios'\r\n\r\naxios.defaults.baseURL = 'https://clonetagram.herokuapp.com/api'\r\n\r\n//SET TOKEN IN LOCALSTORAGE\r\nconst setToken = (token) => {\r\n    localStorage.setItem('x-auth-token', token)\r\n    axios.defaults.headers.common['Authorization'] = localStorage.getItem('x-auth-token')\r\n}\r\n\r\nexport function getConnectedUser() {\r\n        return async function(dispatch) {\r\n            try {\r\n                const response = await axios.get('/users/me')\r\n                dispatch({type: USER_LOGGED, payload: response.data})\r\n            } catch (err) {\r\n                console.log(err)     \r\n            }\r\n        }\r\n}\r\n\r\nexport function registerUser(values, history) {\r\n        return async function(dispatch) {\r\n\r\n            dispatch({type: LOADING})\r\n\r\n            try {\r\n                const response = await axios.post('/user/register', values)\r\n                \r\n                dispatch({type: LOADED})\r\n                setToken(response.data.token)\r\n                dispatch({ type: AUTHENTICATED })\r\n                dispatch({type: CLEAR_ERRORS})\r\n                history.push('/Home')\r\n            } catch (err) {\r\n                console.log(err.response.data.errors)\r\n                dispatch({ type: SET_ERRORS, payload: err.response.data.errors })   \r\n                dispatch({type:LOADED})\r\n            }  \r\n        }\r\n}\r\n\r\nexport function loginUser (values, history) {\r\n    return async function(dispatch) {\r\n\r\n        dispatch({ type: LOADING })\r\n\r\n        try {\r\n            const response = await axios.post('/user/login', values)\r\n            dispatch({type: LOADED})\r\n            setToken(response.data.token)\r\n            dispatch({type: AUTHENTICATED})\r\n            dispatch({type: CLEAR_ERRORS})\r\n            history.push('/Home')            \r\n        } catch (err) {\r\n            console.log(err)\r\n            dispatch({ type: SET_ERRORS, payload: err.response.data.errors })   \r\n            dispatch({type:LOADED})\r\n        }\r\n    }\r\n}\r\n\r\nexport function logOutUser (history) {\r\n\r\n    return async function(dispatch) {\r\n        localStorage.removeItem('x-auth-token')\r\n        delete axios.defaults.headers.common['Authorization']\r\n        dispatch ({ type: UNAUTHENTICATED })\r\n        history.push('/')\r\n    }\r\n}\r\n\r\nexport function editProfileImage (newImage, id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n         await axios.put('/users/image', newImage, {\r\n            headers: {\r\n              'content-type': 'multipart/form-data'\r\n            }\r\n          })\r\n         dispatch(getUserProfile(id))\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function getUserProfile(id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n\r\n        const response = await axios.get(`/users/${id}`)\r\n\r\n        dispatch({ type: SET_SELECTED_PROFILE, payload: response.data})\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addUserDetails(data, id) {\r\n    return async function(dispatch) {\r\n\r\n        try { \r\n            dispatch({type: SET_LOADING })\r\n            await axios.post('users/me/details',{ details: data } )\r\n            dispatch(getUserProfile(id))\r\n            dispatch({type: SET_LOADED })\r\n            \r\n        } catch (err) {\r\n            dispatch({type: SET_LOADED })\r\n        }\r\n    }\r\n}\r\n\r\nexport function followUser(user_id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n           dispatch({ type: LOADING })\r\n           await axios.post(`/users/subscribe/${user_id}`)\r\n           dispatch(getUserProfile(user_id))\r\n           dispatch(getConnectedUser())\r\n           dispatch({type: LOADED}) \r\n           \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function unfollowUser(user_id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n            dispatch({type: LOADING})\r\n            console.log(user_id)\r\n            await axios.delete(`/users/unsubscribe/${user_id}`)\r\n            dispatch(getUserProfile(user_id))\r\n            dispatch(getConnectedUser())\r\n            dispatch({type: LOADED})\r\n  \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}","// USER TYPES\r\nexport const AUTHENTICATED = 'AUTHENTICATED'\r\nexport const UNAUTHENTICATED = 'UNAUTHENTICATED'\r\nexport const SET_ERRORS = 'SET_ERRORS'\r\nexport const LOADING = 'LOADING'\r\nexport const LOADED = 'LOADED'\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'\r\nexport const USER_LOGGED = 'USER_LOGGED'\r\n// DATA TYPES\r\nexport const GET_ALL_POSTS = 'GET_ALL_POSTS'\r\nexport const SET_SELECTED_PROFILE = 'SET_SELECTED_PROFILE'\r\nexport const SET_SELECTED_POSTS = 'SET_SELECTED_POSTS'\r\nexport const SET_NEW_POST = 'SET_NEW_POST'\r\nexport const DELETE_POST = 'DELETE_POST'\r\nexport const DATA_LOADING = 'DATA_LOADING'\r\nexport const DATA_LOADED = 'DATA_LOADED'\r\nexport const SET_SUBSCRIPTIONS_POSTS = 'SET_SUBSCRIPTIONS_POSTS'\r\nexport const CLEAN_POSTS = 'CLEAN_POSTS'\r\nexport const SET_USERS = 'SET_USERS'\r\nexport const SET_POST_COMMENTS = 'SET_POST_COMMENTS'\r\nexport const SET_POST = 'SET_POST'\r\nexport const SET_REPLYS = 'SET_REPLYS'\r\nexport const SET_LIKES = 'SET_LIKES'\r\nexport const SET_DISLIKE = 'SET_DISLIKE'\r\n// UI TYPES\r\nexport const SET_LOADING = 'SET_LOADING'\r\nexport const SET_LOADED = 'SET_LOADED'\r\nexport const SET_ERROR = 'SET_ERROR'\r\nexport const CLEAR_ERROR = 'CLEAR_ERROR'\r\nexport const ON_SINGLE_POST = 'ON_SINGLE_POST'\r\nexport const CLOSE_SINGLE_POST = 'CLOSE_SINGLE_POST'","import React,{ useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n// MUI Stuff\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n// REDUX\r\nimport { registerUser } from '../../redux/actions/UserActions'\r\nimport { SET_ERRORS } from '../../redux/reducers/types'\r\n\r\n\r\nexport default function Register(props) {\r\n\r\nconst initialState = {\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: '',\r\n  username: ''\r\n}\r\n\r\nconst dispatch = useDispatch()\r\nconst errors = useSelector(state => state.user.errors)\r\nconst loading = useSelector(state => state.user.loading)\r\nconst [values, setValues] = useState(initialState);\r\n\r\nconst handleChange = (e) => {\r\n  setValues({\r\n    ...values,\r\n    [e.target.name]: e.target.value\r\n  })\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n\r\nif(values.password === values.confirmPassword) {\r\n\r\n  e.preventDefault()\r\n  dispatch(registerUser(values, props.history))\r\n} else {\r\n\r\n  e.preventDefault()\r\n  dispatch({type: SET_ERRORS, payload: { confirmPassword: 'Las contraseñas deben coincidir' }})\r\n}\r\n  \r\n }\r\n    return (\r\n      <div className='login-container'>\r\n\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            \r\n          <Typography variant='h3'>\r\n              Regístrate!\r\n            </Typography>\r\n            <TextField\r\n              error={errors.email ? true : false}\r\n              required\r\n              id='email'\r\n              name='email'\r\n              type='email'\r\n              label={errors ? errors.email : 'Email'}\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              \r\n            />\r\n            <TextField\r\n              error={errors.password ? true : false}\r\n              inputProps={{ minLength: 6, maxLength: 20 }}\r\n              id='password'\r\n              name='password'\r\n              type='password'\r\n              label={errors.password ? errors.password : 'Contraseña'}\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              required\r\n    \r\n            />\r\n             <TextField\r\n              required\r\n              error={errors.confirmPassword ? true : false}\r\n              inputProps={{ minLength: 6, maxLength: 20 }}\r\n              id='confirmPassword'\r\n              name='confirmPassword'\r\n              type='password'\r\n              label={errors.confirmPassword ? errors.confirmPassword : 'Confirmar contraseña'}\r\n              value={values.confirmPassword}\r\n              onChange={handleChange}\r\n              fullWidth\r\n            />\r\n             <TextField\r\n             inputProps={{ minLength: 4, maxLength: 20 }}\r\n              error={errors.username ? true : false}\r\n              id='username'\r\n              name='username'\r\n              type='text'\r\n              label={errors ? errors.username : 'Nombre completo'}\r\n              value={values.username}\r\n              onChange={handleChange}\r\n              helperText='Todos veran tu nombre'\r\n              fullWidth\r\n              required\r\n            />\r\n           \r\n            <Button\r\n              disabled={loading}\r\n              type='submit'\r\n              variant='contained'\r\n              color='secondary'\r\n              style={{margin: '25px auto 25px auto', background: '#046B86'}}\r\n            >\r\n            Registrarse!\r\n\r\n            { loading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n              \r\n            </Button>\r\n\r\n            <br />\r\n       \r\n            <small>\r\n            Tienes una cuenta? <Link  style={{textDecoration: 'none', color: '#046B86'}} to='/'> Inicia sesión </Link>\r\n            </small>\r\n          </form>\r\n      </div>\r\n    );\r\n}\r\n\r\n","import React,{ useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// REDUX\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { getConnectedUser, logOutUser } from '../../redux/actions/UserActions'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}))\r\n\r\nexport default function LoggedUser(props) {\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n \r\n  const dispatch = useDispatch()\r\n \r\n  useEffect(() => {\r\n  dispatch(getConnectedUser())\r\n  }, [dispatch])\r\n\r\n  const classes = useStyles()\r\n\r\n  const handleLogOut = () => {\r\n    dispatch(logOutUser(props.history))\r\n  }\r\n\r\n  return (\r\n\r\n    <nav className={classes.root}>\r\n      <AppBar position='fixed' style={{backgroundColor: '#121212'}} >\r\n        <Toolbar>\r\n\r\n            <img alt='profile' src={connectedUser.profileImg} height={50} width={50} style={{borderRadius: '50%', margin: 10}}/>\r\n               \r\n            <Typography variant='h6' className={classes.title} style={{margin: 15}}>\r\n              {connectedUser.username}\r\n            </Typography>\r\n      \r\n            <div>\r\n              <ToolTip title='Perfil'>\r\n              <Link style={{textDecoration: 'none', color: 'white'}} to={`/users/${connectedUser._id}`}> \r\n                  <IconButton\r\n                        aria-label='account of current user'\r\n                        aria-controls='menu-appbar'\r\n                        aria-haspopup='true'\r\n                        color='inherit'\r\n                      >\r\n                      <AccountCircle />\r\n                  </IconButton>\r\n              </Link>\r\n              </ToolTip>\r\n\r\n              <ToolTip title='Desconectarse'> \r\n                  <IconButton onClick={handleLogOut} color='inherit'>  \r\n                      < ExitToAppIcon />  \r\n                  </IconButton> \r\n              </ToolTip>\r\n            </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </nav>\r\n  );\r\n}\r\n","import React,{ Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// REDUX\r\nimport { useSelector } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport default function UserList(props) {\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n  const { open } = props\r\n\r\n  const classes = useStyles() \r\n\r\n  return (\r\n      <Fragment> \r\n  \r\n        {open ? <ExpandLess /> : <ExpandMore />}\r\n  \r\n      <Collapse in={open} timeout=\"auto\" unmountOnExit style={{position: 'absolute', transform: 'translateY(20px)', }}  >\r\n        <Paper  > \r\n        <List style={{maxHeight: 500, width: 210, overflowY: 'auto' }}\r\n        component=\"nav\"\r\n      \r\n        aria-labelledby=\"nested-list-subheader\"\r\n        subheader={\r\n        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n         Usuarios...\r\n        </ListSubheader>\r\n      }\r\n      className={classes.root}>\r\n        {props.searchResults.filter(user => user._id !== connectedUser._id ).map((user, key) =>\r\n        <Fragment key={key} >\r\n          <Link style={{textDecoration: 'none'}} to={`/users/${user._id}`} > <ListItem button className={classes.nested} >\r\n            <ListItemAvatar>\r\n              <Avatar\r\n                src={user.profileImg}\r\n              />\r\n            </ListItemAvatar>\r\n            <ListItemText  secondary={user.username} />\r\n          </ListItem>\r\n          </Link>\r\n\r\n        </Fragment>  \r\n        )}\r\n         </List>\r\n         </Paper>\r\n      </Collapse>\r\n      </Fragment>\r\n  );\r\n}","import { GET_ALL_POSTS, SET_SELECTED_POSTS, SET_NEW_POST, DELETE_POST, SET_SUBSCRIPTIONS_POSTS,\r\n     SET_USERS, SET_POST_COMMENTS, SET_POST, SET_LIKES, SET_DISLIKE, SET_LOADING, SET_LOADED, SET_ERROR, SET_REPLYS } from '../reducers/types'\r\nimport axios from 'axios'\r\n\r\nexport function getAllPosts() {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get('/posts')\r\n            dispatch( {type: GET_ALL_POSTS, payload: response.data} )\r\n            dispatch({type: SET_LOADED})\r\n            \r\n        } catch (err) {\r\n            console.log(err)            \r\n        }\r\n    }\r\n}\r\n\r\nexport function getUserPosts(id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get(`/posts/users/${id}`)\r\n            dispatch( { type: SET_SELECTED_POSTS, payload: response.data })\r\n            dispatch({type: SET_LOADED})\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function newPost(data) {\r\n    return async function(dispatch) {\r\n\r\n        try {  \r\n                dispatch({type: SET_LOADING })\r\n                const response =  await axios.post('/posts/add', data, { headers: {\r\n                     'content-type': 'multipart/form-data' \r\n                }})         \r\n                console.log(response.data)\r\n                dispatch({type: SET_LOADED})\r\n                dispatch({ type: SET_NEW_POST, payload: response.data })\r\n\r\n        } catch (err) {\r\n            dispatch({type: SET_ERROR, payload: err.response.data}) \r\n            dispatch({type: SET_LOADED})      \r\n        }\r\n    }\r\n}\r\n\r\nexport function deletePost(postid) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            dispatch({type: SET_LOADING })\r\n            await axios.delete(`/posts/${postid}/delete`)\r\n            dispatch({ type: DELETE_POST, payload: postid })\r\n            dispatch({type: SET_LOADED })\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\n export function getSubscriptionsPosts() {\r\n     return async function(dispatch) {\r\n\r\n         try {\r\n             dispatch({type: SET_LOADING })  \r\n           const response = await axios.get('/posts/user/subscriptions')\r\n\r\n           console.log(response.data)\r\n           \r\n           dispatch({type: SET_SUBSCRIPTIONS_POSTS, payload: response.data})\r\n           dispatch({type: SET_LOADED })  \r\n            \r\n         } catch (err) {\r\n             console.log(err)  \r\n         }\r\n     }\r\n }\r\n\r\nexport function getAllUsers () {\r\n    return async function(dispatch) {\r\n        try {\r\n           const response =  await axios.get('/users')\r\n           console.log(response.data) \r\n           dispatch({ type: SET_USERS, payload: response.data })\r\n\r\n \r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function getPost(id, history) {\r\n    return async function(dispatch) {\r\n        try {\r\n            dispatch({type: SET_LOADING})\r\n            const response = await axios.get(`/posts/post/${id}`)\r\n            dispatch({type: SET_POST, payload: response.data})\r\n            dispatch({type: SET_LOADED})\r\n             \r\n        } catch (err) {\r\n            if (err.response.data === 'El post no existe') { history.push('/*')}\r\n            console.log(err.response.data)            \r\n        }\r\n    }\r\n}\r\n\r\nexport function getPostComments(id) {\r\n    return async function(dispatch) {\r\n        \r\n        try {\r\n            const response = await axios.get(`/comments/${id}`)\r\n            dispatch({ type: SET_POST_COMMENTS, payload: response.data})\r\n            console.log(response.data)\r\n\r\n        } catch (err) {\r\n\r\n            console.log(err.response)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addComment(content, id) {\r\n    return async function(dispatch) {\r\n        try {\r\n\r\n            await axios.post(`/comments/${id}`, content)\r\n             dispatch(getPostComments(id))\r\n            \r\n        } catch (err) {\r\n\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function deleteComment(comment_id, post_id) {\r\n    return async function(dispatch) {\r\n        try {\r\n\r\n            await axios.delete(`/comments/${comment_id}/delete`)\r\n            dispatch(getPostComments(post_id))\r\n            \r\n        } catch (err) {\r\n            console.log(err)\r\n            \r\n        }\r\n    }\r\n}\r\n\r\nexport function addReply(content, comment_id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n           const response = await axios.post(`/comments/${comment_id}/reply`, content)\r\n           dispatch({ type: SET_REPLYS, payload: response.data })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport  const likeAPost = (post_id) => async (dispatch) => {\r\n\r\n        try {\r\n\r\n            const response = await axios.post(`/posts/${post_id}/like`)\r\n            console.log(response.data)\r\n            dispatch({type: SET_LIKES, payload: response.data })\r\n\r\n        } catch (err) {\r\n            console.log(err)\r\n            \r\n        }\r\n    }\r\n\r\nexport function dislikeAPost(post_id) {\r\n    return async function(dispatch) {\r\n\r\n        try {\r\n            const response = await axios.delete(`/posts/${post_id}/dislike`)\r\n            dispatch({ type: SET_DISLIKE, payload: response.data })\r\n       \r\n        } catch (err) {\r\n            console.log(err)\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n","import React,{ useState, useEffect } from 'react'\r\nimport UserList from './userlist/UserList'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAllUsers } from '../../../redux/actions/DataActions'\r\n// MUI\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Button from '@material-ui/core/Button'\r\nimport PublicIcon from '@material-ui/icons/Public'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport { fade, makeStyles } from '@material-ui/core/styles'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginTop: 80\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 120,\r\n      '&:focus': {\r\n        width: 200,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SearchAppBar(props) {\r\n\r\n const usersList = useSelector(state => state.data.usersList)\r\n\r\n\r\n const [open, setOpen] = useState(false)\r\n const [filter, setFilter] = useState('')\r\n const [searchResults, setSearchResults] = useState([])\r\n\r\n const dispatch = useDispatch()\r\n\r\n\r\n const classes = useStyles()\r\n\r\n const { handlePosts, setHandlePosts } = props\r\n\r\n const handleUserSearch = () => {\r\n  setOpen(true)\r\n  dispatch(getAllUsers())\r\n }\r\n\r\n useEffect(() => {\r\n  const results = usersList.filter(user =>\r\n    user.username.toLocaleLowerCase().includes(filter.toLocaleLowerCase()) \r\n  );\r\n  setSearchResults(results);\r\n}, [filter, usersList]);\r\n\r\n const handleFilter = (e) => {\r\n  setFilter(e.target.value)\r\n }\r\n \r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{backgroundColor: '#121212'}}>\r\n        <Toolbar>\r\n        <div className='posts-navbar-container'> \r\n            <div>  \r\n              <Button onClick={() => setHandlePosts(true) } variant=\"contained\" style={{backgroundColor: handlePosts ? '#e5e5e5' : '#121212'}}>\r\n                < HomeIcon style={{color: '#888888'}} />\r\n              </Button>\r\n              \r\n              <Button onClick={() => setHandlePosts(false) } variant=\"contained\" style={{backgroundColor: handlePosts ? '#121212' : '#e5e5e5'}} >\r\n               < PublicIcon style={{color: '#888888'}} />\r\n              </Button>\r\n            </div>\r\n          \r\n            <div className={classes.search} >\r\n                <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n                </div>\r\n                <InputBase\r\n                onChange={handleFilter}\r\n                value={filter}\r\n                onFocus={handleUserSearch}\r\n                onBlur={() => setOpen(false)}\r\n                placeholder=\"Buscar...\"\r\n                classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                />\r\n              <UserList open={open} setOpen={setOpen} searchResults={searchResults} />\r\n            </div>\r\n        </div>            \r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { deletePost } from '../../../../redux/actions/DataActions'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// MUI\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function DeletePost(props) {\r\n\r\n    const [open, setOpen] = useState(false)\r\n\r\n    const loading = useSelector(state => state.UI.loading)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if(!loading ) {\r\n            setOpen(false)\r\n        }\r\n       }, [loading])\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deletePost(props.post_id))\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            <ToolTip title=\"Borrar Post\" placement=\"bottom\">\r\n                <IconButton onClick={() => setOpen(true)}> \r\n                    <DeleteIcon color=\"primary\" />\r\n                </IconButton> \r\n            </ToolTip>\r\n            <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"sm\" >\r\n                \r\n                <DialogTitle> Estas Seguro de que quieres borrar esta publicacíon ? </DialogTitle>\r\n\r\n                <DialogActions>\r\n                    <Button disabled={loading} onClick={handleDelete} variant='contained' color=\"primary\">\r\n                    Si { loading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n                    </Button>\r\n                    <Button onClick={() => setOpen(false)} variant='contained' color=\"secondary\">\r\n                    Cancelar\r\n                    </Button> \r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { likeAPost, dislikeAPost } from '../../../../redux/actions/DataActions'\r\n// MUI\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport FavoriteIcon from '@material-ui/icons/Favorite'\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\n\r\nexport default function HandleLikes(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const connectedUser = useSelector(state => state.user.loggedUser)\r\n\r\n    const { likes, _id } = props.post\r\n\r\n    const liked = connectedUser && likes && likes.filter(like => like.user === connectedUser._id).length > 0 ? true : false\r\n\r\n    console.log(liked)\r\n\r\n       const handleLike = () => {\r\n        dispatch(likeAPost(_id))\r\n    }\r\n\r\n    const handleDislike = () => {\r\n        dispatch(dislikeAPost(_id))\r\n    }\r\n\r\n    return (\r\n            <div>\r\n                { liked ?\r\n                      <IconButton onClick={handleDislike}  aria-label='add to favorites'>\r\n                      <FavoriteIcon  /> { likes && likes.length }\r\n                  </IconButton>    \r\n           \r\n                :  \r\n                <IconButton  onClick={handleLike} aria-label='add to favorites'>\r\n                <FavoriteBorderIcon  /> { likes && likes.length }\r\n            </IconButton> \r\n          \r\n                }            \r\n            </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport DeletePost from './deletepost/DeletePost'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\nimport HandleLikes from './handlelikes/HandleLikes'\r\n// REDUX\r\nimport { useSelector } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SpeakerNotesIcon from '@material-ui/icons/SpeakerNotes'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { red } from '@material-ui/core/colors'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}))\r\n\r\nexport default function Post(props) {\r\n\r\n  const onSinglePost = useSelector(state => state.UI.onSinglePost)\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n \r\n  const { imageURL, description, date, userRef, _id, commentCount } = props.post\r\n\r\n  const classes = useStyles()\r\n \r\n  return (\r\n  <div style={{objectFit: 'cover', minWidth: 400}}>  \r\n    <Card elevation={8} style={{height: '100%', overflow: 'auto'}}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label='profile-pic' className={classes.avatar}>\r\n            <Link to={`/users/${userRef && userRef._id}`}> <img height={50} width={50} src={ userRef && userRef.profileImg} alt='profile-pic' /> </Link>\r\n          </Avatar>\r\n        }\r\n        action={\r\n        <div> \r\n          { userRef && userRef._id === connectedUser._id && < DeletePost post_id={_id}  /> }\r\n        </div>\r\n        }\r\n        title={userRef && userRef.username}\r\n        subheader={moment(date).format('LLL')}\r\n      />\r\n\r\n      <img src={imageURL} height={450} width={'100%'} alt='Post' /> \r\n\r\n      <CardContent>\r\n        <Typography variant='h6' color='textSecondary' component='p' style={{minHeight: 40, maxHeight: 40}}>\r\n        { description }\r\n        </Typography>\r\n\r\n        <Typography style={{marginTop: 20 }} variant='body2' color='textSecondary' component='p'>\r\n       \r\n        </Typography>\r\n      </CardContent>\r\n      \r\n      <CardActions disableSpacing>\r\n        < HandleLikes post={props.post} /> \r\n        < Link style={{textDecoration: 'none' }} to={`/posts/${_id}`}> \r\n      { !onSinglePost && <IconButton>  < SpeakerNotesIcon/>{commentCount}  </IconButton>  }\r\n        </Link>\r\n      </CardActions>\r\n    </Card>\r\n  </div>\r\n  )\r\n}","import React,{ useEffect } from 'react'\r\nimport Post from '../post/Post'\r\nimport { getAllPosts, getSubscriptionsPosts } from '../../../redux/actions/DataActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { CLEAN_POSTS } from '../../../redux/reducers/types'\r\n// MUI \r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function AllPosts(props) {\r\n\r\n const { allPosts, handlePosts } = props\r\n const dispatch = useDispatch()\r\n\r\n const loading = useSelector(state => state.UI.loading)\r\n\r\n useEffect(() => {\r\n    \r\n     if(handlePosts) {\r\n        dispatch(getSubscriptionsPosts())\r\n         \r\n     } else {\r\n        dispatch(getAllPosts())\r\n     }\r\n        \r\n    return () => {\r\n        dispatch({type: CLEAN_POSTS })\r\n    }\r\n\r\n }, [dispatch, handlePosts])\r\n\r\n    return (\r\n        <div> \r\n        { loading ? <div style={{display: 'flex', width: '100%', height: '100vh'}}> <CircularProgress style={{margin: 'auto'}} size={60} /> </div> : <div className={handlePosts ? 'allPosts-container' : 'allPosts-container-dos'}>\r\n            { allPosts.map((post, key) => < Post key={key} post={post} />) } \r\n            </div> }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PostsNavbar from './postsnavbar/PostsNavbar'\r\nimport AllPosts from './allposts/AllPosts'\r\n\r\nexport default function Posts() {\r\n\r\nconst allPosts = useSelector(state => state.data.allPosts)\r\n\r\nconst [ handlePosts, setHandlePosts ] = useState(true)\r\n\r\n    return (     \r\n        <div className='posts-container'>\r\n            < PostsNavbar setHandlePosts={setHandlePosts} handlePosts={handlePosts} /> \r\n            < AllPosts allPosts={allPosts} handlePosts={handlePosts} /> \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n// REDUX\r\nimport { CLEAR_ERROR } from '../../../redux/reducers/types'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { newPost } from '../../../redux/actions/DataActions'\r\n// MUI \r\nimport AddBoxIcon from '@material-ui/icons/AddBox'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport imagePreview from '../../../images/image-preview.png'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function AddPost() {\r\n\r\n    const dispatch = useDispatch()\r\n    const loading  = useSelector(state => state.UI.loading)\r\n    const stateErrors = useSelector(state => state.UI.errors)\r\n\r\n    const [ file, setFile ] = useState('')\r\n    const [image, setImage ] = useState('')\r\n    const [content, setContent ] = useState('')\r\n    const [open, setOpen] = useState(false)\r\n    const [errors, setErrors ] = useState('')\r\n\r\n    useEffect(() => {\r\n        console.log('working')\r\n        setErrors(stateErrors)\r\n    }, [stateErrors])\r\n    \r\n    const selectFile = (e) =>  {\r\n        e.preventDefault()\r\n        setFile(e.target.files[0])\r\n\r\n        if (e.target.files[0]) { \r\n            setImage(URL.createObjectURL(e.target.files[0]))\r\n        } else {\r\n            setImage('')\r\n        }\r\n    }\r\n\r\n    const pickFile = (e) => {\r\n        e.preventDefault()\r\n        dispatch({type: CLEAR_ERROR})\r\n        setErrors('')\r\n        const button = document.getElementById('file-input')\r\n        button.click()\r\n    }\r\n    \r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        setImage('')\r\n        setContent('')\r\n        setErrors('')\r\n        dispatch({type: CLEAR_ERROR})\r\n    }\r\n    const uploadPost = () => {\r\n\r\n        if(image) {\r\n            let formData = new FormData()\r\n            formData.append('image', file, file.name) \r\n            formData.append('description', content) \r\n           dispatch(newPost(formData))\r\n        } else {\r\n            setErrors('Debes seleccionar una imágen primero')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!loading && !errors) {\r\n            setOpen(false)\r\n        }\r\n       }, [loading, errors])\r\n\r\n    return (\r\n        <div className='add-post-container' placement='top'>\r\n            <ToolTip  title='Nuevo Post'> \r\n                < AddBoxIcon onClick={() => setOpen(true)} />\r\n            </ToolTip>\r\n\r\n            <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\" >\r\n                <DialogTitle> Nuevo Post </DialogTitle>\r\n\r\n                <DialogContent>\r\n                    <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                        \r\n                        <input hidden='hidden' id='file-input'\r\n                            type='file' placeholder='select an image' onChange={selectFile} />\r\n                            {image ? <img src={image} width={400} style={{margin: 'auto'}} height={400} alt='new post' /> \r\n                            : <img src={imagePreview} width={250} style={{margin: 'auto'}} height={250} alt='preview' />  }\r\n                        \r\n                        <Button onClick={pickFile} style={{marginTop: 30}} variant='outlined' color=\"primary\">\r\n                            Seleccionar Imágen\r\n                        </Button>\r\n\r\n                        <TextField\r\n                            style={{marginTop: 30}}\r\n                            name=\"descripcion\"\r\n                            tpye=\"text\"\r\n                            multiline\r\n                            rows=\"4\"\r\n                            placeholder=\"Si asi lo quieres, añade una descripción...\"\r\n                            value={content}\r\n                            onChange={(e) => setContent(e.target.value)}\r\n                            fullWidth\r\n                            inputProps={{ maxLength: 200 }}                            \r\n                        />\r\n                    </div>\r\n                        <p style={{color:'red', fontFamily: 'Open Sans', margin: 'auto'}}>  { errors && errors } </p>\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n            <Button disabled={loading} onClick={uploadPost} variant='contained' color=\"primary\">\r\n              Publicar!     { loading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n            </Button>\r\n            <Button onClick={handleClose} variant='contained' style={{backgroundColor: 'red'}} color=\"secondary\">\r\n              Cancelar\r\n            </Button>\r\n            \r\n          </DialogActions>\r\n        </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport LoggedUser from '../../components/loggeduser/LoggedUser'\r\nimport Posts from '../../components/posts/Posts'\r\nimport AddPost from '../../components/posts/addpost/AddPost'\r\n\r\nexport default function Home(props) {\r\n\r\n    return (\r\n        <div className='home-container'>       \r\n             < LoggedUser history={props.history} />\r\n             < Posts />\r\n             < AddPost />\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React,{ useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n// MUI Stuff\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n// REDUX\r\nimport { loginUser } from '../../redux/actions/UserActions'\r\n\r\n\r\nexport default function Login(props) {\r\n\r\nconst initialState = {\r\n  email: '',\r\n  password: ''\r\n}\r\n\r\nconst dispatch = useDispatch()\r\nconst errors = useSelector(state => state.user.errors)\r\nconst loading = useSelector(state => state.user.loading)\r\nconst [values, setValues] = useState(initialState)\r\n\r\nconst handleChange = (e) => {\r\n  setValues({\r\n    ...values,\r\n    [e.target.name]: e.target.value\r\n  })\r\n}\r\n\r\nconst handleSubmit = (e) => \r\n{\r\n  e.preventDefault()\r\n  dispatch(loginUser(values, props.history))\r\n  \r\n }\r\n    return (\r\n      <div className='login-container'>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n\r\n          <Typography variant='h3'>\r\n              Iniciar Sesión\r\n\r\n            </Typography>\r\n\r\n            <TextField\r\n              error={errors ? true : false}\r\n              id='email'\r\n              name='email'\r\n              type='email'\r\n              value={values.email}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              required\r\n              label='E-mail'\r\n              \r\n            />\r\n            <TextField\r\n              error={errors ? true : false}\r\n              inputProps={{ minLength: 6, maxLength: 20 }}\r\n              id='password'\r\n              name='password'\r\n              type='password'\r\n              value={values.password}\r\n              onChange={handleChange}\r\n              fullWidth\r\n              required\r\n              label='Contraseña'\r\n    \r\n            />\r\n            { errors && <p style={{color: 'red', fontFamily: 'Open Sans'}}> {errors.msg} </p>  }\r\n            <Button\r\n              disabled={loading}\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{margin: '25px auto 25px auto', background: '#046B86'}}\r\n            >\r\n            Ingresar!\r\n\r\n            { loading && <CircularProgress style={{marginLeft: 15}} size={30} /> } \r\n              \r\n            </Button>\r\n\r\n            <br />\r\n       \r\n            <small>\r\n            Si no tienes una cuenta, puedes <Link style={{textDecoration: 'none', color: '#046B86'}} to=\"/Register\"> Registrarte Aquí </Link>\r\n            </small>\r\n          </form>\r\n      </div>\r\n    );\r\n}\r\n\r\n","import React, { useState } from 'react'\r\n// REDUX\r\nimport { addComment } from '../../../redux/actions/DataActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& > *': {\r\n      width: '100%'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AddComment(props) {\r\n\r\nconst dispatch = useDispatch()\r\n\r\nconst [content, setContent] = useState('')\r\nconst classes = useStyles()\r\n\r\nconst handleComment = (e) => {\r\n    e.preventDefault()\r\n   if(content) {\r\n     console.log(content)\r\n    dispatch(addComment({ content }, props.selectedPost._id ))  \r\n    setContent('')  \r\n   }   \r\n}\r\n\r\n  return (\r\n    <form  className={classes.root} noValidate autoComplete=\"off\">\r\n\r\n                <TextField\r\n                    tpye=\"text\"\r\n                    label=\"Añade un comentario\"\r\n                    rows=\"2\"\r\n                    variant='filled'\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    fullWidth\r\n                    onKeyPress={(e) => {\r\n                        if (e.key === 'Enter') {\r\n                            handleComment(e) \r\n                        }\r\n                      }}    \r\n                />\r\n    </form>\r\n  );\r\n}","import React from 'react'\r\n// REDUX\r\nimport { deleteComment } from '../../../redux/actions/DataActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\n\r\nexport default function DeleteComment(props) {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deleteComment(props.comment_id, props.selectedPost._id))\r\n    }\r\n    return (\r\n        <div>\r\n            <ToolTip title=\"Borrar comentario\" placement=\"bottom\">\r\n                    <IconButton onClick={handleDelete} > \r\n                        <CancelIcon color=\"primary\"/>\r\n                    </IconButton> \r\n                  </ToolTip>\r\n        </div>\r\n    )\r\n}\r\n","import React,{ useState } from 'react'\r\n// REDUX\r\nimport { addReply } from '../../../redux/actions/DataActions'\r\nimport { useDispatch } from 'react-redux'\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& > *': {\r\n      width: '100%'\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function AddRepply(props) {\r\n\r\nconst dispatch = useDispatch()\r\n\r\nconst [content, setContent] = useState('')\r\nconst classes = useStyles()\r\n\r\nconst handleComment = (e) => {\r\n    e.preventDefault()\r\n   if(content) {\r\n       console.log('nani')\r\n    dispatch(addReply({ content }, props.comment._id ))  \r\n    setContent('')  \r\n   }   \r\n}\r\n\r\n  return (\r\n    <form  className={classes.root} noValidate autoComplete=\"off\">\r\n\r\n                <TextField\r\n                    tpye=\"text\"\r\n                    label=\"Escribe un mensaje\"\r\n                    rows=\"2\"\r\n                    variant='filled'\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    fullWidth\r\n                    onKeyPress={(e) => {\r\n                        if (e.key === 'Enter') {\r\n                            handleComment(e) \r\n                        }\r\n                      }}    \r\n                />\r\n    </form>\r\n  );\r\n}\r\n","import React,{ Fragment } from 'react'\r\nimport moment from 'moment'\r\nimport AddComment from './addcomment/AddComment'\r\nimport DeleteComment from './deletecomment/DeleteComment'\r\nimport AddReply from './addReply/AddRepply'\r\n// REDUX\r\nimport { useSelector } from 'react-redux'\r\n// MUI \r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: '90%',\r\n    overflow: 'auto',\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  ExpansionPanelSummary: {\r\n    border: 0,\r\n    width: '100%',\r\n    boxShadow: 'none'\r\n  },\r\n  ExpansionPanel: {\r\n    border: 0,\r\n    boxShadow: 'none',\r\n    width: '100%'\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nexport default function CommentsList(props) {\r\n\r\n  const connectedUser = useSelector(state => state.user.loggedUser)\r\n  const classes = useStyles()\r\n\r\n  return (\r\n  <div style={{width: '50%'}}> \r\n    < AddComment selectedPost={props.selectedPost} />  \r\n    <List className={classes.root}>\r\n    <div style={{width: '100%'}}> \r\n    { props.comments.map((comment, key) => \r\n        <Fragment key={key}> \r\n            <ListItem id='comment-box' alignItems=\"flex-start\" >\r\n                <ListItemAvatar>\r\n                <Avatar alt=\"comment profile\" src={comment.user_id && comment.user_id.profileImg} />\r\n                </ListItemAvatar>\r\n              \r\n              <div style={{width: '100%'}}>\r\n                <div > \r\n                  <ListItemText\r\n                      primary={comment.user_id && comment.user_id.username}\r\n                      secondary={moment(comment.date).format('LLL')}\r\n                  />\r\n                <span style={{position: 'absolute', right: 0, top: 0}}>\r\n                  { connectedUser._id === comment.user_id._id &&\r\n                   < DeleteComment comment_id={comment._id} selectedPost={props.selectedPost}  />\r\n                  }\r\n                </span>  \r\n                </div>\r\n                <ListItemText\r\n                    primary={comment.content}\r\n                />\r\n                <ExpansionPanel className={classes.ExpansionPanel} style={{margin: 0, outline: 'none'}}>\r\n                  <ExpansionPanelSummary className={classes.ExpansionPanelSummary}>\r\n                    <ListItemText secondary={`responder (${comment.replys.length})`}/>\r\n                  </ExpansionPanelSummary>\r\n                  <ExpansionPanelDetails style={{width: '100%'}}>\r\n                   <div style={{ width: '100%', display: 'flex', flexDirection: 'column', maxHeight: 400, overflow: 'auto'}}>\r\n                    < AddReply comment={comment} selectedPost={props.selectedPost} />\r\n                    {comment.replys && comment.replys.map((reply, key) =>\r\n                    <div key={key}>\r\n                    \r\n                        <div>\r\n                          <div > \r\n                            <ListItemText\r\n                                primary={reply.username}\r\n                                secondary={moment(reply.date).format('LLL')}\r\n                            />\r\n                          </div>\r\n                          <ListItemText\r\n                              primary={reply.content}\r\n                          />\r\n                        </div>\r\n                    \r\n                      <Divider variant=\"inset\" component=\"span\" />\r\n                       </div>\r\n                    )}\r\n                  </div> \r\n                  </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n              </div>     \r\n            </ListItem>\r\n                  \r\n            <Divider variant=\"inset\" component=\"li\" />\r\n            \r\n        </Fragment>  \r\n    )}\r\n    </div>\r\n    \r\n    </List>\r\n    \r\n  </div>   \r\n  )}","import React, { useEffect } from 'react'\r\nimport Post from '../../components/posts/post/Post'\r\nimport CommentsList from '../../components/commentlist/CommentsList'\r\n// REDUX\r\nimport { getPost, getPostComments } from '../../redux/actions/DataActions'\r\nimport { getConnectedUser } from '../../redux/actions/UserActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ON_SINGLE_POST, CLOSE_SINGLE_POST } from '../../redux/reducers/types'\r\n// MUI\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function FullPost(props) {\r\n    \r\n    const post_id = props.match.params.id\r\n\r\n    const dispatch = useDispatch()\r\n    const selectedPost = useSelector(state => state.data.selectedPost)\r\n    const comments = useSelector(state => state.data.comments)\r\n    const loading = useSelector(state => state.UI.loading)\r\n\r\n    useEffect(() => {\r\n        dispatch(getConnectedUser())\r\n    }, [dispatch])\r\n\r\n    useEffect(() => { \r\n    dispatch(getPost(post_id, props.history))\r\n    dispatch(getPostComments(post_id))   \r\n    }, [dispatch, post_id, props.history])\r\n\r\n    useEffect(() => {\r\n        dispatch({type: ON_SINGLE_POST})\r\n        return () => {\r\n          dispatch({type: CLOSE_SINGLE_POST})\r\n        };\r\n      }, [dispatch])\r\n    \r\n    useEffect(() => {\r\n\r\n        if(selectedPost === '') {\r\n            props.history.push('/Home')\r\n        }\r\n         \r\n    }, [selectedPost, props.history])\r\n\r\n    return (\r\n        <div  className='fullPost-container'>\r\n\r\n        { loading ? <div style={{display: 'flex', width: '100%'}}> <CircularProgress style={{margin: 'auto'}} size={30} /> </div>\r\n        \r\n        : \r\n           <div className='fullPost-content-container'>\r\n                  <Post post={selectedPost} />\r\n                  < CommentsList comments={comments} selectedPost={selectedPost} /> \r\n            </div> }\r\n         \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Post from '../post/Post'\r\n\r\nexport default function ProfilePosts(props) {\r\n\r\n const { posts } = props\r\n\r\n    return (\r\n        <div className='profilePosts-container'>\r\n         { posts.map((post, key) => < Post key={key} post={post} />) } \r\n        </div>\r\n    )\r\n}","import React,{Fragment, useState } from 'react'\r\n// REDUX\r\nimport { useDispatch } from 'react-redux'\r\nimport { editProfileImage } from '../../redux/actions/UserActions'\r\n// MUI \r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\n\r\nexport default function ProfileImg(props) {\r\n\r\n    const { user_id, connectedUser } = props\r\n\r\n    const [ open, setOpen ] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const selectFile = (e) =>  {\r\n\r\n        e.preventDefault()\r\n        const file = e.target.files[0]\r\n        const formData = new FormData()\r\n        formData.append('image', file, file.name) \r\n        console.log(formData)\r\n   \r\n        if(formData) {\r\n            dispatch(editProfileImage(formData, user_id))\r\n            setOpen(false)    \r\n        }\r\n    }\r\n\r\n    const pickFile = (e) => {\r\n        e.preventDefault()\r\n        const button = document.getElementById('file-input')\r\n        button.click()\r\n    }\r\n\r\n    return (\r\n        \r\n        <div>\r\n            {connectedUser === user_id ?\r\n            < Fragment> \r\n            <img src={props.src} alt='profile' width={170} height={170} onClick={() => setOpen(true)} style={{cursor: 'pointer'}}/>\r\n            <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"sm\" >\r\n                <DialogTitle> Cambiar foto de perfil </DialogTitle>\r\n\r\n                <DialogContent>\r\n                    <form style={{display: 'flex', flexDirection: 'column'}}>\r\n\r\n                        <input required hidden='hidden' id='file-input'\r\n                        type='file' placeholder='select an image' onChange={selectFile} />\r\n                        \r\n                        <Button onClick={pickFile} variant='outlined' color=\"primary\">\r\n                            Subir Foto\r\n                        </Button>\r\n\r\n                    </form>\r\n\r\n                </DialogContent>\r\n\r\n                <DialogActions>\r\n            <Button onClick={() => setOpen(false)} variant='contained' color=\"secondary\">\r\n              Cancelar\r\n            </Button>\r\n            \r\n          </DialogActions>\r\n        </Dialog>\r\n        </Fragment>\r\n        : \r\n        <Fragment> \r\n             <img src={props.src} alt='profile' width={150} height={150} />\r\n        </Fragment>\r\n        }\r\n        </div> \r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react'\r\n// REDUX\r\nimport { addUserDetails } from '../../redux/actions/UserActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// MUI\r\nimport ToolTip from '@material-ui/core/Tooltip'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function EditDetails(props) {\r\n\r\n    const dispatch = useDispatch()\r\n    const loading = useSelector(state => state.UI.loading)\r\n\r\n    const { description, user_id } = props\r\n    console.log(description)\r\n\r\n    const [ open, setOpen ] = useState(false)\r\n    const [ details, setDetails ] = useState('')\r\n    const [ errors, setErrors ] = useState('')\r\n\r\n    useEffect(() => {    \r\n        if(description) {\r\n            setDetails(description)\r\n        } \r\n    }, [description])\r\n\r\n    useEffect(() => {\r\n        if(!loading && !errors) {\r\n            setOpen(false)\r\n        }\r\n       }, [loading, errors])\r\n\r\n    const handleEdit = () => {\r\n\r\n        if(details.trim() === '') {\r\n            setErrors('No debe estar vacío')\r\n        }\r\n        dispatch(addUserDetails(details, user_id))\r\n    }\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true)\r\n        setDetails(description)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        setErrors('')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ToolTip title=\"Editar Perfil\" placement='left' > \r\n                <IconButton onClick={handleOpen} aria-label='delete' style={{height: 50, color: '#e5e5e5'}}>\r\n                    < EditIcon />                   \r\n                </IconButton>\r\n            </ToolTip> \r\n\r\n            <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"sm\" >\r\n              <div style={{margin: '20px auto 20px auto', width:'85%'}}> \r\n                <TextField\r\n                    tpye=\"text\"\r\n                    label=\"Descripción\"\r\n                    multiline\r\n                    rows=\"4\"\r\n                    placeholder='Añade una descripción a tu perfil'\r\n                    value={details}\r\n                    onChange={(e) => setDetails(e.target.value)}\r\n                    fullWidth\r\n                />\r\n              </div>\r\n                { errors && <p style={{color: 'red', fontFamily: 'Open Sans', marginLeft: 40}}> {errors} </p>  }\r\n                \r\n                <DialogActions>\r\n                    <Button onClick={handleEdit} disabled={loading} variant='contained' color=\"primary\">\r\n                    Guardar { loading && <CircularProgress style={{marginLeft: 5}} size={20} /> } \r\n                    </Button>\r\n                    <Button onClick={handleClose} variant='contained' style={{backgroundColor: 'red'}} color=\"secondary\">\r\n                    Cancelar\r\n                    </Button> \r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}\r\n","import React,{ useEffect, useState } from 'react'\r\n// REDUX\r\nimport { followUser, unfollowUser } from '../../redux/actions/UserActions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// MUI\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function HandleFollow(props) {\r\n\r\n   const { userProfile, connectedUser } = props\r\n   const user_id = userProfile._id\r\n\r\n   console.log(userProfile.followers)\r\n\r\n   const dispatch = useDispatch()\r\n   const [isFollowed, setIsFollowed] = useState()\r\n   const loading = useSelector(state => state.user.loading)\r\n\r\n   useEffect(() => {\r\n\r\n        let subscription = connectedUser.subscriptions && connectedUser.subscriptions.filter(subscript => subscript.user_id === user_id)\r\n        if(subscription && subscription.length >= 1) { setIsFollowed(true) } else { setIsFollowed(false) }\r\n\r\n   }, [connectedUser, user_id])\r\n\r\n    const handleFollow =  () => {\r\n     dispatch(followUser(user_id))\r\n    }\r\n\r\n   const handleUnfollow = () => {\r\n     dispatch(unfollowUser((user_id )))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { isFollowed ? \r\n            \r\n            <Button disabled={loading} onClick={handleUnfollow} style={{marginLeft: 10}} variant='contained' \r\n            color='primary' size='small' > Siguiendo { loading && <CircularProgress style={{marginLeft: 5}} size={20} /> } \r\n            </Button> \r\n            \r\n            : \r\n\r\n            <Button disabled={loading} onClick={handleFollow} style={{marginLeft: 10}} variant='contained' \r\n            size='small' > Seguir { loading && <CircularProgress style={{marginLeft: 5}} size={20} /> }  \r\n            </Button> }\r\n        </div>\r\n    )\r\n}\r\n","import React,{ Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// MUI\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\r\nimport Avatar from '@material-ui/core/Avatar'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n    },\r\n  }));\r\n\r\nexport default function SubsFollowersList(props) {\r\n\r\n   const { open, userList, setOpen, userProps } = props\r\n   const classes = useStyles() \r\n\r\n   console.log(userList)\r\n\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <Dialog children='div' open={open} onClose={handleClose} fullWidth maxWidth=\"sm\" >\r\n            <div>\r\n                <List \r\n                    style={{width: '100%'}}\r\n                    component=\"nav\"\r\n                    aria-labelledby=\"nested-list-subheader\"\r\n                    subheader={\r\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                    \r\n                    \r\n                    { userProps ? 'Seguidores' : 'Seguidos' } < hr/>\r\n                    {userList && userList.length === 0 && userProps ? 'Esta cuenta no tiene seguidores' : userList && userList.length === 0 && !userProps && 'Esta cuenta no sigue a nadie'}\r\n                    </ListSubheader>\r\n                    }\r\n                    className={classes.root}>\r\n\r\n                    { userList && userList.map((user, key) =>\r\n\r\n                    <Fragment key={key}>\r\n                         \r\n                        <Link onClick={() => setOpen(false)} style={{textDecoration: 'none'}} to={`/users/${user.user_id}`} >\r\n                        <ListItem button className={classes.nested} >\r\n                            <ListItemAvatar>\r\n                            <Avatar\r\n                                src={user.profileImg}\r\n                            />\r\n                            </ListItemAvatar>\r\n                            <ListItemText  secondary={user.username} />\r\n                        </ListItem>\r\n                    </Link>\r\n                    </Fragment>                   \r\n                    )} \r\n                </List>\r\n            </div>\r\n        </Dialog>\r\n    )\r\n}\r\n","import React,{ useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport ProfilePosts from '../../components/posts/profileposts/ProfilePosts'\r\nimport ProfileImg from '../../components/profile-img/ProfileImg'\r\nimport AddPost from '../../components/posts/addpost/AddPost'\r\nimport EditDetails from '../../components/editdetails/EditDetails'\r\nimport HandleFollow from '../../components/handleFollow/HandleFollow'\r\nimport SubsFollowersList from '../../components/subs-followers-list/SubsFollowersList'\r\n// REDUX\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUserPosts } from '../../redux/actions/DataActions'\r\nimport { getUserProfile, getConnectedUser } from '../../redux/actions/UserActions'\r\n// MUI\r\nimport Button from '@material-ui/core/Button'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nexport default function Profile(props) {\r\n\r\n    const [userProps, setUserProps ] = useState(true)\r\n    const [ open, setOpen ] = useState(false)\r\n\r\n    const dispatch = useDispatch()\r\n    const user_id = props.match.params.id\r\n\r\n    const loading = useSelector(state => state.UI.loading)\r\n    const connectedUser = useSelector(state => state.user.loggedUser)\r\n    const userProfile = useSelector(state => state.data.selectedProfile)\r\n    const { subscriptions, followers, description, profileImg, username } = userProfile\r\n    const userPosts = useSelector(state => state.data.selectedPosts)\r\n\r\n    useEffect(() => {\r\n    dispatch(getConnectedUser())\r\n    dispatch(getUserProfile(user_id))\r\n    dispatch(getUserPosts(user_id))\r\n        \r\n    }, [dispatch, user_id])\r\n\r\n     // AGREGAR ELIMINAR DATOS DEL PERFIL AL CERRAR EL COMPONENTE\r\n\r\n    const setFollowers = () => {\r\n    setOpen(true)\r\n    setUserProps(true)\r\n    }\r\n\r\n    const setSubscriptions = () => {\r\n        setOpen(true)\r\n        setUserProps(false)\r\n    }\r\n   \r\n    return (\r\n        <div className='profile-container'>\r\n            <Link to='/Home'>\r\n               < HomeIcon style={{color: '#e5e5e5', margin: 25, fontSize: 40}} />\r\n            </Link >\r\n              \r\n            { connectedUser._id === user_id && < AddPost /> }\r\n            <div className='profile-data'>\r\n                <div className='data-container'> \r\n                   < ProfileImg src={profileImg} user_id={user_id} connectedUser={connectedUser._id} />\r\n\r\n                    <div className='profile-info'>\r\n                        <span style={{display: 'flex', alignItems: 'flex-end' }}> <h1> {username} </h1> { connectedUser._id !== user_id &&  < HandleFollow userProfile={userProfile} connectedUser={connectedUser} /> } </span> \r\n                        <p>  {description && description } </p>\r\n\r\n                        <div className='profile-button-container'> \r\n                            <Button  \r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{margin: '25px auto 25px auto', background: '#e5e5e5', color: 'black'}}onClick={setFollowers} >  { followers && followers.length } Seguidores </Button>\r\n                            <Button \r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                style={{margin: '25px auto 25px auto', background: '#e5e5e5', color: 'black'}} onClick={setSubscriptions}> { subscriptions && subscriptions.length } Seguidos </Button>\r\n\r\n                            < SubsFollowersList userProps={userProps} open={open} setOpen={setOpen} userList={userProps ? followers : subscriptions } />\r\n                         </div>     \r\n                    </div>\r\n                    {connectedUser._id === user_id &&\r\n                    < EditDetails user_id={user_id} description={description} />\r\n                    }\r\n                </div>   \r\n            </div>\r\n            <div className='profile-posts-container'> \r\n           \r\n           { loading ? <div style={{display: 'flex', width: '100%', height: '20vh'}}> <CircularProgress style={{margin: 'auto'}} size={60} /> </div> :  <ProfilePosts posts={userPosts} /> } \r\n            </div>\r\n         \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <div className='notFound-container'>\r\n            <div className='notFound-text-container'>\r\n                <h1> E404</h1>\r\n                <h2>Lo sentimos. la página que buscas no existe.</h2>\r\n                <h2> Volver al <Link to='/Home' style={{textDecoration: 'none'}}> <span> Inicio </span> </Link></h2> \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { AUTHENTICATED, SET_ERRORS, LOADING, LOADED, USER_LOGGED, UNAUTHENTICATED, CLEAR_ERRORS } from './types'\r\n\r\nconst initialState = {\r\n    loggedUser: {},\r\n    authenticated: false,\r\n    loading: false,\r\n    errors: '' \r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch(action.type) {\r\n        case AUTHENTICATED:\r\n            return {\r\n                ...state,\r\n                authenticated: true\r\n            }\r\n        case SET_ERRORS: \r\n            return {\r\n                ...state,\r\n                errors: action.payload\r\n            }\r\n        case LOADING: \r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n        case USER_LOGGED: {\r\n            return {\r\n                ...state,\r\n                loggedUser: { ...action.payload }\r\n            }\r\n        }\r\n        case UNAUTHENTICATED: {\r\n            return {\r\n                ...state,\r\n                authenticated: false\r\n            }\r\n        }\r\n        case CLEAR_ERRORS: {\r\n            return {\r\n                ...state,\r\n                errors: ''\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n}","import { CLEAN_POSTS, GET_ALL_POSTS, SET_SELECTED_PROFILE,\r\n         SET_SELECTED_POSTS, SET_NEW_POST, DELETE_POST,\r\n         DATA_LOADING, DATA_LOADED, SET_SUBSCRIPTIONS_POSTS, \r\n         SET_USERS, SET_POST, SET_REPLYS, SET_LIKES,\r\n         SET_POST_COMMENTS, SET_DISLIKE } from './types'\r\n\r\nconst initialState = {\r\n    allPosts: [],\r\n    loading: false,\r\n    selectedProfile: {},\r\n    selectedPosts: [],\r\n    usersList: [],\r\n    selectedPost: {},\r\n    comments: []\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_ALL_POSTS:\r\n            return {\r\n                ...state,\r\n                allPosts: [...action.payload ],\r\n                selectedPost: {}\r\n            }\r\n        case SET_SELECTED_PROFILE: \r\n            return {\r\n                ...state,\r\n                selectedProfile: { ...action.payload }\r\n            }\r\n        case SET_SELECTED_POSTS:\r\n            return {\r\n                ...state,\r\n                selectedPosts: [ ...action.payload ]\r\n            }\r\n        case SET_NEW_POST:\r\n            return {\r\n                ...state,\r\n                allPosts: [ { ...action.payload }, ...state.allPosts ],\r\n                selectedPosts: [ { ...action.payload }, ...state.selectedPosts ]\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                allPosts: state.allPosts.filter(post => post._id !== action.payload),\r\n                selectedPosts: state.selectedPosts.filter(post => post._id !== action.payload),\r\n                selectedPost: ''\r\n            }\r\n        case DATA_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n        }\r\n        case DATA_LOADED:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n        }\r\n        case SET_SUBSCRIPTIONS_POSTS: \r\n            console.log(action.payload)\r\n            return {\r\n                ...state,\r\n                allPosts: [...action.payload]\r\n            }\r\n        case CLEAN_POSTS:\r\n            return {\r\n                ...state,\r\n                allPosts: []\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                usersList: [...action.payload ]\r\n            }\r\n        case SET_POST:\r\n            return {\r\n                ...state,\r\n                selectedPost: { ...action.payload }\r\n            } \r\n        case SET_POST_COMMENTS: \r\n            return {\r\n                ...state,\r\n                comments: [ ...action.payload ] \r\n            }\r\n        case SET_REPLYS: {\r\n            console.log(action.payload)\r\n            return {\r\n                ...state,\r\n                comments: state.comments.map(comment => {\r\n                    if(comment._id === action.payload._id) {\r\n                        return comment = action.payload\r\n                    }\r\n                    return comment\r\n                })\r\n            }\r\n        }    \r\n        case SET_LIKES:\r\n        case SET_DISLIKE: \r\n            return { ...state,\r\n             allPosts: state.allPosts.map(post => {\r\n                if (post._id === action.payload._id) {\r\n                  return {...post, likes: [...action.payload.likes]}\r\n                };\r\n                return post;\r\n              }),\r\n             selectedPosts: state.selectedPosts.map(post => {\r\n                 if(post._id === action.payload._id) {\r\n                     return {...post, likes: [...action.payload.likes ]}\r\n                 }\r\n                 return post;\r\n             }),\r\n             selectedPost: {...state.selectedPost, likes: [...action.payload.likes]}\r\n            }            \r\n        default: return state\r\n    }\r\n}","import { SET_LOADED, SET_LOADING, SET_ERROR, CLEAR_ERROR, CLOSE_SINGLE_POST, ON_SINGLE_POST } from './types'\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    errors: '',\r\n    onSinglePost: false\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        default:\r\n             return state\r\n    case SET_LOADING: \r\n        return {\r\n            ...state,\r\n            loading: true\r\n        }\r\n    case SET_LOADED:\r\n        return {\r\n            ...state,\r\n            loading: false\r\n        }\r\n    case SET_ERROR:\r\n        console.log(action.payload)\r\n        return {\r\n            ...state,\r\n            errors: action.payload\r\n        }\r\n    case CLEAR_ERROR:\r\n        return {\r\n            ...state,\r\n            errors: ''\r\n        }\r\n    case ON_SINGLE_POST:\r\n        return {\r\n            ...state,\r\n            onSinglePost: true\r\n        }\r\n    case CLOSE_SINGLE_POST:\r\n        return {\r\n            ...state,\r\n            onSinglePost: false\r\n        }\r\n    }\r\n}","import { createStore, combineReducers, compose, applyMiddleware } from 'redux'\r\nimport userReducer from '../reducers/userReducer'\r\nimport dataReducer from '../reducers/DataReducer'\r\nimport UIReducer from '../reducers/UIReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst reducers = combineReducers ({\r\n    user: userReducer,\r\n    data: dataReducer,\r\n    UI: UIReducer\r\n})\r\n\r\nconst Store = createStore(reducers, compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\r\n  ))\r\n\r\n export default Store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport Store from './redux/store/Store'\nimport './index.scss'\nReactDOM.render(<Provider store={Store}> <App /> </Provider>, document.getElementById('root'))\n\nserviceWorker.unregister()\n","import React,{ Fragment } from 'react'\nimport { HashRouter, Switch, Route } from 'react-router-dom'\nimport axios from 'axios'\nimport jwtDecode from 'jwt-decode'\n//Auth Route\nimport ProtectedRoute from './routes/AuthRoute'\nimport RestrictedRoute from './routes/RestrictedRoutes'\n// REDUX\nimport { AUTHENTICATED } from './redux/reducers/types'\nimport { logOutUser } from './redux/actions/UserActions'\nimport { useSelector, useDispatch } from 'react-redux'\n//PAGES\nimport Register from './pages/register/Register'\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport FullPost from './pages/fullpost/FullPost'\nimport Profile from './pages/profile/Profile'\nimport NotFound from './pages/notfound/NotFound'\n\n\nexport default function App() {\n\n  const authenticated = useSelector(state => state.user.authenticated)\n\n  const dispatch = useDispatch()\n\n  let token = localStorage.getItem('x-auth-token')\n\n  if(token) {    \n  const decodedToken = jwtDecode(token)\n  axios.defaults.headers.common['Authorization'] = token   \n  dispatch({ type: AUTHENTICATED })\n\n    if(decodedToken.exp * 1000 < Date.now()) {\n    dispatch(logOutUser()) \n    }\n  }\n\n  return (\n    <Fragment> \n      <HashRouter>\n        <Switch>\n          <RestrictedRoute exact path='/Register' authenticated={authenticated} component={Register} />\n          <ProtectedRoute exact path=\"/Home\"      authenticated={authenticated} component={Home} />\n          <RestrictedRoute exact path='/'         authenticated={authenticated} component={Login} />\n          <ProtectedRoute exact path='/users/:id' authenticated={authenticated} component={Profile} />\n          <ProtectedRoute exact path='/posts/:id' authenticated={authenticated} component={FullPost} />\n          <Route exact path='*' component={NotFound} /> \n        </Switch>  \n      </HashRouter>\n    </Fragment>\n  );\n}\n\n"],"sourceRoot":""}